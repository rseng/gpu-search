# https://github.com/amusecode/amuse

```console
aclocal.m4:m4_include([m4/cuda.m4])
aclocal.m4:m4_include([m4/opencl.m4])
support/config.py:class cuda(object):
support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
support/config.py:    toolkit_path = configmk["CUDA_TK"]
support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
support/setup_codes.py:        self.found_cuda = False
support/setup_codes.py:        self.set_cuda_variables()
support/setup_codes.py:    def set_cuda_variables(self):
support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
support/setup_codes.py:            self.found_cuda = True
support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
support/setup_codes.py:            self.found_cuda = True
support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
support/setup_codes.py:            self.found_cuda = False
support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
support/setup_codes.py:        self.found_cuda = True
support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
support/setup_codes.py:    def is_cuda_needed(self, string):
support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
support/setup_codes.py:        is_cuda_needed = list()
support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
support/setup_codes.py:                    is_cuda_needed.append(shortname)
support/setup_codes.py:            or is_cuda_needed
support/setup_codes.py:            if is_cuda_needed:
support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
support/setup_codes.py:                for x in is_cuda_needed:
.zenodo.json:            "affiliation": "Nvidia",
packages/amuse-mikkola/support/config.py:class cuda(object):
packages/amuse-mikkola/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-mikkola/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-mikkola/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-mikkola/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-mikkola/support/setup_codes.py:        self.found_cuda = False
packages/amuse-mikkola/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-mikkola/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-mikkola/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-mikkola/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mikkola/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-mikkola/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-mikkola/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-mikkola/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-mikkola/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-mikkola/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-mikkola/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-mikkola/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mikkola/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-mikkola/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-mikkola/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-mikkola/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-mikkola/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-mikkola/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-mikkola/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-mikkola/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mikkola/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mikkola/support/setup_codes.py:            self.found_cuda = False
packages/amuse-mikkola/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mikkola/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-mikkola/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-mikkola/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mikkola/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mikkola/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-mikkola/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-mikkola/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mikkola/support/setup_codes.py:        self.found_cuda = True
packages/amuse-mikkola/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-mikkola/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-mikkola/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-mikkola/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-mikkola/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-mikkola/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-mikkola/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-mikkola/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-mikkola/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mikkola/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-mikkola/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mikkola/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-mikkola/support/setup_codes.py:            or is_cuda_needed
packages/amuse-mikkola/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-mikkola/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-mikkola/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-smalln/support/config.py:class cuda(object):
packages/amuse-smalln/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-smalln/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-smalln/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-smalln/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-smalln/support/setup_codes.py:        self.found_cuda = False
packages/amuse-smalln/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-smalln/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-smalln/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-smalln/support/setup_codes.py:            self.found_cuda = True
packages/amuse-smalln/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-smalln/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-smalln/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-smalln/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-smalln/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-smalln/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-smalln/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-smalln/support/setup_codes.py:            self.found_cuda = True
packages/amuse-smalln/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-smalln/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-smalln/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-smalln/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-smalln/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-smalln/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-smalln/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-smalln/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-smalln/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-smalln/support/setup_codes.py:            self.found_cuda = False
packages/amuse-smalln/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-smalln/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-smalln/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-smalln/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-smalln/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-smalln/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-smalln/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-smalln/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-smalln/support/setup_codes.py:        self.found_cuda = True
packages/amuse-smalln/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-smalln/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-smalln/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-smalln/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-smalln/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-smalln/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-smalln/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-smalln/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-smalln/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-smalln/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-smalln/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-smalln/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-smalln/support/setup_codes.py:            or is_cuda_needed
packages/amuse-smalln/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-smalln/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-smalln/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-smalln/src/amuse/community/smalln/src/stdinc.h:#endif				// on GPU: not fully tested
packages/amuse-tutorial/support/config.py:class cuda(object):
packages/amuse-tutorial/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-tutorial/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-tutorial/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-tutorial/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-tutorial/support/setup_codes.py:        self.found_cuda = False
packages/amuse-tutorial/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-tutorial/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-tutorial/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-tutorial/support/setup_codes.py:            self.found_cuda = True
packages/amuse-tutorial/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-tutorial/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-tutorial/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-tutorial/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-tutorial/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-tutorial/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-tutorial/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-tutorial/support/setup_codes.py:            self.found_cuda = True
packages/amuse-tutorial/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-tutorial/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-tutorial/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-tutorial/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-tutorial/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-tutorial/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-tutorial/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-tutorial/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-tutorial/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-tutorial/support/setup_codes.py:            self.found_cuda = False
packages/amuse-tutorial/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-tutorial/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-tutorial/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-tutorial/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-tutorial/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-tutorial/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-tutorial/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-tutorial/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-tutorial/support/setup_codes.py:        self.found_cuda = True
packages/amuse-tutorial/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-tutorial/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-tutorial/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-tutorial/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-tutorial/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-tutorial/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-tutorial/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-tutorial/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-tutorial/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-tutorial/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-tutorial/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-tutorial/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-tutorial/support/setup_codes.py:            or is_cuda_needed
packages/amuse-tutorial/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-tutorial/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-tutorial/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse/support/config.py:class cuda(object):
packages/amuse/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse/support/setup_codes.py:        self.found_cuda = False
packages/amuse/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse/support/setup_codes.py:            self.found_cuda = True
packages/amuse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse/support/setup_codes.py:            self.found_cuda = True
packages/amuse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse/support/setup_codes.py:            self.found_cuda = False
packages/amuse/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse/support/setup_codes.py:        self.found_cuda = True
packages/amuse/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse/support/setup_codes.py:            or is_cuda_needed
packages/amuse/support/setup_codes.py:            if is_cuda_needed:
packages/amuse/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-athena/support/config.py:class cuda(object):
packages/amuse-athena/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-athena/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-athena/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-athena/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-athena/support/setup_codes.py:        self.found_cuda = False
packages/amuse-athena/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-athena/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-athena/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-athena/support/setup_codes.py:            self.found_cuda = True
packages/amuse-athena/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-athena/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-athena/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-athena/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-athena/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-athena/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-athena/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-athena/support/setup_codes.py:            self.found_cuda = True
packages/amuse-athena/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-athena/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-athena/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-athena/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-athena/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-athena/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-athena/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-athena/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-athena/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-athena/support/setup_codes.py:            self.found_cuda = False
packages/amuse-athena/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-athena/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-athena/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-athena/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-athena/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-athena/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-athena/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-athena/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-athena/support/setup_codes.py:        self.found_cuda = True
packages/amuse-athena/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-athena/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-athena/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-athena/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-athena/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-athena/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-athena/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-athena/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-athena/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-athena/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-athena/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-athena/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-athena/support/setup_codes.py:            or is_cuda_needed
packages/amuse-athena/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-athena/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-athena/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-sse/support/config.py:class cuda(object):
packages/amuse-sse/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-sse/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-sse/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-sse/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-sse/support/setup_codes.py:        self.found_cuda = False
packages/amuse-sse/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-sse/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-sse/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-sse/support/setup_codes.py:            self.found_cuda = True
packages/amuse-sse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-sse/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-sse/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-sse/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-sse/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-sse/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-sse/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-sse/support/setup_codes.py:            self.found_cuda = True
packages/amuse-sse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-sse/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-sse/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-sse/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-sse/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-sse/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-sse/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-sse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-sse/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-sse/support/setup_codes.py:            self.found_cuda = False
packages/amuse-sse/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-sse/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-sse/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-sse/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-sse/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-sse/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-sse/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-sse/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-sse/support/setup_codes.py:        self.found_cuda = True
packages/amuse-sse/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-sse/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-sse/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-sse/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-sse/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-sse/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-sse/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-sse/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-sse/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-sse/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-sse/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-sse/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-sse/support/setup_codes.py:            or is_cuda_needed
packages/amuse-sse/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-sse/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-sse/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-capreole/support/config.py:class cuda(object):
packages/amuse-capreole/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-capreole/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-capreole/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-capreole/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-capreole/support/setup_codes.py:        self.found_cuda = False
packages/amuse-capreole/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-capreole/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-capreole/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-capreole/support/setup_codes.py:            self.found_cuda = True
packages/amuse-capreole/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-capreole/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-capreole/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-capreole/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-capreole/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-capreole/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-capreole/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-capreole/support/setup_codes.py:            self.found_cuda = True
packages/amuse-capreole/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-capreole/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-capreole/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-capreole/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-capreole/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-capreole/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-capreole/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-capreole/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-capreole/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-capreole/support/setup_codes.py:            self.found_cuda = False
packages/amuse-capreole/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-capreole/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-capreole/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-capreole/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-capreole/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-capreole/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-capreole/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-capreole/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-capreole/support/setup_codes.py:        self.found_cuda = True
packages/amuse-capreole/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-capreole/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-capreole/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-capreole/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-capreole/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-capreole/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-capreole/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-capreole/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-capreole/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-capreole/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-capreole/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-capreole/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-capreole/support/setup_codes.py:            or is_cuda_needed
packages/amuse-capreole/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-capreole/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-capreole/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-hermite-grx/support/config.py:class cuda(object):
packages/amuse-hermite-grx/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-hermite-grx/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-hermite-grx/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-hermite-grx/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-hermite-grx/support/setup_codes.py:        self.found_cuda = False
packages/amuse-hermite-grx/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-hermite-grx/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-hermite-grx/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-hermite-grx/support/setup_codes.py:            self.found_cuda = True
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-hermite-grx/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-hermite-grx/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-hermite-grx/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-hermite-grx/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-hermite-grx/support/setup_codes.py:            self.found_cuda = True
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-hermite-grx/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-hermite-grx/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-hermite-grx/support/setup_codes.py:            self.found_cuda = False
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-hermite-grx/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-hermite-grx/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-hermite-grx/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-hermite-grx/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-hermite-grx/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-hermite-grx/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-hermite-grx/support/setup_codes.py:        self.found_cuda = True
packages/amuse-hermite-grx/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-hermite-grx/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-hermite-grx/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-hermite-grx/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-hermite-grx/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-hermite-grx/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-hermite-grx/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-hermite-grx/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-hermite-grx/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-hermite-grx/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-hermite-grx/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-hermite-grx/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-hermite-grx/support/setup_codes.py:            or is_cuda_needed
packages/amuse-hermite-grx/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-hermite-grx/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-hermite-grx/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-tests/support/config.py:class cuda(object):
packages/amuse-tests/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-tests/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-tests/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-tests/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-tests/support/setup_codes.py:        self.found_cuda = False
packages/amuse-tests/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-tests/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-tests/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-tests/support/setup_codes.py:            self.found_cuda = True
packages/amuse-tests/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-tests/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-tests/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-tests/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-tests/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-tests/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-tests/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-tests/support/setup_codes.py:            self.found_cuda = True
packages/amuse-tests/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-tests/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-tests/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-tests/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-tests/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-tests/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-tests/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-tests/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-tests/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-tests/support/setup_codes.py:            self.found_cuda = False
packages/amuse-tests/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-tests/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-tests/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-tests/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-tests/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-tests/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-tests/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-tests/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-tests/support/setup_codes.py:        self.found_cuda = True
packages/amuse-tests/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-tests/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-tests/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-tests/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-tests/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-tests/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-tests/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-tests/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-tests/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-tests/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-tests/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-tests/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-tests/support/setup_codes.py:            or is_cuda_needed
packages/amuse-tests/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-tests/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-tests/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-tests/src/amuse/test/suite/core_tests/test_options.py:    mode=gpu
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:from amuse.community.higpus.interface import HiGPUsInterface, HiGPUs
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:class HiGPUsInterfaceTests(TestWithMPI):
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_gpu_name("GeForce GTX 480")
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_gpu_name("GeForce GTX 480")
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_gpu_name("GeForce GTX 480")
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:class TestHiGPUs(TestWithMPI):
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs, convert_nbody)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs, convert_nbody)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        self.skip("Need to implement get_gravity_at_point for HiGPUs")
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        self.assertEqual(instance.parameters.gpu_name,  "")
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        self.assertEqual(instance.parameters.n_gpu,  1)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_gravity_codes.py:        instance = self.new_instance_of_an_optional_code(factory, mode='gpu')
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_gravity_codes.py:            instance.parameters.initialize_gpu_once = 1
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_phigrape.py:# ~default_test_options = dict(mode='gpu')
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_phigrape.py:        for current_mode in ['g6lib', 'gpu', 'grape']:
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_phigrape.py:        instance.parameters.initialize_gpu_once = 1
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_fastkick.py:class TestFastKickGPU(TestFastKick):
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_fastkick.py:    mode = "gpu"
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_huayno.py:        for mode in ["cpu", "openmp", "opencl"]:
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_ph4.py:        for current_mode in ['gpu']:
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_ph4.py:        self.assertAlmostRelativeEquals(instance.parameters.use_gpu, 0)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_ph4.py:            instance = ph4(mode="gpu")
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_ph4.py:            self.skip("gpu mode is not available")
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_ph4.py:        gpu_potential = instance.get_potential_at_point(zero, x, zero, zero)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_ph4.py:        nogpu_potential = instance.get_potential_at_point(zero, x, zero, zero)
packages/amuse-tests/src/amuse/test/suite/codes_tests/test_ph4.py:        self.assertAlmostRelativeEquals(nogpu_potential, gpu_potential, 5)
packages/amuse-mesa/support/config.py:class cuda(object):
packages/amuse-mesa/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-mesa/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-mesa/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-mesa/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-mesa/support/setup_codes.py:        self.found_cuda = False
packages/amuse-mesa/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-mesa/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-mesa/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-mesa/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mesa/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-mesa/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-mesa/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-mesa/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-mesa/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-mesa/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-mesa/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-mesa/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mesa/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-mesa/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-mesa/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-mesa/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-mesa/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-mesa/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-mesa/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-mesa/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mesa/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mesa/support/setup_codes.py:            self.found_cuda = False
packages/amuse-mesa/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mesa/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-mesa/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-mesa/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mesa/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mesa/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-mesa/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-mesa/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mesa/support/setup_codes.py:        self.found_cuda = True
packages/amuse-mesa/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-mesa/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-mesa/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-mesa/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-mesa/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-mesa/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-mesa/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-mesa/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-mesa/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mesa/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-mesa/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mesa/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-mesa/support/setup_codes.py:            or is_cuda_needed
packages/amuse-mesa/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-mesa/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-mesa/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-hop/support/config.py:class cuda(object):
packages/amuse-hop/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-hop/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-hop/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-hop/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-hop/support/setup_codes.py:        self.found_cuda = False
packages/amuse-hop/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-hop/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-hop/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-hop/support/setup_codes.py:            self.found_cuda = True
packages/amuse-hop/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-hop/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-hop/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-hop/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-hop/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-hop/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-hop/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-hop/support/setup_codes.py:            self.found_cuda = True
packages/amuse-hop/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-hop/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-hop/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-hop/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-hop/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-hop/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-hop/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-hop/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-hop/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-hop/support/setup_codes.py:            self.found_cuda = False
packages/amuse-hop/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-hop/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-hop/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-hop/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-hop/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-hop/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-hop/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-hop/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-hop/support/setup_codes.py:        self.found_cuda = True
packages/amuse-hop/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-hop/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-hop/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-hop/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-hop/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-hop/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-hop/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-hop/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-hop/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-hop/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-hop/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-hop/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-hop/support/setup_codes.py:            or is_cuda_needed
packages/amuse-hop/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-hop/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-hop/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-gadget2/support/config.py:class cuda(object):
packages/amuse-gadget2/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-gadget2/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-gadget2/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-gadget2/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-gadget2/support/setup_codes.py:        self.found_cuda = False
packages/amuse-gadget2/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-gadget2/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-gadget2/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-gadget2/support/setup_codes.py:            self.found_cuda = True
packages/amuse-gadget2/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-gadget2/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-gadget2/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-gadget2/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-gadget2/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-gadget2/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-gadget2/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-gadget2/support/setup_codes.py:            self.found_cuda = True
packages/amuse-gadget2/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-gadget2/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-gadget2/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-gadget2/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-gadget2/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-gadget2/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-gadget2/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-gadget2/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-gadget2/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-gadget2/support/setup_codes.py:            self.found_cuda = False
packages/amuse-gadget2/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-gadget2/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-gadget2/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-gadget2/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-gadget2/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-gadget2/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-gadget2/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-gadget2/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-gadget2/support/setup_codes.py:        self.found_cuda = True
packages/amuse-gadget2/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-gadget2/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-gadget2/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-gadget2/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-gadget2/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-gadget2/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-gadget2/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-gadget2/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-gadget2/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-gadget2/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-gadget2/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-gadget2/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-gadget2/support/setup_codes.py:            or is_cuda_needed
packages/amuse-gadget2/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-gadget2/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-gadget2/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-phantom/support/config.py:class cuda(object):
packages/amuse-phantom/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-phantom/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-phantom/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-phantom/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-phantom/support/setup_codes.py:        self.found_cuda = False
packages/amuse-phantom/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-phantom/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-phantom/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-phantom/support/setup_codes.py:            self.found_cuda = True
packages/amuse-phantom/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-phantom/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-phantom/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-phantom/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-phantom/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-phantom/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-phantom/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-phantom/support/setup_codes.py:            self.found_cuda = True
packages/amuse-phantom/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-phantom/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-phantom/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-phantom/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-phantom/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-phantom/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-phantom/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-phantom/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-phantom/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-phantom/support/setup_codes.py:            self.found_cuda = False
packages/amuse-phantom/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-phantom/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-phantom/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-phantom/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-phantom/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-phantom/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-phantom/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-phantom/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-phantom/support/setup_codes.py:        self.found_cuda = True
packages/amuse-phantom/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-phantom/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-phantom/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-phantom/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-phantom/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-phantom/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-phantom/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-phantom/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-phantom/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-phantom/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-phantom/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-phantom/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-phantom/support/setup_codes.py:            or is_cuda_needed
packages/amuse-phantom/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-phantom/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-phantom/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-aarsethzare/support/config.py:class cuda(object):
packages/amuse-aarsethzare/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-aarsethzare/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-aarsethzare/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-aarsethzare/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-aarsethzare/support/setup_codes.py:        self.found_cuda = False
packages/amuse-aarsethzare/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-aarsethzare/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-aarsethzare/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-aarsethzare/support/setup_codes.py:            self.found_cuda = True
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-aarsethzare/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-aarsethzare/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-aarsethzare/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-aarsethzare/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-aarsethzare/support/setup_codes.py:            self.found_cuda = True
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-aarsethzare/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-aarsethzare/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-aarsethzare/support/setup_codes.py:            self.found_cuda = False
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-aarsethzare/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-aarsethzare/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-aarsethzare/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-aarsethzare/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-aarsethzare/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-aarsethzare/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-aarsethzare/support/setup_codes.py:        self.found_cuda = True
packages/amuse-aarsethzare/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-aarsethzare/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-aarsethzare/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-aarsethzare/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-aarsethzare/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-aarsethzare/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-aarsethzare/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-aarsethzare/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-aarsethzare/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-aarsethzare/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-aarsethzare/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-aarsethzare/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-aarsethzare/support/setup_codes.py:            or is_cuda_needed
packages/amuse-aarsethzare/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-aarsethzare/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-aarsethzare/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-simplex/support/config.py:class cuda(object):
packages/amuse-simplex/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-simplex/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-simplex/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-simplex/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-simplex/support/setup_codes.py:        self.found_cuda = False
packages/amuse-simplex/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-simplex/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-simplex/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-simplex/support/setup_codes.py:            self.found_cuda = True
packages/amuse-simplex/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-simplex/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-simplex/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-simplex/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-simplex/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-simplex/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-simplex/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-simplex/support/setup_codes.py:            self.found_cuda = True
packages/amuse-simplex/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-simplex/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-simplex/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-simplex/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-simplex/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-simplex/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-simplex/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-simplex/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-simplex/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-simplex/support/setup_codes.py:            self.found_cuda = False
packages/amuse-simplex/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-simplex/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-simplex/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-simplex/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-simplex/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-simplex/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-simplex/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-simplex/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-simplex/support/setup_codes.py:        self.found_cuda = True
packages/amuse-simplex/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-simplex/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-simplex/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-simplex/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-simplex/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-simplex/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-simplex/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-simplex/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-simplex/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-simplex/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-simplex/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-simplex/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-simplex/support/setup_codes.py:            or is_cuda_needed
packages/amuse-simplex/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-simplex/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-simplex/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-simplex/src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_read_grppar_usht  ffggpui
packages/amuse-simplex/src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_read_grppar_ulng  ffggpuj
packages/amuse-simplex/src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_read_grppar_uint  ffggpuk
packages/amuse-simplex/src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_write_grppar_usht ffpgpui
packages/amuse-simplex/src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_write_grppar_ulng ffpgpuj
packages/amuse-simplex/src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_write_grppar_uint ffpgpuk
packages/amuse-simplex/src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffggpui(fitsfile *fptr, long group, long firstelem, long nelem,
packages/amuse-simplex/src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffggpuj(fitsfile *fptr, long group, long firstelem, long nelem,
packages/amuse-simplex/src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffggpuk(fitsfile *fptr, long group, long firstelem, long nelem,
packages/amuse-simplex/src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffpgpui(fitsfile *fptr, long group, long firstelem,
packages/amuse-simplex/src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffpgpuj(fitsfile *fptr, long group, long firstelem,
packages/amuse-simplex/src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffpgpuk(fitsfile *fptr, long group, long firstelem,
packages/amuse-kepler-orbiters/support/config.py:class cuda(object):
packages/amuse-kepler-orbiters/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-kepler-orbiters/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-kepler-orbiters/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-kepler-orbiters/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-kepler-orbiters/support/setup_codes.py:        self.found_cuda = False
packages/amuse-kepler-orbiters/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-kepler-orbiters/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-kepler-orbiters/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.found_cuda = True
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-kepler-orbiters/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-kepler-orbiters/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-kepler-orbiters/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-kepler-orbiters/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.found_cuda = True
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-kepler-orbiters/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-kepler-orbiters/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.found_cuda = False
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-kepler-orbiters/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-kepler-orbiters/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-kepler-orbiters/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-kepler-orbiters/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-kepler-orbiters/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-kepler-orbiters/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-kepler-orbiters/support/setup_codes.py:        self.found_cuda = True
packages/amuse-kepler-orbiters/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-kepler-orbiters/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-kepler-orbiters/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-kepler-orbiters/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-kepler-orbiters/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-kepler-orbiters/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-kepler-orbiters/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-kepler-orbiters/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-kepler-orbiters/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-kepler-orbiters/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-kepler-orbiters/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-kepler-orbiters/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-kepler-orbiters/support/setup_codes.py:            or is_cuda_needed
packages/amuse-kepler-orbiters/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-kepler-orbiters/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-kepler-orbiters/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-kepler-orbiters/src/amuse/community/kepler_orbiters/src/universal_kepler_solver.h:    #ifndef CONFIG_USE_OPENCL
packages/amuse-kepler-orbiters/src/amuse/community/kepler_orbiters/src/universal_kepler_solver.h:        #ifndef CONFIG_USE_OPENCL
packages/amuse-kepler-orbiters/src/amuse/community/kepler_orbiters/src/universal_kepler_solver.h:    #ifndef CONFIG_USE_OPENCL
packages/amuse-kepler-orbiters/src/amuse/community/kepler_orbiters/src/Makefile:GPU	  = -DGPU
packages/amuse-mmams/support/config.py:class cuda(object):
packages/amuse-mmams/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-mmams/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-mmams/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-mmams/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-mmams/support/setup_codes.py:        self.found_cuda = False
packages/amuse-mmams/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-mmams/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-mmams/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-mmams/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mmams/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-mmams/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-mmams/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-mmams/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-mmams/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-mmams/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-mmams/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-mmams/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mmams/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-mmams/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-mmams/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-mmams/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-mmams/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-mmams/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-mmams/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-mmams/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mmams/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mmams/support/setup_codes.py:            self.found_cuda = False
packages/amuse-mmams/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mmams/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-mmams/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-mmams/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mmams/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mmams/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-mmams/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-mmams/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mmams/support/setup_codes.py:        self.found_cuda = True
packages/amuse-mmams/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-mmams/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-mmams/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-mmams/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-mmams/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-mmams/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-mmams/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-mmams/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-mmams/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mmams/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-mmams/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mmams/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-mmams/support/setup_codes.py:            or is_cuda_needed
packages/amuse-mmams/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-mmams/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-mmams/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-seba/support/config.py:class cuda(object):
packages/amuse-seba/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-seba/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-seba/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-seba/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-seba/support/setup_codes.py:        self.found_cuda = False
packages/amuse-seba/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-seba/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-seba/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-seba/support/setup_codes.py:            self.found_cuda = True
packages/amuse-seba/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-seba/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-seba/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-seba/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-seba/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-seba/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-seba/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-seba/support/setup_codes.py:            self.found_cuda = True
packages/amuse-seba/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-seba/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-seba/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-seba/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-seba/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-seba/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-seba/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-seba/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-seba/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-seba/support/setup_codes.py:            self.found_cuda = False
packages/amuse-seba/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-seba/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-seba/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-seba/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-seba/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-seba/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-seba/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-seba/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-seba/support/setup_codes.py:        self.found_cuda = True
packages/amuse-seba/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-seba/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-seba/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-seba/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-seba/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-seba/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-seba/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-seba/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-seba/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-seba/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-seba/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-seba/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-seba/support/setup_codes.py:            or is_cuda_needed
packages/amuse-seba/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-seba/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-seba/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-evtwin/support/config.py:class cuda(object):
packages/amuse-evtwin/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-evtwin/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-evtwin/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-evtwin/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-evtwin/support/setup_codes.py:        self.found_cuda = False
packages/amuse-evtwin/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-evtwin/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-evtwin/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-evtwin/support/setup_codes.py:            self.found_cuda = True
packages/amuse-evtwin/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-evtwin/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-evtwin/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-evtwin/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-evtwin/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-evtwin/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-evtwin/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-evtwin/support/setup_codes.py:            self.found_cuda = True
packages/amuse-evtwin/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-evtwin/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-evtwin/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-evtwin/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-evtwin/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-evtwin/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-evtwin/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-evtwin/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-evtwin/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-evtwin/support/setup_codes.py:            self.found_cuda = False
packages/amuse-evtwin/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-evtwin/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-evtwin/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-evtwin/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-evtwin/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-evtwin/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-evtwin/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-evtwin/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-evtwin/support/setup_codes.py:        self.found_cuda = True
packages/amuse-evtwin/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-evtwin/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-evtwin/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-evtwin/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-evtwin/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-evtwin/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-evtwin/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-evtwin/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-evtwin/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-evtwin/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-evtwin/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-evtwin/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-evtwin/support/setup_codes.py:            or is_cuda_needed
packages/amuse-evtwin/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-evtwin/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-evtwin/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-mercury/support/config.py:class cuda(object):
packages/amuse-mercury/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-mercury/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-mercury/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-mercury/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-mercury/support/setup_codes.py:        self.found_cuda = False
packages/amuse-mercury/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-mercury/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-mercury/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-mercury/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mercury/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-mercury/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-mercury/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-mercury/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-mercury/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-mercury/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-mercury/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-mercury/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mercury/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-mercury/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-mercury/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-mercury/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-mercury/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-mercury/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-mercury/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-mercury/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mercury/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mercury/support/setup_codes.py:            self.found_cuda = False
packages/amuse-mercury/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mercury/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-mercury/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-mercury/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mercury/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mercury/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-mercury/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-mercury/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mercury/support/setup_codes.py:        self.found_cuda = True
packages/amuse-mercury/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-mercury/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-mercury/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-mercury/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-mercury/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-mercury/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-mercury/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-mercury/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-mercury/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mercury/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-mercury/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mercury/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-mercury/support/setup_codes.py:            or is_cuda_needed
packages/amuse-mercury/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-mercury/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-mercury/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-mameclot/support/config.py:class cuda(object):
packages/amuse-mameclot/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-mameclot/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-mameclot/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-mameclot/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-mameclot/support/setup_codes.py:        self.found_cuda = False
packages/amuse-mameclot/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-mameclot/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-mameclot/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-mameclot/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mameclot/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-mameclot/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-mameclot/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-mameclot/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-mameclot/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-mameclot/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-mameclot/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-mameclot/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mameclot/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-mameclot/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-mameclot/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-mameclot/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-mameclot/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-mameclot/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-mameclot/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-mameclot/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mameclot/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mameclot/support/setup_codes.py:            self.found_cuda = False
packages/amuse-mameclot/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mameclot/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-mameclot/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-mameclot/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mameclot/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mameclot/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-mameclot/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-mameclot/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mameclot/support/setup_codes.py:        self.found_cuda = True
packages/amuse-mameclot/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-mameclot/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-mameclot/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-mameclot/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-mameclot/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-mameclot/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-mameclot/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-mameclot/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-mameclot/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mameclot/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-mameclot/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mameclot/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-mameclot/support/setup_codes.py:            or is_cuda_needed
packages/amuse-mameclot/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-mameclot/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-mameclot/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-mameclot/src/amuse/community/mameclot/src/mameclot.c:      // copy to temp arrays for potential calculation on GPU
packages/amuse-mameclot/src/amuse/community/mameclot/src/mameclot.c:  // This function is executed on the CPU (defined in pot.c) or GPU (defined in gpupot.cu)
packages/amuse-mameclot/src/amuse/community/mameclot/src/mameclot.c:  // This function is executed on the CPU (defined in pot.c) or GPU (defined in gpupot.cu)
packages/amuse-mameclot/src/amuse/community/mameclot/src/mameclot.c:    // On GPU the specific potential of the 2nd cluster is not computed, that is why the
packages/amuse-mameclot/src/amuse/community/mameclot/src/Makefile:CUDAPATH = /usr/local/cuda/bin/
packages/amuse-mameclot/src/amuse/community/mameclot/src/Makefile:CUDAFLAGS = -L/usr/local/cuda/lib64 -I/usr/local/cuda/include -lcudart -lcuda
packages/amuse-mameclot/src/amuse/community/mameclot/src/Makefile:NVCC = $(CUDAPATH)/nvcc
packages/amuse-mameclot/src/amuse/community/mameclot/src/Makefile:CUDASOURCE = pot.cu
packages/amuse-mameclot/src/amuse/community/mameclot/src/Makefile:CUDAOBJ = gpupot.o
packages/amuse-mameclot/src/amuse/community/mameclot/src/Makefile:gpu:	$(OBJ)
packages/amuse-mameclot/src/amuse/community/mameclot/src/Makefile:	$(NVCC) -c -m64 -arch sm_20  gpupot.cu
packages/amuse-mameclot/src/amuse/community/mameclot/src/Makefile:	$(CC)  $(CUDAFLAGS)  -o $(EXE).gpu $(CUDAOBJ) $(OBJ) $(LIBS)
packages/amuse-mameclot/src/amuse/community/mameclot/src/Makefile:	rm -f *.o $(EXE) $(EXE).gpu
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:#include <cuda.h>
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:__global__ void compute_potential_gpu(float *m, 
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&m_d  , sizeof(float)*N); 
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&x_d  , sizeof(float)*N); 
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&y_d  , sizeof(float)*N);
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&z_d  , sizeof(float)*N); 
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&phi_d, sizeof(float)*N);
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(m_d,m    , sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(x_d,x    , sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(y_d,y    , sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(z_d,z    , sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(phi_d,phi, sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  compute_potential_gpu <<<((N+BLOCKSIZE-1))/BLOCKSIZE,BLOCKSIZE >>>(m_d,x_d, y_d, z_d, phi_d,N,N1);
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(phi,phi_d, sizeof(float)*N, cudaMemcpyDeviceToHost); // Host -> Device
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(m_d);
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(x_d);
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(y_d);
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(z_d);
packages/amuse-mameclot/src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(phi_d);
packages/amuse-mameclot/src/amuse/community/mameclot/src/COMPILE:For CUDA enabled GPU support compile as
packages/amuse-mameclot/src/amuse/community/mameclot/src/COMPILE:make gpu
packages/amuse-mameclot/src/amuse/community/mameclot/src/COMPILE:This creates the executable mameclot.gpu for fast energy scaling on a GPU 
packages/amuse-mameclot/src/amuse/community/mameclot/src/COMPILE:Perhaps necessary to change the paths of cuda and cuda libs in the Makefile
packages/amuse-twobody/support/config.py:class cuda(object):
packages/amuse-twobody/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-twobody/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-twobody/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-twobody/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-twobody/support/setup_codes.py:        self.found_cuda = False
packages/amuse-twobody/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-twobody/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-twobody/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-twobody/support/setup_codes.py:            self.found_cuda = True
packages/amuse-twobody/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-twobody/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-twobody/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-twobody/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-twobody/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-twobody/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-twobody/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-twobody/support/setup_codes.py:            self.found_cuda = True
packages/amuse-twobody/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-twobody/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-twobody/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-twobody/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-twobody/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-twobody/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-twobody/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-twobody/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-twobody/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-twobody/support/setup_codes.py:            self.found_cuda = False
packages/amuse-twobody/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-twobody/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-twobody/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-twobody/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-twobody/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-twobody/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-twobody/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-twobody/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-twobody/support/setup_codes.py:        self.found_cuda = True
packages/amuse-twobody/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-twobody/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-twobody/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-twobody/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-twobody/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-twobody/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-twobody/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-twobody/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-twobody/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-twobody/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-twobody/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-twobody/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-twobody/support/setup_codes.py:            or is_cuda_needed
packages/amuse-twobody/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-twobody/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-twobody/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-fi/support/config.py:class cuda(object):
packages/amuse-fi/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-fi/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-fi/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-fi/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-fi/support/setup_codes.py:        self.found_cuda = False
packages/amuse-fi/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-fi/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-fi/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-fi/support/setup_codes.py:            self.found_cuda = True
packages/amuse-fi/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-fi/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-fi/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-fi/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-fi/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-fi/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-fi/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-fi/support/setup_codes.py:            self.found_cuda = True
packages/amuse-fi/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-fi/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-fi/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-fi/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-fi/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-fi/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-fi/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-fi/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-fi/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-fi/support/setup_codes.py:            self.found_cuda = False
packages/amuse-fi/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-fi/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-fi/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-fi/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-fi/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-fi/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-fi/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-fi/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-fi/support/setup_codes.py:        self.found_cuda = True
packages/amuse-fi/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-fi/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-fi/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-fi/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-fi/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-fi/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-fi/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-fi/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-fi/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-fi/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-fi/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-fi/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-fi/support/setup_codes.py:            or is_cuda_needed
packages/amuse-fi/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-fi/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-fi/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-fractalcluster/support/config.py:class cuda(object):
packages/amuse-fractalcluster/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-fractalcluster/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-fractalcluster/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-fractalcluster/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-fractalcluster/support/setup_codes.py:        self.found_cuda = False
packages/amuse-fractalcluster/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-fractalcluster/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-fractalcluster/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-fractalcluster/support/setup_codes.py:            self.found_cuda = True
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-fractalcluster/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-fractalcluster/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-fractalcluster/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-fractalcluster/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-fractalcluster/support/setup_codes.py:            self.found_cuda = True
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-fractalcluster/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-fractalcluster/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-fractalcluster/support/setup_codes.py:            self.found_cuda = False
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-fractalcluster/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-fractalcluster/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-fractalcluster/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-fractalcluster/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-fractalcluster/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-fractalcluster/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-fractalcluster/support/setup_codes.py:        self.found_cuda = True
packages/amuse-fractalcluster/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-fractalcluster/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-fractalcluster/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-fractalcluster/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-fractalcluster/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-fractalcluster/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-fractalcluster/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-fractalcluster/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-fractalcluster/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-fractalcluster/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-fractalcluster/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-fractalcluster/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-fractalcluster/support/setup_codes.py:            or is_cuda_needed
packages/amuse-fractalcluster/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-fractalcluster/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-fractalcluster/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-nbody6xx/support/config.py:class cuda(object):
packages/amuse-nbody6xx/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-nbody6xx/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-nbody6xx/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-nbody6xx/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-nbody6xx/support/setup_codes.py:        self.found_cuda = False
packages/amuse-nbody6xx/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-nbody6xx/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-nbody6xx/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-nbody6xx/support/setup_codes.py:            self.found_cuda = True
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-nbody6xx/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-nbody6xx/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-nbody6xx/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-nbody6xx/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-nbody6xx/support/setup_codes.py:            self.found_cuda = True
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-nbody6xx/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-nbody6xx/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-nbody6xx/support/setup_codes.py:            self.found_cuda = False
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-nbody6xx/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-nbody6xx/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-nbody6xx/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-nbody6xx/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-nbody6xx/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-nbody6xx/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-nbody6xx/support/setup_codes.py:        self.found_cuda = True
packages/amuse-nbody6xx/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-nbody6xx/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-nbody6xx/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-nbody6xx/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-nbody6xx/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-nbody6xx/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-nbody6xx/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-nbody6xx/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-nbody6xx/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-nbody6xx/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-nbody6xx/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-nbody6xx/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-nbody6xx/support/setup_codes.py:            or is_cuda_needed
packages/amuse-nbody6xx/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-nbody6xx/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-nbody6xx/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/common6.h:     *  ttgrcalc2,ttgpu,ttbar,xtsub1,xtsub2,isernb,iserreg
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h: * Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h: * Please refer to the NVIDIA end user license agreement (EULA) associated
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// These are CUDA Helper functions for initialization and error checking
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:#ifndef HELPER_CUDA_H
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:#define HELPER_CUDA_H
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// refer the CUDA examples for examples of the needed CUDA headers, which may change depending
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// on which CUDA functions are used.
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// CUDA Runtime error messages
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(cudaError_t error)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaSuccess:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaSuccess";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMissingConfiguration:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMissingConfiguration";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMemoryAllocation:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMemoryAllocation";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInitializationError:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInitializationError";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorLaunchFailure:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorLaunchFailure";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorPriorLaunchFailure:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorPriorLaunchFailure";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorLaunchTimeout:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorLaunchTimeout";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorLaunchOutOfResources:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorLaunchOutOfResources";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidDeviceFunction:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidDeviceFunction";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidConfiguration:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidConfiguration";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidDevice:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidDevice";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidValue:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidValue";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidPitchValue:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidPitchValue";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidSymbol:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidSymbol";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMapBufferObjectFailed:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMapBufferObjectFailed";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorUnmapBufferObjectFailed:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorUnmapBufferObjectFailed";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidHostPointer:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidHostPointer";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidDevicePointer:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidDevicePointer";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidTexture:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidTexture";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidTextureBinding:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidTextureBinding";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidChannelDescriptor:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidChannelDescriptor";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidMemcpyDirection:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidMemcpyDirection";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorAddressOfConstant:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorAddressOfConstant";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorTextureFetchFailed:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorTextureFetchFailed";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorTextureNotBound:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorTextureNotBound";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorSynchronizationError:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorSynchronizationError";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidFilterSetting:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidFilterSetting";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidNormSetting:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidNormSetting";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMixedDeviceExecution:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMixedDeviceExecution";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorCudartUnloading:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorCudartUnloading";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorUnknown:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorUnknown";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorNotYetImplemented:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorNotYetImplemented";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMemoryValueTooLarge:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMemoryValueTooLarge";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidResourceHandle:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidResourceHandle";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorNotReady:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorNotReady";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInsufficientDriver:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInsufficientDriver";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorSetOnActiveProcess:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorSetOnActiveProcess";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidSurface:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidSurface";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorNoDevice:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorNoDevice";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorECCUncorrectable:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorECCUncorrectable";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorSharedObjectSymbolNotFound:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorSharedObjectSymbolNotFound";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorSharedObjectInitFailed:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorSharedObjectInitFailed";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorUnsupportedLimit:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorUnsupportedLimit";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDuplicateVariableName:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDuplicateVariableName";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDuplicateTextureName:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDuplicateTextureName";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDuplicateSurfaceName:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDuplicateSurfaceName";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDevicesUnavailable:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDevicesUnavailable";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidKernelImage:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidKernelImage";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorNoKernelImageForDevice:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorNoKernelImageForDevice";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorIncompatibleDriverContext:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorIncompatibleDriverContext";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorPeerAccessAlreadyEnabled:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorPeerAccessAlreadyEnabled";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorPeerAccessNotEnabled:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorPeerAccessNotEnabled";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDeviceAlreadyInUse:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDeviceAlreadyInUse";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorProfilerDisabled:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorProfilerDisabled";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorProfilerNotInitialized:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorProfilerNotInitialized";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorProfilerAlreadyStarted:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorProfilerAlreadyStarted";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorProfilerAlreadyStopped:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorProfilerAlreadyStopped";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:#if __CUDA_API_VERSION >= 0x4000
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorAssert:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorAssert";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorTooManyPeers:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorTooManyPeers";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorHostMemoryAlreadyRegistered:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorHostMemoryAlreadyRegistered";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorHostMemoryNotRegistered:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorHostMemoryNotRegistered";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorStartupFailure:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorStartupFailure";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorApiFailureBase:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorApiFailureBase";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:#ifdef __cuda_cuda_h__
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// CUDA Driver API errors
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(CUresult error)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_SUCCESS:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_SUCCESS";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_VALUE:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_VALUE";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_OUT_OF_MEMORY:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_OUT_OF_MEMORY";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_INITIALIZED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_INITIALIZED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_DEINITIALIZED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_DEINITIALIZED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PROFILER_DISABLED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PROFILER_DISABLED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PROFILER_NOT_INITIALIZED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PROFILER_NOT_INITIALIZED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PROFILER_ALREADY_STARTED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PROFILER_ALREADY_STARTED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PROFILER_ALREADY_STOPPED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PROFILER_ALREADY_STOPPED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NO_DEVICE:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NO_DEVICE";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_DEVICE:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_DEVICE";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_IMAGE:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_IMAGE";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_CONTEXT:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_CONTEXT";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_CONTEXT_ALREADY_CURRENT:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_CONTEXT_ALREADY_CURRENT";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_MAP_FAILED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_MAP_FAILED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_UNMAP_FAILED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_UNMAP_FAILED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ARRAY_IS_MAPPED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ARRAY_IS_MAPPED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ALREADY_MAPPED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ALREADY_MAPPED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NO_BINARY_FOR_GPU:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NO_BINARY_FOR_GPU";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ALREADY_ACQUIRED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ALREADY_ACQUIRED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_MAPPED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_MAPPED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_MAPPED_AS_ARRAY:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_MAPPED_AS_ARRAY";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_MAPPED_AS_POINTER:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_MAPPED_AS_POINTER";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ECC_UNCORRECTABLE:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ECC_UNCORRECTABLE";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_UNSUPPORTED_LIMIT:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_UNSUPPORTED_LIMIT";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_CONTEXT_ALREADY_IN_USE:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_CONTEXT_ALREADY_IN_USE";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_SOURCE:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_SOURCE";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_FILE_NOT_FOUND:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_FILE_NOT_FOUND";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_SHARED_OBJECT_SYMBOL_NOT_FOUND:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_SHARED_OBJECT_SYMBOL_NOT_FOUND";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_SHARED_OBJECT_INIT_FAILED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_SHARED_OBJECT_INIT_FAILED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_OPERATING_SYSTEM:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_OPERATING_SYSTEM";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_HANDLE:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_HANDLE";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_FOUND:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_FOUND";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_READY:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_READY";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_LAUNCH_FAILED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_LAUNCH_FAILED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_LAUNCH_OUT_OF_RESOURCES:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_LAUNCH_OUT_OF_RESOURCES";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_LAUNCH_TIMEOUT:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_LAUNCH_TIMEOUT";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PEER_ACCESS_ALREADY_ENABLED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PEER_ACCESS_ALREADY_ENABLED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PEER_ACCESS_NOT_ENABLED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PEER_ACCESS_NOT_ENABLED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PRIMARY_CONTEXT_ACTIVE:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PRIMARY_CONTEXT_ACTIVE";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_CONTEXT_IS_DESTROYED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_CONTEXT_IS_DESTROYED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ASSERT:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ASSERT";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_TOO_MANY_PEERS:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_TOO_MANY_PEERS";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_HOST_MEMORY_ALREADY_REGISTERED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_HOST_MEMORY_ALREADY_REGISTERED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_HOST_MEMORY_NOT_REGISTERED:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_HOST_MEMORY_NOT_REGISTERED";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_UNKNOWN:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_UNKNOWN";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(cublasStatus_t error)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(cufftResult error)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(cusparseStatus_t error)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(curandStatus_t error)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(NppStatus error)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        case NPP_CUDA_KERNEL_EXECUTION_ERROR:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "NPP_CUDA_KERNEL_EXECUTION_ERROR";
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "CUDA error at %s:%d code=%d(%s) \"%s\" \n",
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:                file, line, static_cast<unsigned int>(result), _cudaGetErrorEnum(result), func);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:                std::string msg("CUDA error at ");
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:                msg += _cudaGetErrorEnum(result);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// This will output the proper CUDA error strings in the event that a CUDA host call returns an error
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:#define checkCudaErrors(val)           check ( (val), #val, __FILE__, __LINE__ )
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// This will output the proper error string when calling cudaGetLastError
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:#define getLastCudaError(msg)      __getLastCudaError (msg, __FILE__, __LINE__)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:inline void __getLastCudaError(const char *errorMessage, const char *file, const int line)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaError_t err = cudaGetLastError();
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    if (cudaSuccess != err)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "%s(%i) : getLastCudaError() CUDA error : %s : (%d) %s.\n",
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:                file, line, errorMessage, (int)err, cudaGetErrorString(err));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// Beginning of GPU Architecture definitions
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    // Defines for GPU Architecture types (using the SM version to determine the # of cores per SM
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    sSMtoCores nGpuArchCoresPerSM[] =
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    while (nGpuArchCoresPerSM[index].SM != -1)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        if (nGpuArchCoresPerSM[index].SM == ((major << 4) + minor))
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            return nGpuArchCoresPerSM[index].Cores;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    printf("MapSMtoCores for SM %d.%d is undefined.  Default to use %d Cores/SM\n", major, minor, nGpuArchCoresPerSM[7].Cores);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    return nGpuArchCoresPerSM[7].Cores;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// end of GPU Architecture definitions
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:#ifdef __CUDA_RUNTIME_H__
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// General GPU Device CUDA Initialization
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:inline int gpuDeviceInit(int devID)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaGetDeviceCount(&deviceCount));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "gpuDeviceInit() CUDA error: no devices supporting CUDA.\n");
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, ">> %d CUDA capable GPU device(s) detected. <<\n", deviceCount);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, ">> gpuDeviceInit (-device=%d) is not a valid GPU device. <<\n", devID);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaDeviceProp deviceProp;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaGetDeviceProperties(&deviceProp, devID));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    if (deviceProp.computeMode == cudaComputeModeProhibited)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "Error: device is running in <Compute Mode Prohibited>, no threads can use ::cudaSetDevice().\n");
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "gpuDeviceInit(): GPU device does not support CUDA.\n");
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaSetDevice(devID));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    printf("gpuDeviceInit() CUDA Device [%d]: \"%s\n", devID, deviceProp.name);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// This function returns the best GPU (with maximum GFLOPS)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:inline int gpuGetMaxGflopsDeviceId()
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaDeviceProp deviceProp;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaGetDeviceCount(&device_count);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    // Find the best major SM Architecture GPU device
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        cudaGetDeviceProperties(&deviceProp, current_device);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        // If this GPU is not running on Compute Mode prohibited, then we can add it to the list
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        if (deviceProp.computeMode != cudaComputeModeProhibited)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    // Find the best CUDA capable GPU device
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        cudaGetDeviceProperties(&deviceProp, current_device);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        // If this GPU is not running on Compute Mode prohibited, then we can add it to the list
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        if (deviceProp.computeMode != cudaComputeModeProhibited)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:                // If we find GPU with SM major > 2, search only these
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// Initialization code to find the best CUDA Device
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:inline int findCudaDevice(int argc, const char **argv)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaDeviceProp deviceProp;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:            devID = gpuDeviceInit(devID);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        devID = gpuGetMaxGflopsDeviceId();
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        checkCudaErrors(cudaSetDevice(devID));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        checkCudaErrors(cudaGetDeviceProperties(&deviceProp, devID));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        printf("GPU Device %d: \"%s\" with compute capability %d.%d\n\n", devID, deviceProp.name, deviceProp.major, deviceProp.minor);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// General check for CUDA GPU SM Capabilities
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:inline bool checkCudaCapabilities(int major_version, int minor_version)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaDeviceProp deviceProp;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaGetDevice(&dev));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaGetDeviceProperties(&deviceProp, dev));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:        printf("No GPU device was found that can support CUDA compute capability %d.%d.\n", major_version, minor_version);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_cuda.h:// end of CUDA Helper Functions
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/adjust.F:     &        '    ttgrcalc  ttgrcalc2  ttgpu     ttbar     ',
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/adjust.F:     &        ttgrcalc,ttgrcalc2,ttgpu,ttbar,ttnbi,ttbarnb,ttbarreg,
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/adjust.F:#ifdef GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/adjust.F:         CALL GPUNB_CLOSE
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h: * Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h: * Please refer to the NVIDIA end user license agreement (EULA) associated
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:* Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:* Please refer to the NVIDIA end user license agreement (EULA) associated
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:/* CUda UTility Library */
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:#if CUDART_VERSION >= 4000
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaDeviceSynchronize();
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaThreadSynchronize();
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:#if CUDART_VERSION >= 4000
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:#define CUT_DEVICE_RESET( )   cudaDeviceReset();
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:#define CUT_DEVICE_RESET( )   cudaThreadExit();
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    if( CUDA_SUCCESS != err) {                                               \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda driver error %x in file '%s' in line %i.\n",   \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    if( CUDA_SUCCESS != err) {                                               \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda driver error %x in file '%s' in line %i.\n",   \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:#  define CUDA_SAFE_CALL_NO_SYNC( call) {                                    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    cudaError err = call;                                                    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error in file '%s' in line %i : %s.\n",        \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:                __FILE__, __LINE__, cudaGetErrorString( err) );              \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:#  define CUDA_SAFE_CALL( call)     CUDA_SAFE_CALL_NO_SYNC(call);                                            \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:#  define CUDA_SAFE_THREAD_SYNC( ) {                                         \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    cudaError err = CUT_DEVICE_SYNCHRONIZE();                                 \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    if ( cudaSuccess != err) {                                               \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error in file '%s' in line %i : %s.\n",        \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:                __FILE__, __LINE__, cudaGetErrorString( err) );              \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    //! Check for CUDA error
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    CUDA_SAFE_CALL_NO_SYNC(cudaGetDeviceCount(&deviceCount));                \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "cutil error: no devices supporting CUDA.\n");       \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    cudaDeviceProp deviceProp;                                               \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    CUDA_SAFE_CALL_NO_SYNC(cudaGetDeviceProperties(&deviceProp, dev));       \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    CUDA_SAFE_CALL(cudaSetDevice(dev));                                      \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    //! Check for CUDA context lost
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:#  define CUDA_CHECK_CTX_LOST(errorMessage) {                                \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h://! Check for CUDA context lost
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    if( CUDA_ERROR_INVALID_CONTEXT != err) {                                 \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:    if (CUDA_SUCCESS == err)                                                 \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "cutil error: no devices supporting CUDA\n");        \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:#ifdef WITH_CUDA5
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:#  include <helper_cuda.h>
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:#  define CUDA_SAFE_CALL checkCudaErrors
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:#include "cuda_pointer.h"
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:extern "C"  void gpunb_devinit_(int *irank);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:void gpupot(
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	gpunb_devinit_(rank);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	cudaPointer <float2> phi;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	cudaPointer <Particle> ptcl;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	// cudaMemcpy(ptcl_d, ptcl_h, ng * sizeof(Particle), cudaMemcpyHostToDevice);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	// cudaMemcpy(phi_h, phi_d, n * sizeof(float2), cudaMemcpyDeviceToHost);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	fprintf(stderr, "rank %d  Ni: %d NTOT: %d  gpupot: %f sec\n",*rank,ni,n,t1 - t0);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	void gpupot_(
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:      gpupot(irank, *istart, *ni, *n, m, x, pot);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:*       Open GPU for all single particles
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:         CALL GPUNB_OPEN(NN,rank)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:*       Send all single particles to GPU memory
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:      CALL GPUNB_SEND(NN,BODY(IFIRST),X(1,IFIRST),XDOT(1,IFIRST))
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:      CALL CALC_REG_ON_GPU(IREG,1,NREG)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:      CALL CALC_REG_ON_GPU(IREG,istart,iend)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:*         CALL GPUIRR_SET_JP(I,X0(1,I),X0DOT(1,I),F(1,I),FDOT(1,I),
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:          CALL GPUNB_CLOSE
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:*#ifdef GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/intgrt.F:*          CALL GPUNB_CLOSE(rank)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/checkl.f:*       Simplify to include GPU (standard code needs a few extra searches).
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:# make gpu                         (single CPU plus one GPU)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:# make mpichgpu                    (many CPU, many GPU, not fully working)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:CUDA_PATH=/usr/local/cuda
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:gpu:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/usr/local/cuda" "SDK_PATH=/usr/local/cuda_sdk/C" "FC = gfortran" "LFLAGS = -o nbody6.gpu -L$(CUDA_PATH)/lib64 -lcudart" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -g -fbounds-check -D GPU" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy.f util_gpu.f $(SOURCE)"
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:gpu_laohu:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/export/" "SDK_PATH=/export/NVIDIA_CUDA_SDK" "FC = gfortran" "LFLAGS = -o nbody6.gpu -L/export/CUDA/4.0/lib64 -lcudart" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -fbounds-check -D GPU" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy.f util_gpu.f $(SOURCE)"
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:gpu_milkyway:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "SDK_PATH=" "FC = gfortran" "CUFLAGS= -D CUDA_5" "LFLAGS = -o nbody6.gpu -lcudart" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -D GPU" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy.f util_gpu.f $(SOURCE)"
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:mpichgpu:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/usr/local/cuda" "SDK_PATH=/usr/local/cuda_sdk/C" "FC = mpif77" "LFLAGS = -o nbody6.gpu -L$(CUDA_PATH)/lib64 -lcudart" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O4 -D PUREMPI -D PARALLEL -D GPU" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:mpichgpu_laohu:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/export/" "SDK_PATH=/export/NVIDIA_CUDA_SDK" "FC = /usr/mpi/gcc/openmpi-1.3.2-qlc/bin/mpif77" "LFLAGS = -o nbody6.gpu -L/export/CUDA/4.0/lib64 -lcudart" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -g -D PUREMPI -D PARALLEL -D GPU -fPIC -fbounds-check" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f  util_gpu.f $(SOURCE)"
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:mpichgpu_milkyway_g:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "FC = /opt/parastation/mpi2/bin/mpif77" "SDK_PATH=" "CUFLAGS= -g -D CUDA_5" "LFLAGS = -o nbody6.gpu -lcudart" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -g -O0 -D PUREMPI -D PARALLEL -D GPU -fbounds-check -Wall -fbacktrace -finit-real=nan" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:mpichgpu_milkyway:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "FC = /opt/parastation/mpi2/bin/mpif77" "SDK_PATH=" "CUFLAGS= -arch=sm_20 -Xptxas -v -O3 -D CUDA_5" "LFLAGS = -o nbody6.gpu -lcudart" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -fPIC -ffast-math -D PUREMPI -D PARALLEL -D GPU -Wall" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:mpichgpu_lwpc:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/usr/local/cuda" "CUFLAGS=-arch=sm_30 -Xptxas -v -O3 -D CUDA_5 " "SDK_PATH=/usr/local/cuda/samples" "FC = mpif77" "LFLAGS = -o nbody6.gpu -L/usr/local/cuda/lib64 -lcudart" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -fPIC -ffast-math -march=core2 -D PUREMPI -D PARALLEL -D GPU" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:mpichgpu_lwpcg:
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/usr/local/cuda" "CUFLAGS=-g -arch=sm_30 -Xptxas -v -D CUDA_5 " "SDK_PATH=/usr/local/cuda/samples" "FC = mpif77" "LFLAGS = -o nbody6.gpu -L/usr/local/cuda/lib64 -lcudart" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -g -O0 -D PUREMPI -D PARALLEL -D GPU -fbounds-check -Wall -fbacktrace -finit-real=nan" \
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:CUDASOURCE = gpunb.gpu.cu gpupot.gpu.cu
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:CUDAOBJECTS = gpunb.gpu.o gpupot.gpu.o
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:nbody6.gpu: $(OBJECTS) $(CUDAOBJECTS)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:	$(LOAD) $(FFLAGS) $(LFLAGS) $(OBJECTS) $(CUDAOBJECTS) $(LFLAGS2)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:gpunb.gpu.o: gpunb.gpu.cu
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:	nvcc -c $(CUFLAGS) -Xcompiler "-O3 -Wall" -I$(SDK_PATH)/common/inc -I. -I$(HOME)/include gpunb.gpu.cu
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:gpupot.gpu.o: gpupot.gpu.cu
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/Makefile:	nvcc -c $(CUFLAGS) -Xcompiler "-O3 -Wall" -I$(SDK_PATH)/common/inc -I. -I$(HOME)/include gpupot.gpu.cu
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/xtrnl0.F:*       Note that QVIR = Q is saved in routine SCALE and VIR < 0 with GPU.
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/phicor.f:*       Subtract c.m. interaction for each component (copied from GPU).
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cuda_pointer.h:struct cudaPointer{
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cuda_pointer.h:  cudaPointer(){
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cuda_pointer.h:  //  ~cudaPointer(){
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMalloc(&p, size * sizeof(T)));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMallocHost(&p, size * sizeof(T)));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaFree(dev_pointer));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaFreeHost(host_pointer));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMemcpy(dev_pointer, host_pointer, count * sizeof(T), cudaMemcpyHostToDevice));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMemcpy(host_pointer, dev_pointer, count * sizeof(T), cudaMemcpyDeviceToHost));
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/regint.F:#ifdef GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/regint.F:         NNBGPU = LIST_G(1,I)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/regint.F:c$$$  IF(NNBGPU.LT.0)THEN
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/regint.F:c$$$  PRINT*,' Warning Regint t,i,nnbgpu=',TIME,I,NNBGPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/regint.F:c$$$  NNBG = NNBGPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/regint.F:         nnbg=nnbgpu
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/regint.F:#ifdef GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/regint.F:*       Perform only extended neighbour loop if GPU has been used.
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/regint.F:c$$$         IF(NNBGPU.LT.0) THEN
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/regint.F:*        WRITE(6,1111) I,NNBGPU, NNB, TIME, FREG(1), FDR(1),
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/regint.F:*1111    FORMAT(1X,' I, nnbs time fr, fdr, frgpu, frdgpu=',
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/regint.F:*       Skip another full N loop (necessary for GPU/OpenMP case).
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#ifdef CUDA_5
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#include <helper_cuda.h>
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#define CUDA_SAFE_CALL checkCudaErrors
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#include "cuda_pointer.h"
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300 // just some trial
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <Jparticle> jpbuf;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <Iparticle> ipbuf;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <Force[NJBLOCK]> fopart;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <Force> fobuf;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <uint16[NJBLOCK][NB_PER_BLOCK]>nbpart;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <int> nblist;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <int> nboff;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static int devid, numGPU;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_devinit(int irank){
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  cudaGetDeviceCount(&numGPU);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  assert(numGPU > 0);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  char *gpu_list = getenv("GPU_LIST");
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  if(gpu_list)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    numGPU = 0;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    char *p = strtok(gpu_list, " ");
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:      numGPU++;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    assert(numGPU > 0);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    devid=irank%numGPU;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  cudaSetDevice(devid);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  fprintf(stderr, "Initializing NBODY6/GPU library\n");
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  cudaDeviceProp prop;
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  cudaGetDeviceProperties(&prop, devid);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  fprintf(stderr, "#GPU %d; device: %d %s\n", numGPU, devid, prop.name);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_open(int nbmax,int irank){
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    //select GPU========================================//
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    GPUNB_devinit(irank);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:      fprintf(stderr, "gpunb: it is already open\n");
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMallocHost((void **)&jp_host, jpsize);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMalloc    ((void **)&jp_dev , jpsize);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMallocHost((void **)&ip_host, ipsize);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMalloc    ((void **)&ip_dev , ipsize);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMallocHost((void **)&fo_host, fosize);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMalloc    ((void **)&fo_dev , fosize);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	fprintf(stderr, "Opened NBODY6/GPU library\n");
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_close(){
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:		fprintf(stderr, "gpunb: it is already close\n");
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFreeHost(jp_host);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFree    (jp_dev);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFreeHost(ip_host);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFree    (ip_dev);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFreeHost(fo_host);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFree    (fo_dev);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	fprintf(stderr, "Closed NBODY6/GPU library\n");
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_send(
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMemcpy(jp_dev, jp_host, jpsize, cudaMemcpyHostToDevice);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_regf(
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  // cudaMemcpy(ip_dev, ip_host, ipsize, cudaMemcpyHostToDevice);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  // cudaMemcpy(fo_host, fo_dev, fosize, cudaMemcpyDeviceToHost);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  void gpunb_devinit_ (int *irank){
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    GPUNB_devinit(*irank);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  void gpunb_open_(int *nbmax, int *irank){
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    GPUNB_open(*nbmax, *irank);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  void gpunb_close_(){
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    GPUNB_close();
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	void gpunb_send_(
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:		GPUNB_send(*nj, mj, xj, vj);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	void gpunb_regf_(
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:      GPUNB_regf(*ni, h2, dtr, xi, vi, acc, jrk, pot, *lmax, *nnbmax, list);
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/energy_mpi.F:#ifndef GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/energy_mpi.F:#ifdef GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/energy_mpi.F:#ifdef GPU      
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/energy_mpi.F:*     --05/17/13 9:13-lwang-gpupot-------------------------------------*
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/energy_mpi.F:***** Note:Use gpupot here---------------------------------------------**
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/energy_mpi.F:*       Evaluate individual potentials on GPU (including all c.m.).
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/energy_mpi.F:      CALL GPUPOT(rank,istart,NN,NNT,BODY(IFIRST),X(1,IFIRST)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/energy_mpi.F:#ifdef GPU      
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/energy_mpi.F:#ifndef GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/energy_mpi.F:#ifdef GPU       
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/energy_mpi.F:         CALL GPUPOT(rank,1,NNT,NNT,BODY(IFIRST),X(1,IFIRST)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/util_gpu.F:C     Calculate the REG force on local GPU memory
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/util_gpu.F:      SUBROUTINE CALC_REG_ON_GPU(IREG,istart,iend)
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/util_gpu.F:C---  calculate the pot, a & jerk on the GPU
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/util_gpu.F:C---  fill the GPU "working" arrays
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/util_gpu.F:*     WRITE(6,*) RANK, 'GPU UTIL h2', ii-1, idi, sqrt(h2_i(ii)), 
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/util_gpu.F:*     WRITE(6,*) ' call gpu L ni lmax nbmax = ',L,ni, lmax,nnbmax
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/util_gpu.F:C---  GPU first call with first values of p_i, a_i & jerk_i
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/util_gpu.F:         CALL gpunb_regf(ni,h2_i,DTR,x_i,v_i,a_i,jerk_i,p_i,lmax,
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/util_gpu.F:         ttgpu = ttgpu + (tt54-tt53)*60.0
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/util_gpu.F:         gpu_calls = gpu_calls + 1
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/util_gpu.F:*     Note GPU address starts from 0 (hence add IFIRST to neighbour list).
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/util_gpu.F:C     Calculate the REG force on local GPU memory
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_string.h: * Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_string.h: * Please refer to the NVIDIA end user license agreement (EULA) associated
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_string.h:// CUDA Utility Helper Functions
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_string.h:        "./7_CUDALibraries/",                       // "/7_CUDALibraries/" subdir
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_string.h:        "../C/7_CUDALibraries/<executable_name>/data/",  // up 1 in tree, "/7_CUDALibraries/<executable_name>/" subdir
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_string.h:        "../7_CUDALibraries/<executable_name>/data/",    // up 1 in tree, "/7_CUDALibraries/<executable_name>/" subdir
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_string.h:        "../../7_CUDALibraries/<executable_name>/data/", // up 2 in tree, "/7_CUDALibraries/<executable_name>/" subdir
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/helper_string.h:        "../../../7_CUDALibraries/<executable_name>/data/", // up 3 in tree, "/7_CUDALibraries/<executable_name>/" subdir
packages/amuse-nbody6xx/src/amuse/community/nbody6xx/src/common6.h:     *  ttgrcalc2,ttgpu,ttbar,xtsub1,xtsub2,isernb,iserreg
packages/amuse-sphray/support/config.py:class cuda(object):
packages/amuse-sphray/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-sphray/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-sphray/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-sphray/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-sphray/support/setup_codes.py:        self.found_cuda = False
packages/amuse-sphray/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-sphray/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-sphray/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-sphray/support/setup_codes.py:            self.found_cuda = True
packages/amuse-sphray/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-sphray/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-sphray/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-sphray/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-sphray/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-sphray/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-sphray/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-sphray/support/setup_codes.py:            self.found_cuda = True
packages/amuse-sphray/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-sphray/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-sphray/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-sphray/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-sphray/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-sphray/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-sphray/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-sphray/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-sphray/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-sphray/support/setup_codes.py:            self.found_cuda = False
packages/amuse-sphray/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-sphray/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-sphray/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-sphray/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-sphray/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-sphray/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-sphray/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-sphray/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-sphray/support/setup_codes.py:        self.found_cuda = True
packages/amuse-sphray/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-sphray/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-sphray/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-sphray/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-sphray/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-sphray/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-sphray/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-sphray/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-sphray/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-sphray/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-sphray/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-sphray/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-sphray/support/setup_codes.py:            or is_cuda_needed
packages/amuse-sphray/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-sphray/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-sphray/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_owls_input.F90:#ifdef incCloudy
packages/amuse-sphray/src/amuse/community/sphray/src/main_input.F90:        call read_Gpublic_particles()
packages/amuse-sphray/src/amuse/community/sphray/src/main_input.F90:        call read_Gpubhdf5_particles()
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_vbromm_input.F90:!        call ghead%read_Gpublic_header_file(snapfile)
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_vbromm_input.F90:!        call ghead%print_Gpublic_header_lun(loglun)
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_vbromm_input.F90:!        call saved_gheads(i,j)%copy_Gpublic_header(ghead)
packages/amuse-sphray/src/amuse/community/sphray/src/output.F90:#ifdef incCloudy
packages/amuse-sphray/src/amuse/community/sphray/src/output.F90:#ifdef incCloudy
packages/amuse-sphray/src/amuse/community/sphray/src/output.F90:#ifdef incCloudy
packages/amuse-sphray/src/amuse/community/sphray/src/update_particles.F90:     call read_Gpublic_particles()
packages/amuse-sphray/src/amuse/community/sphray/src/update_particles.F90:     call read_Gpubhdf5_particles()
packages/amuse-sphray/src/amuse/community/sphray/src/Makefile:#OPT += -DincCloudy  # store CLOUDY eq. ionization values for particles
packages/amuse-sphray/src/amuse/community/sphray/src/Makefile:   OPT += -DincCloudy
packages/amuse-sphray/src/amuse/community/sphray/src/Makefile:   OPT += -DincCloudy
packages/amuse-sphray/src/amuse/community/sphray/src/sphpar.F90:#ifdef incCloudy
packages/amuse-sphray/src/amuse/community/sphray/src/sphpar.F90:#ifdef incCloudy
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input.F90:public :: read_Gpublic_particles
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input.F90:!        call ghead%read_Gpublic_header_file(snapfile)
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input.F90:!        call ghead%print_Gpublic_header_lun(loglun)
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input.F90:!        call saved_gheads(i,j)%copy_Gpublic_header(ghead)
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input.F90:subroutine read_Gpublic_particles()
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input.F90:  character(clen), parameter :: myname="read_Gpublic_particles"
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input.F90:end subroutine read_Gpublic_particles
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:public :: read_Gpubhdf5_particles
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:  subroutine read_Gpubhdf5_particles()
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:  end subroutine read_Gpubhdf5_particles
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:!          call ghead%read_Gpublic_header_hdf5_file(snapfile)
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:!          call ghead%print_Gpublic_header_lun(loglun)
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:!          call saved_gheads(i,j)%copy_Gpublic_header(ghead)
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:  subroutine read_Gpubhdf5_particles()
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:    character(clen), parameter :: myname="read_Gpubhdf5_particles" 
packages/amuse-sphray/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:  end subroutine read_Gpubhdf5_particles
packages/amuse-sphray/src/amuse/community/sphray/src/MakefileTemplate:#OPT += -DincCloudy  # store CLOUDY eq. ionization values for particles
packages/amuse-sphray/src/amuse/community/sphray/src/MakefileTemplate:   OPT += -DincCloudy
packages/amuse-sphray/src/amuse/community/sphray/src/MakefileTemplate:   OPT += -DincCloudy
packages/amuse-sphray/src/amuse/community/sphray/src/particle_system.F90:#ifdef incCloudy
packages/amuse-sphray/src/amuse/community/sphray/src/particle_system.F90:#ifdef incCloudy
packages/amuse-sphray/src/amuse/community/sphray/src/particle_system.F90:#ifdef incCloudy
packages/amuse-distributed/support/config.py:class cuda(object):
packages/amuse-distributed/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-distributed/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-distributed/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-distributed/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-distributed/support/setup_codes.py:        self.found_cuda = False
packages/amuse-distributed/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-distributed/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-distributed/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-distributed/support/setup_codes.py:            self.found_cuda = True
packages/amuse-distributed/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-distributed/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-distributed/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-distributed/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-distributed/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-distributed/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-distributed/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-distributed/support/setup_codes.py:            self.found_cuda = True
packages/amuse-distributed/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-distributed/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-distributed/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-distributed/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-distributed/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-distributed/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-distributed/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-distributed/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-distributed/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-distributed/support/setup_codes.py:            self.found_cuda = False
packages/amuse-distributed/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-distributed/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-distributed/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-distributed/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-distributed/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-distributed/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-distributed/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-distributed/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-distributed/support/setup_codes.py:        self.found_cuda = True
packages/amuse-distributed/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-distributed/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-distributed/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-distributed/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-distributed/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-distributed/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-distributed/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-distributed/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-distributed/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-distributed/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-distributed/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-distributed/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-distributed/support/setup_codes.py:            or is_cuda_needed
packages/amuse-distributed/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-distributed/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-distributed/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-halogen/support/config.py:class cuda(object):
packages/amuse-halogen/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-halogen/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-halogen/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-halogen/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-halogen/support/setup_codes.py:        self.found_cuda = False
packages/amuse-halogen/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-halogen/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-halogen/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-halogen/support/setup_codes.py:            self.found_cuda = True
packages/amuse-halogen/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-halogen/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-halogen/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-halogen/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-halogen/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-halogen/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-halogen/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-halogen/support/setup_codes.py:            self.found_cuda = True
packages/amuse-halogen/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-halogen/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-halogen/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-halogen/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-halogen/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-halogen/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-halogen/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-halogen/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-halogen/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-halogen/support/setup_codes.py:            self.found_cuda = False
packages/amuse-halogen/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-halogen/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-halogen/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-halogen/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-halogen/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-halogen/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-halogen/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-halogen/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-halogen/support/setup_codes.py:        self.found_cuda = True
packages/amuse-halogen/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-halogen/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-halogen/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-halogen/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-halogen/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-halogen/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-halogen/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-halogen/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-halogen/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-halogen/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-halogen/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-halogen/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-halogen/support/setup_codes.py:            or is_cuda_needed
packages/amuse-halogen/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-halogen/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-halogen/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-bhtree/support/config.py:class cuda(object):
packages/amuse-bhtree/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-bhtree/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-bhtree/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-bhtree/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-bhtree/support/setup_codes.py:        self.found_cuda = False
packages/amuse-bhtree/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-bhtree/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-bhtree/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-bhtree/support/setup_codes.py:            self.found_cuda = True
packages/amuse-bhtree/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-bhtree/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-bhtree/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-bhtree/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-bhtree/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-bhtree/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-bhtree/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-bhtree/support/setup_codes.py:            self.found_cuda = True
packages/amuse-bhtree/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-bhtree/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-bhtree/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-bhtree/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-bhtree/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-bhtree/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-bhtree/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-bhtree/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-bhtree/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-bhtree/support/setup_codes.py:            self.found_cuda = False
packages/amuse-bhtree/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-bhtree/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-bhtree/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-bhtree/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-bhtree/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-bhtree/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-bhtree/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-bhtree/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-bhtree/support/setup_codes.py:        self.found_cuda = True
packages/amuse-bhtree/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-bhtree/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-bhtree/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-bhtree/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-bhtree/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-bhtree/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-bhtree/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-bhtree/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-bhtree/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-bhtree/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-bhtree/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-bhtree/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-bhtree/support/setup_codes.py:            or is_cuda_needed
packages/amuse-bhtree/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-bhtree/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-bhtree/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-bhtree/src/amuse/community/bhtree/interface.py:        elif mode == "gpu":
packages/amuse-bhtree/src/amuse/community/bhtree/interface.py:            return 'bhtree_worker_gpu'
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:GPU_BUILDDIR = build_gpu
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:GPUCODELIB = $(GPU_BUILDDIR)/libbhtree.a
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:CUDA_LIBS ?= $(CUDA_LIBDIRS) -lcudart
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:GPULIBS  =  $(CUDA_LIBS) $(SAPPORO_LIBS) -lpthread
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:$(GPU_BUILDDIR)/Makefile: $(BHTCDIR)/Makefile 
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:	-mkdir $(GPU_BUILDDIR) 
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:	cp $(BHTCDIR)/Makefile $(GPU_BUILDDIR)/Makefile
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:$(GPUCODELIB): $(GPU_BUILDDIR)/Makefile src/*.c src/*.h src/*.C
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:	make -C $(GPU_BUILDDIR) libbhtree.a CPPFLAGS=-DGPU VPATH=../src
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:	$(RM) -Rf $(BUILDDIR) $(GPU_BUILDDIR)
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:	$(RM) -f bhtree_worker_g6 bhtree_worker_gpu
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:#bhtree_worker_g6: worker_code.cc worker_code.h $(GPUCODELIB) $(OBJS)
packages/amuse-bhtree/src/amuse/community/bhtree/Makefile:#	$(MPICXX) $(CXXFLAGS) $(SC_FLAGS) worker_code.cc $(OBJS) $(GPUCODELIB) -o $@ $(SC_LIBS) $(G6LIBS)
packages/amuse-bhtree/src/amuse/community/bhtree/src/gravity.C:#ifdef GPU
packages/amuse-bhtree/src/amuse/community/bhtree/src/BHtree.C:#ifdef GPU
packages/amuse-bhtree/src/amuse/community/bhtree/src/BHtree.C:#ifdef GPU   
packages/amuse-bhtree/src/amuse/community/bhtree/src/BHtree.C:#ifndef GPU
packages/amuse-bhtree/src/amuse/community/bhtree/src/README:*** BHTC, while in the original release (and in the GPU version) it is
packages/amuse-fastkick/support/config.py:class cuda(object):
packages/amuse-fastkick/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-fastkick/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-fastkick/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-fastkick/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-fastkick/support/setup_codes.py:        self.found_cuda = False
packages/amuse-fastkick/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-fastkick/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-fastkick/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-fastkick/support/setup_codes.py:            self.found_cuda = True
packages/amuse-fastkick/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-fastkick/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-fastkick/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-fastkick/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-fastkick/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-fastkick/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-fastkick/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-fastkick/support/setup_codes.py:            self.found_cuda = True
packages/amuse-fastkick/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-fastkick/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-fastkick/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-fastkick/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-fastkick/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-fastkick/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-fastkick/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-fastkick/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-fastkick/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-fastkick/support/setup_codes.py:            self.found_cuda = False
packages/amuse-fastkick/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-fastkick/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-fastkick/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-fastkick/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-fastkick/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-fastkick/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-fastkick/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-fastkick/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-fastkick/support/setup_codes.py:        self.found_cuda = True
packages/amuse-fastkick/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-fastkick/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-fastkick/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-fastkick/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-fastkick/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-fastkick/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-fastkick/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-fastkick/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-fastkick/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-fastkick/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-fastkick/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-fastkick/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-fastkick/support/setup_codes.py:            or is_cuda_needed
packages/amuse-fastkick/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-fastkick/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-fastkick/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.h:int cuda_initialize_code();
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.h:int cuda_commit_particles(vector<double>& m, vector<double>& x, vector<double>& y, vector<double>& z);
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.h:int cuda_cleanup_code();
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.h:int cuda_get_potential_at_point(double eps2, double *eps, double *x, double *y, double *z, double *phi, int N);
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.h:int cuda_get_gravity_at_point(double eps2, double *eps, double *x, double *y, double *z, double *ax, double *ay, double *az, int N);
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.h:int cuda_get_potential_energy(double eps2, double *potential_energy);
packages/amuse-fastkick/src/amuse/community/fastkick/interface.py:    MODE_GPU = 'gpu'
packages/amuse-fastkick/src/amuse/community/fastkick/interface.py:        if mode == self.MODE_GPU:
packages/amuse-fastkick/src/amuse/community/fastkick/interface.py:            return "fastkick_worker_gpu"
packages/amuse-fastkick/src/amuse/community/fastkick/Makefile:GPU_OBJ = interface.gpuo cuda_fastkick.o
packages/amuse-fastkick/src/amuse/community/fastkick/Makefile:fastkick_worker_gpu: worker_code.cc worker_code.h  $(GPU_OBJ)
packages/amuse-fastkick/src/amuse/community/fastkick/Makefile:	$(MPICXX) $(CXXFLAGS) $(LDFLAGS) $< $(GPU_OBJ) -o $@ $(CUDA_LIBS) -DGPU  $(LIBS)
packages/amuse-fastkick/src/amuse/community/fastkick/Makefile:interface.gpuo: interface.cc
packages/amuse-fastkick/src/amuse/community/fastkick/Makefile:	$(MPICXX) $(CXXFLAGS) -c -o $@ $< -DGPU
packages/amuse-fastkick/src/amuse/community/fastkick/Makefile:cuda_fastkick.o: cuda_fastkick.cu
packages/amuse-fastkick/src/amuse/community/fastkick/Makefile:	rm -f *.o *.gpuo *.pyc worker_code.cc worker_code.h
packages/amuse-fastkick/src/amuse/community/fastkick/Makefile:	rm -f fastkick_worker fastkick_worker_gpu
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:#include "cuda_fastkick.h"
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:    return handle_result(cuda_initialize_code());
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_commit_particles(m, x, y, z));
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_cleanup_code());
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:        cerr << "recommit_particles: cuda_cleanup_code returned: " << result << endl;
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:    return handle_result(cuda_cleanup_code());
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_get_potential_at_point(eps2, eps_in, x_in, y_in, z_in, phi, length));
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:    cerr << "get_gravity_at_point: start cuda_get_gravity_at_point with " << length << " points and " << n_local << " particles." << endl;
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_get_gravity_at_point(eps2, eps_in, x_in, y_in, z_in, ax, ay, az, length));
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-fastkick/src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_get_potential_energy(eps2, potential_energy));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:#include "cuda_fastkick.h"
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:#define HANDLE_CUDA_ERROR(cuda_error) { \
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    cudaError error = cuda_error; \
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    if (error != cudaSuccess) { \
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:        cerr << "Cuda error in file '" << __FILE__ << "' in line " << __LINE__ << ": "; \
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:        cerr << cudaGetErrorString(error) << endl; \
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_initialize_code() {
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_commit_particles(vector<double>& m, vector<double>& x, vector<double>& y, vector<double>& z) {
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_commit_particles" << endl;
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_x_head, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_y_head, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_z_head, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_x_tail, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_y_tail, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_z_tail, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_m, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_x_head, x_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_y_head, y_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_z_head, z_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_x_tail, x_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_y_tail, y_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_z_tail, z_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_m, m_float, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_commit_particles finished successfully" << endl;
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_cleanup_code() {
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_x_head));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_y_head));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_z_head));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_x_tail));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_y_tail));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_z_tail));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_m));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_get_gravity_at_point(double eps2, double *eps, double *x, double *y, double *z, double *ax, double *ay, double *az, int N) {
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_gravity_at_point" << endl;
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_eps, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_px_head, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_py_head, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_pz_head, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_px_tail, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_py_tail, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_pz_tail, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_ax, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_ay, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_az, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_eps, eps_float, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_px_head, x_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_py_head, y_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_pz_head, z_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_px_tail, x_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_py_tail, y_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_pz_tail, z_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(x_head, dev_ax, N*sizeof(float), cudaMemcpyDeviceToHost));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(y_head, dev_ay, N*sizeof(float), cudaMemcpyDeviceToHost));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(z_head, dev_az, N*sizeof(float), cudaMemcpyDeviceToHost));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_eps));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_px_head));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_py_head));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_pz_head));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_px_tail));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_py_tail));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_pz_tail));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_ax));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_ay));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_az));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_gravity_at_point finished successfully" << endl;
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_get_potential_at_point(double eps2, double *eps, double *x, double *y, double *z, double *phi, int N) {
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_potential_at_point" << endl;
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_eps, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_px_head, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_py_head, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_pz_head, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_px_tail, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_py_tail, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_pz_tail, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_phi, N*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_eps, eps_float, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_px_head, x_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_py_head, y_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_pz_head, z_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_px_tail, x_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_py_tail, y_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_pz_tail, z_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(x_head, dev_phi, N*sizeof(float), cudaMemcpyDeviceToHost));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_eps));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_px_head));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_py_head));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_pz_head));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_px_tail));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_py_tail));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_pz_tail));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_phi));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_potential_at_point finished successfully" << endl;
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_get_potential_energy(double eps2, double *potential_energy) {
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_potential_energy" << endl;
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_partial_results, blocks_per_grid*sizeof(float)));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(partial_results, dev_partial_results, blocks_per_grid*sizeof(float), cudaMemcpyDeviceToHost));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_partial_results));
packages/amuse-fastkick/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_potential_energy finished successfully" << endl;
packages/amuse-galaxia/support/config.py:class cuda(object):
packages/amuse-galaxia/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-galaxia/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-galaxia/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-galaxia/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-galaxia/support/setup_codes.py:        self.found_cuda = False
packages/amuse-galaxia/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-galaxia/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-galaxia/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-galaxia/support/setup_codes.py:            self.found_cuda = True
packages/amuse-galaxia/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-galaxia/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-galaxia/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-galaxia/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-galaxia/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-galaxia/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-galaxia/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-galaxia/support/setup_codes.py:            self.found_cuda = True
packages/amuse-galaxia/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-galaxia/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-galaxia/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-galaxia/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-galaxia/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-galaxia/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-galaxia/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-galaxia/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-galaxia/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-galaxia/support/setup_codes.py:            self.found_cuda = False
packages/amuse-galaxia/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-galaxia/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-galaxia/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-galaxia/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-galaxia/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-galaxia/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-galaxia/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-galaxia/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-galaxia/support/setup_codes.py:        self.found_cuda = True
packages/amuse-galaxia/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-galaxia/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-galaxia/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-galaxia/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-galaxia/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-galaxia/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-galaxia/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-galaxia/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-galaxia/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-galaxia/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-galaxia/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-galaxia/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-galaxia/support/setup_codes.py:            or is_cuda_needed
packages/amuse-galaxia/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-galaxia/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-galaxia/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-vader/support/config.py:class cuda(object):
packages/amuse-vader/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-vader/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-vader/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-vader/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-vader/support/setup_codes.py:        self.found_cuda = False
packages/amuse-vader/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-vader/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-vader/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-vader/support/setup_codes.py:            self.found_cuda = True
packages/amuse-vader/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-vader/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-vader/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-vader/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-vader/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-vader/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-vader/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-vader/support/setup_codes.py:            self.found_cuda = True
packages/amuse-vader/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-vader/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-vader/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-vader/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-vader/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-vader/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-vader/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-vader/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-vader/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-vader/support/setup_codes.py:            self.found_cuda = False
packages/amuse-vader/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-vader/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-vader/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-vader/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-vader/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-vader/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-vader/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-vader/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-vader/support/setup_codes.py:        self.found_cuda = True
packages/amuse-vader/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-vader/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-vader/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-vader/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-vader/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-vader/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-vader/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-vader/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-vader/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-vader/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-vader/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-vader/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-vader/support/setup_codes.py:            or is_cuda_needed
packages/amuse-vader/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-vader/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-vader/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-brutus/support/config.py:class cuda(object):
packages/amuse-brutus/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-brutus/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-brutus/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-brutus/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-brutus/support/setup_codes.py:        self.found_cuda = False
packages/amuse-brutus/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-brutus/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-brutus/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-brutus/support/setup_codes.py:            self.found_cuda = True
packages/amuse-brutus/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-brutus/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-brutus/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-brutus/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-brutus/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-brutus/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-brutus/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-brutus/support/setup_codes.py:            self.found_cuda = True
packages/amuse-brutus/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-brutus/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-brutus/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-brutus/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-brutus/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-brutus/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-brutus/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-brutus/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-brutus/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-brutus/support/setup_codes.py:            self.found_cuda = False
packages/amuse-brutus/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-brutus/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-brutus/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-brutus/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-brutus/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-brutus/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-brutus/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-brutus/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-brutus/support/setup_codes.py:        self.found_cuda = True
packages/amuse-brutus/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-brutus/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-brutus/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-brutus/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-brutus/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-brutus/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-brutus/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-brutus/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-brutus/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-brutus/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-brutus/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-brutus/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-brutus/support/setup_codes.py:            or is_cuda_needed
packages/amuse-brutus/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-brutus/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-brutus/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-mesa-r2208/support/config.py:class cuda(object):
packages/amuse-mesa-r2208/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-mesa-r2208/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-mesa-r2208/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-mesa-r2208/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-mesa-r2208/support/setup_codes.py:        self.found_cuda = False
packages/amuse-mesa-r2208/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-mesa-r2208/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-mesa-r2208/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-mesa-r2208/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-mesa-r2208/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-mesa-r2208/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-mesa-r2208/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-mesa-r2208/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-mesa-r2208/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-mesa-r2208/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-mesa-r2208/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mesa-r2208/support/setup_codes.py:            self.found_cuda = False
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-mesa-r2208/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-mesa-r2208/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mesa-r2208/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mesa-r2208/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-mesa-r2208/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-mesa-r2208/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mesa-r2208/support/setup_codes.py:        self.found_cuda = True
packages/amuse-mesa-r2208/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-mesa-r2208/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-mesa-r2208/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-mesa-r2208/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-mesa-r2208/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-mesa-r2208/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-mesa-r2208/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-mesa-r2208/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-mesa-r2208/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mesa-r2208/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-mesa-r2208/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mesa-r2208/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-mesa-r2208/support/setup_codes.py:            or is_cuda_needed
packages/amuse-mesa-r2208/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-mesa-r2208/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-mesa-r2208/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-hermite/support/config.py:class cuda(object):
packages/amuse-hermite/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-hermite/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-hermite/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-hermite/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-hermite/support/setup_codes.py:        self.found_cuda = False
packages/amuse-hermite/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-hermite/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-hermite/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-hermite/support/setup_codes.py:            self.found_cuda = True
packages/amuse-hermite/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-hermite/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-hermite/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-hermite/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-hermite/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-hermite/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-hermite/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-hermite/support/setup_codes.py:            self.found_cuda = True
packages/amuse-hermite/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-hermite/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-hermite/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-hermite/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-hermite/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-hermite/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-hermite/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-hermite/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-hermite/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-hermite/support/setup_codes.py:            self.found_cuda = False
packages/amuse-hermite/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-hermite/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-hermite/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-hermite/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-hermite/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-hermite/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-hermite/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-hermite/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-hermite/support/setup_codes.py:        self.found_cuda = True
packages/amuse-hermite/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-hermite/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-hermite/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-hermite/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-hermite/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-hermite/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-hermite/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-hermite/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-hermite/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-hermite/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-hermite/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-hermite/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-hermite/support/setup_codes.py:            or is_cuda_needed
packages/amuse-hermite/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-hermite/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-hermite/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-mobse/support/config.py:class cuda(object):
packages/amuse-mobse/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-mobse/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-mobse/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-mobse/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-mobse/support/setup_codes.py:        self.found_cuda = False
packages/amuse-mobse/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-mobse/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-mobse/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-mobse/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mobse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-mobse/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-mobse/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-mobse/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-mobse/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-mobse/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-mobse/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-mobse/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mobse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-mobse/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-mobse/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-mobse/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-mobse/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-mobse/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-mobse/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-mobse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mobse/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mobse/support/setup_codes.py:            self.found_cuda = False
packages/amuse-mobse/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mobse/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-mobse/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-mobse/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mobse/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mobse/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-mobse/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-mobse/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mobse/support/setup_codes.py:        self.found_cuda = True
packages/amuse-mobse/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-mobse/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-mobse/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-mobse/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-mobse/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-mobse/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-mobse/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-mobse/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-mobse/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mobse/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-mobse/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mobse/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-mobse/support/setup_codes.py:            or is_cuda_needed
packages/amuse-mobse/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-mobse/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-mobse/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-mosse/support/config.py:class cuda(object):
packages/amuse-mosse/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-mosse/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-mosse/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-mosse/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-mosse/support/setup_codes.py:        self.found_cuda = False
packages/amuse-mosse/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-mosse/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-mosse/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-mosse/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mosse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-mosse/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-mosse/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-mosse/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-mosse/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-mosse/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-mosse/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-mosse/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mosse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-mosse/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-mosse/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-mosse/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-mosse/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-mosse/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-mosse/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-mosse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mosse/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mosse/support/setup_codes.py:            self.found_cuda = False
packages/amuse-mosse/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mosse/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-mosse/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-mosse/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mosse/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mosse/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-mosse/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-mosse/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mosse/support/setup_codes.py:        self.found_cuda = True
packages/amuse-mosse/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-mosse/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-mosse/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-mosse/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-mosse/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-mosse/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-mosse/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-mosse/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-mosse/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mosse/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-mosse/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mosse/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-mosse/support/setup_codes.py:            or is_cuda_needed
packages/amuse-mosse/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-mosse/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-mosse/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-petar/support/config.py:class cuda(object):
packages/amuse-petar/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-petar/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-petar/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-petar/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-petar/support/setup_codes.py:        self.found_cuda = False
packages/amuse-petar/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-petar/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-petar/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-petar/support/setup_codes.py:            self.found_cuda = True
packages/amuse-petar/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-petar/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-petar/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-petar/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-petar/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-petar/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-petar/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-petar/support/setup_codes.py:            self.found_cuda = True
packages/amuse-petar/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-petar/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-petar/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-petar/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-petar/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-petar/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-petar/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-petar/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-petar/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-petar/support/setup_codes.py:            self.found_cuda = False
packages/amuse-petar/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-petar/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-petar/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-petar/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-petar/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-petar/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-petar/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-petar/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-petar/support/setup_codes.py:        self.found_cuda = True
packages/amuse-petar/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-petar/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-petar/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-petar/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-petar/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-petar/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-petar/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-petar/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-petar/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-petar/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-petar/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-petar/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-petar/support/setup_codes.py:            or is_cuda_needed
packages/amuse-petar/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-petar/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-petar/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-ph4/support/config.py:class cuda(object):
packages/amuse-ph4/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-ph4/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-ph4/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-ph4/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-ph4/support/setup_codes.py:        self.found_cuda = False
packages/amuse-ph4/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-ph4/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-ph4/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-ph4/support/setup_codes.py:            self.found_cuda = True
packages/amuse-ph4/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-ph4/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-ph4/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-ph4/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-ph4/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-ph4/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-ph4/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-ph4/support/setup_codes.py:            self.found_cuda = True
packages/amuse-ph4/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-ph4/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-ph4/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-ph4/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-ph4/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-ph4/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-ph4/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-ph4/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-ph4/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-ph4/support/setup_codes.py:            self.found_cuda = False
packages/amuse-ph4/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-ph4/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-ph4/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-ph4/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-ph4/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-ph4/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-ph4/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-ph4/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-ph4/support/setup_codes.py:        self.found_cuda = True
packages/amuse-ph4/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-ph4/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-ph4/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-ph4/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-ph4/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-ph4/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-ph4/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-ph4/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-ph4/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-ph4/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-ph4/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-ph4/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-ph4/support/setup_codes.py:            or is_cuda_needed
packages/amuse-ph4/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-ph4/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-ph4/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:            n_workers = 1, use_gpu = 1, gpu_worker = 1,
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:    print("use_gpu =", use_gpu)
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:    # Note that there are actually three GPU options:
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:    #	3. use the non-GPU code (-G)
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:    if gpu_worker == 1:
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:                           redirection = "none", mode = "gpu")
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:    gravity.parameters.use_gpu = use_gpu
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:    use_gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:    gpu_worker = 0
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:            use_gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:            use_gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:            gpu_worker = 0
packages/amuse-ph4/src/amuse/community/ph4/test_multiples2.py:            use_gpu, gpu_worker,
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:            n_workers = 1, use_gpu = 1, gpu_worker = 1,
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:    print("use_gpu =", use_gpu)
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:    # Note that there are actually three GPU options:
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:    #	3. use the non-GPU code (-G)
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:    if gpu_worker == 1:
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:                           redirection = "none", mode = "gpu")
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:    gravity.parameters.use_gpu = use_gpu
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:    use_gpu = 1
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:    gpu_worker = 1
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:                n_workers, use_gpu, gpu_worker,
packages/amuse-ph4/src/amuse/community/ph4/util/run_ph4.py:                                      n_workers, use_gpu, gpu_worker,
packages/amuse-ph4/src/amuse/community/ph4/util/initialize_system.py:               n_workers = 1, use_gpu = 1, gpu_worker = 1,
packages/amuse-ph4/src/amuse/community/ph4/util/initialize_system.py:    # Note that there are actually three GPU options:
packages/amuse-ph4/src/amuse/community/ph4/util/initialize_system.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-ph4/src/amuse/community/ph4/util/initialize_system.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-ph4/src/amuse/community/ph4/util/initialize_system.py:    #	3. use the non-GPU code (-G)
packages/amuse-ph4/src/amuse/community/ph4/util/initialize_system.py:    if gpu_worker == 1:
packages/amuse-ph4/src/amuse/community/ph4/util/initialize_system.py:                           redirection = "none", mode = "gpu")
packages/amuse-ph4/src/amuse/community/ph4/util/initialize_system.py:    gravity.parameters.use_gpu = use_gpu
packages/amuse-ph4/src/amuse/community/ph4/util/initialize_system.py:    use_gpu = 1
packages/amuse-ph4/src/amuse/community/ph4/util/initialize_system.py:    gpu_worker = 1
packages/amuse-ph4/src/amuse/community/ph4/util/initialize_system.py:    make_nbody(N, time, n_workers, use_gpu, gpu_worker,
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:             n_workers = 1, use_gpu = 1, gpu_worker = 1,
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:    print("use_gpu =", use_gpu)
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:    # Note that there are actually three GPU options to test:
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:    #	3. use the non-GPU code (-G)
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:    if gpu_worker == 1:
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:                           redirection = "none", mode = "gpu")
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:    gravity.parameters.use_gpu = use_gpu
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:    use_gpu = 1
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:    gpu_worker = 1
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:            use_gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:            use_gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:            gpu_worker = 0
packages/amuse-ph4/src/amuse/community/ph4/test_multiples.py:             use_gpu, gpu_worker,
packages/amuse-ph4/src/amuse/community/ph4/interface.py:    Parallel, GPU-accelerated, N-body integration module with block
packages/amuse-ph4/src/amuse/community/ph4/interface.py:    MODE_GPU = 'gpu'
packages/amuse-ph4/src/amuse/community/ph4/interface.py:        elif mode == self.MODE_GPU:
packages/amuse-ph4/src/amuse/community/ph4/interface.py:            return 'ph4_worker_gpu'
packages/amuse-ph4/src/amuse/community/ph4/interface.py:    def set_gpu():
packages/amuse-ph4/src/amuse/community/ph4/interface.py:        Set use_gpu.
packages/amuse-ph4/src/amuse/community/ph4/interface.py:        function.addParameter('gpu', dtype='int32',
packages/amuse-ph4/src/amuse/community/ph4/interface.py:    def get_gpu():
packages/amuse-ph4/src/amuse/community/ph4/interface.py:        Get use_gpu.
packages/amuse-ph4/src/amuse/community/ph4/interface.py:        function.addParameter('gpu', dtype='int32',
packages/amuse-ph4/src/amuse/community/ph4/interface.py:    def set_gpu_id():
packages/amuse-ph4/src/amuse/community/ph4/interface.py:        Set gpu_id.
packages/amuse-ph4/src/amuse/community/ph4/interface.py:        function.addParameter('gpu_id', dtype='int32',
packages/amuse-ph4/src/amuse/community/ph4/interface.py:    def get_gpu_id():
packages/amuse-ph4/src/amuse/community/ph4/interface.py:        Get gpu_id.
packages/amuse-ph4/src/amuse/community/ph4/interface.py:        function.addParameter('gpu_id', dtype='int32',
packages/amuse-ph4/src/amuse/community/ph4/interface.py:            "get_gpu",                   # getter name in interface.cc
packages/amuse-ph4/src/amuse/community/ph4/interface.py:            "set_gpu",                   # setter name in interface.cc
packages/amuse-ph4/src/amuse/community/ph4/interface.py:            "use_gpu",                   # python parameter name
packages/amuse-ph4/src/amuse/community/ph4/interface.py:            "use GPU",                   # description
packages/amuse-ph4/src/amuse/community/ph4/interface.py:            "get_gpu_id",                # getter name in interface.cc
packages/amuse-ph4/src/amuse/community/ph4/interface.py:            "set_gpu_id",                # setter name in interface.cc
packages/amuse-ph4/src/amuse/community/ph4/interface.py:            "gpu_id",                    # python parameter name
packages/amuse-ph4/src/amuse/community/ph4/interface.py:            "GPU ID",                    # description
packages/amuse-ph4/src/amuse/community/ph4/Makefile:ALL	 = ph4_worker # ph4_worker_gpu
packages/amuse-ph4/src/amuse/community/ph4/Makefile:CUDA_TK  ?= /usr/local/cuda
packages/amuse-ph4/src/amuse/community/ph4/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
packages/amuse-ph4/src/amuse/community/ph4/Makefile:CUDA_LIBS ?= $(CUDA_LIBDIRS) -lcudart
packages/amuse-ph4/src/amuse/community/ph4/Makefile:LDFLAGS_GPU =	$(LDFLAGS) \
packages/amuse-ph4/src/amuse/community/ph4/Makefile:		$(CUDA_LIBS) \
packages/amuse-ph4/src/amuse/community/ph4/Makefile:CODELIB_GPU = src/libph4gpu.a
packages/amuse-ph4/src/amuse/community/ph4/Makefile:$(CODELIB_GPU):
packages/amuse-ph4/src/amuse/community/ph4/Makefile:	make -C src gpulib CXX=$(MPICXX)
packages/amuse-ph4/src/amuse/community/ph4/Makefile:ph4_worker_gpu: worker_code.cc interface.h $(CODELIB_GPU) $(OBJS)
packages/amuse-ph4/src/amuse/community/ph4/Makefile:	$(MPICXX) $(CXXFLAGS) worker_code.cc $(OBJS) $(CODELIB_GPU) -o $@ $(LDFLAGS_GPU) -DGPU  $(LIBS)
packages/amuse-ph4/src/amuse/community/ph4/Makefile:	$(RM) -f *~ ph4_worker ph4_worker_gpu ph4_worker_sockets ph4_worker_gpu_sockets
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:    jd->setup_gpu();
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:	PRC(jd->mpi_size); PRL(jd->have_gpu);
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:int set_gpu(int gpu)
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:    jd->use_gpu = jd->have_gpu && (gpu == 1);
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:int get_gpu(int * gpu)
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:    *gpu = jd->use_gpu;
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:int set_gpu_id(int gpu_id)
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:    jd->gpu_id = gpu_id;
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:int get_gpu_id(int * gpu_id)
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:    *gpu_id = jd->gpu_id;
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:    if (jd->use_gpu && !jd->have_gpu) jd->use_gpu = false;
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:	PRC(jd->have_gpu); PRL(jd->use_gpu);
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:    // update the GPU and scheduler.  The jdata arrays should already
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:    if (!jd->use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:	jd->initialize_gpu(true);		// reload the GPU
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:    if (!jd->use_gpu)
packages/amuse-ph4/src/amuse/community/ph4/interface.cc:	jd->initialize_gpu(true);		// reload the GPU
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:             n_workers = 1, use_gpu = 1, gpu_worker = 1, gpu_id = -1,
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    print("use_gpu =", use_gpu)
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    # Note that there are actually really three GPU options to test:
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    #	3. use the non-GPU code (-G)
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    if gpu_worker == 1:
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:                           redirection = "none", mode = "gpu")
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:            gpu = 1
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:            print('*** GPU worker code not found. Reverting to non-GPU code. ***')
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:            gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    if gpu == 0:
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    gravity.parameters.gpu_id = gpu_id
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    gravity.parameters.use_gpu = use_gpu
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    use_gpu = 1
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    gpu_worker = 1
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:    gpu_id = -1
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:            use_gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:            use_gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:            gpu_worker = 0
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:            gpu_id = int(a)
packages/amuse-ph4/src/amuse/community/ph4/test_sync.py:             use_gpu, gpu_worker, gpu_id,
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc://	void jdata::setup_gpu()
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:#ifdef GPU
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:void jdata::setup_gpu()
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    const char *in_function = "jdata::setup_gpu";
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    // Determine GPU availability and use, based on the option
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:#ifdef GPU
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    have_gpu = use_gpu = true;
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    have_gpu = use_gpu = false;
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    // Don't update the GPU(s), if any, yet, as repeated removals will
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    // Final consistency check on GPU availability/use.
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    if (use_gpu && !have_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	if (mpi_rank == 0) cout << endl << "GPU unavailable" << endl << flush;
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	use_gpu = false;
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    if (!use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	if (have_gpu && mpi_rank == 0)
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	    cout << endl << "GPU use disabled" << endl << flush;
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	// Copy all data into the GPU.
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	cout << endl << "initializing GPU(s) for " << mpi_rank 
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	initialize_gpu();
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	if (DEBUG > 1) cout << "GPU initialization done for " << mpi_rank
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    // use the i-data (and GPU) to predict and compute the potential.
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	// Direct parallel calculation on the j-data, with no GPU.
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	// Use pot data.  This approach uses the GPU if available, and
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	if (!use_gpu) predict_all(system_time);
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	idat->get_acc_and_jerk();		// parallel, may use GPU
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    // pred_vel).  This function is only called in the non-GPU case.
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    if (!use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	// GPU will do this, if present.  Note that this only predicts
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    if (!use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	// GPU will do this, if present.  Note that this only predicts
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    if (!use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	// GPU will do this, if present.  Note that this only predicts
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	    PRC(jmin); PRC(jnn); PRL(dnnmin);	// GPU implementation
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:#ifdef GPU		// needed because of explicit g6_npipes() below
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	if (use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	    PRC(gpu_calls); PRL(gpu_total);
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:		    = 6.e-8*(nj-1)*gpu_calls*npipes/(elapsed_time+_TINY_);
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:		Gflops_user_max = 6.e-8*(nj-1)*gpu_calls*npipes
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:    if (use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.cc:	// get_densities_on_gpu();		// not tested yet
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:// * GRAPE/GPU specific code *
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc://	void jdata::initialize_gpu()
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc://	void idata::update_gpu()
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc://	void idata::get_partial_acc_and_jerk_on_gpu()
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc://	void jdata::get_densities_on_gpu(idata& id)  (UNDER DEVELOPMENT)  MPI
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:// No need to check jdata::use_gpu here, as the GPU functions will
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:// only be called if use_gpu = true.
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:void jdata::initialize_gpu(bool reinitialize)	// default = false
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "jdata::initialize_gpu";
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:    // (Re)initialize the local GPU(s): reload all particles.
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	// g6_open() logic is for a single GPU.  May be overridden by
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	// a configuration file.  If gpu_id is >= 0, use that GPU.
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	// Otherwise use GPU 0 for a single-process run, MPI rank for
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	// a multi-process run.  No check for a valid GPU ID.
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	//PRL(gpu_id);
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	int gpu_to_use = clusterid;
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	if (gpu_id >= 0) gpu_to_use = gpu_id;
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	cout << "opening GPU " << gpu_to_use << endl << flush;
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	g6_open(gpu_to_use);
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:    // Load all local particles into the GPU.
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:void jdata::update_gpu(int jlist[], int njlist)
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "jdata::update_gpu";
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:    // Load data for the listed j-particles into the GPU.
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:    // Load particles into the GPU.
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:		    cout << "jdata::update_gpu(): jj = " << jj << " "
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:void idata::update_gpu()
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "idata::update_gpu";
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:    // Load corrected data for all i-particles into the local GPUs.
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:		cout << "idata::update_gpu(): i = "
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:void jdata::sync_gpu()
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:    // Do phony work on the GPU to force synchronization of the
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "sync_gpu";
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:void idata::get_partial_acc_and_jerk_on_gpu(bool pot)	// default = false
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "idata::get_partial_acc_and_jerk_on_gpu";
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	jdat->gpu_calls += 1;
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	jdat->gpu_total += nni;
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	    // Note: The pnn array contains the GRAPE/GPU indices of
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	    // the nearest neighbors.  The "index" sent to the GPU is
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:void jdata::get_densities_on_gpu()	// under development
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "jdata::get_densities_on_gpu";
packages/amuse-ph4/src/amuse/community/ph4/src/gpu.cc:	    // the GPU neighbor list for particle j includes j).
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:# command-line argument NOSYNC=-DNOSYNC turns *off* GPU sync in
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:OBJS    = jdata.o idata.o scheduler.o grape.o gpu.o util.o diag.o debug.o
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:GPUOBJS	= $(subst .o,.gpuo, $(OBJS))
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:	  -L/usr/local/cuda/lib -lcuda -lcudart \
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:EXE	= parallel_hermite_4 parallel_hermite_4_noGPU smallN kepler analyze
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:.SUFFIXES: .cc .o .gpuo
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:.cc.gpuo:
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:	$(MPICXX) $(CFLAGS) -DGPU -c $< -o $@
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:parallel_hermite_4:	parallel_hermite_4.cc $(GPUOBJS) $(EXTRAOBJS)
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:	$(MPICXX) $(NOSYNC) $(CFLAGS) -DGPU parallel_hermite_4.cc \
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:	    $(GPUOBJS) $(EXTRAOBJS) $(LIBS) -o $@
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:parallel_hermite_4_noGPU:	parallel_hermite_4.cc $(OBJS) $(EXTRAOBJS)
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:	mpiexec -n $(NWORKER) parallel_hermite_4 $(ARGS)	> GPU.log
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:testph42:	parallel_hermite_4 parallel_hermite_4_noGPU
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:	mpiexec -n $(NWORKER) parallel_hermite_4 $(ARGS)	> GPU.log
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:	mpiexec -n $(NWORKER) parallel_hermite_4_noGPU $(ARGS)	> noGPU.log
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile.ph4:	$(RM) -r -f *.o *.gpuo *.co *.fo *~ *.tgz *.dSYM $(EXE) $(TEST_NSTAB)
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile:GPU	  = -DGPU
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile:CODELIB_GPU = libph4gpu.a
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile:CODEOBJS = debug.o diag.o gpu.o grape.o idata.o jdata.o scheduler.o \
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile:CODEOBJS_GPU = $(subst .o,.gpuo, $(CODEOBJS))
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile:GPUFLAGS = $(GPU)
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile:gpulib: $(CODELIB_GPU)
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile:$(CODELIB_GPU): $(CODEOBJS_GPU) $(EXTRAOBJS)
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile:	echo $(CODEOBJS_GPU)
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile:	$(AR) $@ $(CODEOBJS_GPU) $(EXTRAOBJS)
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile:$(CODEOBJS_GPU): %.gpuo: %.cc
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile:	$(CXX) $(CXXFLAGS) $(GPUFLAGS) -c -o $@ $< 
packages/amuse-ph4/src/amuse/community/ph4/src/Makefile:	$(RM) -r -f *.o *.co *~ *.tgz *.a *.gpuo
packages/amuse-ph4/src/amuse/community/ph4/src/TODO:2. Implement parallel multi-GPU use.  Necessary code is in
packages/amuse-ph4/src/amuse/community/ph4/src/old_close_encounter.cc:    // parallelized and sped up using the GPU.  TODO.
packages/amuse-ph4/src/amuse/community/ph4/src/old_close_encounter.cc:	// in order to recompute the potential energy, update the GPU
packages/amuse-ph4/src/amuse/community/ph4/src/old_close_encounter.cc:    // Send new data on all affected j-particles to GPU.
packages/amuse-ph4/src/amuse/community/ph4/src/old_close_encounter.cc:    if (use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/old_close_encounter.cc:	sync_gpu();	// hardly a true fix for the GPU update
packages/amuse-ph4/src/amuse/community/ph4/src/old_close_encounter.cc:	    initialize_gpu(true);
packages/amuse-ph4/src/amuse/community/ph4/src/old_close_encounter.cc:	    // domains.  Update the GPU data only for the affected
packages/amuse-ph4/src/amuse/community/ph4/src/old_close_encounter.cc:	    // locations.  Function update_gpu() will ignore any
packages/amuse-ph4/src/amuse/community/ph4/src/old_close_encounter.cc:	    update_gpu(nbrlist-merge, 2+merge);  // nbrlist-1 is nbrlist0
packages/amuse-ph4/src/amuse/community/ph4/src/old_close_encounter.cc:    if (!use_gpu) predict_all(system_time);
packages/amuse-ph4/src/amuse/community/ph4/src/old_close_encounter.cc:    if (use_gpu) idat->update_gpu();
packages/amuse-ph4/src/amuse/community/ph4/src/stdinc.h:#endif				// on GPU: not fully tested
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:    bool have_gpu;			// will be true if -DGPU is compiled in
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:    bool use_gpu;			// true if actually using GPU
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:    int gpu_id;				// >= 0 if we have specified a GPU ID
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:    real block_steps, total_steps, gpu_calls, gpu_total;
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:	have_gpu = false;		// correct values will be set at
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:	use_gpu = false;		// run time, in setup_gpu()
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:	block_steps = total_steps = gpu_calls = gpu_total = 0;
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:    void setup_gpu();
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:    // In gpu.cc:
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:    void initialize_gpu(bool reinitialize = false);
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:    void update_gpu(int jlist[], int njlist);
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:    void sync_gpu();
packages/amuse-ph4/src/amuse/community/ph4/src/jdata.h:    void get_densities_on_gpu();
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:// of illustration/experimentation.  Preferable to use GPU acceleration
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc://  no GPU:
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:// The j-data are predicted prior to gather if GPU is not used.
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:// Otherwise, the j-prediction is done on the GPU, but the i-data are
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:// ONLY if the force calculation is done on the front end.  If a GPU
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:    // Without a GPU, this function calculate all quantities with
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:    // With a GPU, function get_partial_acc_and_jerk_on_gpu() uses
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:    if (!jdat->use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:	// Use the GPU to compute the forces.  Note that "pred"
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:	if (DEBUG > 1) cout << "getting acc and jerk on GPU" << endl << flush;
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:	get_partial_acc_and_jerk_on_gpu();
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:	if (DEBUG > 1) cout << "acc and jerk on GPU done" << endl << flush;
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:    // We must do this for all i-particles in the GPU case (no
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:    // current j-domain in the non-GPU case.  In the latter case, ipos
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:    // Don't clutter the GPU code with extra checks used only in the
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:    // non-GPU case.  Just write the loop twice.
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:    if (jdat->use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:	    if (!jdat->use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:		// Don't use pred_pos/vel in the GPU case.  Also, need
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:		// mass for GPU update.  Don't scatter back.
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:    if (!jdat->use_gpu || NN > 0) {
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:    // Predict i-particles only (if using GPU; the GPU will handle the
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:    // GPU).
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:    if (jdat->use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:	// Send updated information to the GPU.
packages/amuse-ph4/src/amuse/community/ph4/src/idata.cc:	update_gpu();
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:Now it is possible for an application to specify which GPUs to use via
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:free choice of GPUs.  What are the likely options we would want to
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:implement?  Assume np processes in the parallel application and ngpu
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:GPUs per node, so ngpu = 2 for cassini, 6 for draco.  Use -P as in
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:kira to specify some sort of list of GPUs.
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:1. For a single worker process, may want to allocate up to ngpu GPUs
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:2. For a parallel process on a single node, better have np <= ngpu.
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:   All processes should have the same number of GPUs, so the only
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:   relevant parameter is the number of GPUs ng per process.  The
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:   simplest scheme is that process i uses GPUs ng*i, ng*i+1,...,
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:   ng*i+ng-1, for i = 0,...,np-1.  For ngpu = 6, as on draco, there
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:   distributed across nodes in order to determine GPU use as in 2.
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:individual GPUs in order to avoid conflicts with other users.  In a
packages/amuse-ph4/src/amuse/community/ph4/src/GPU_options.txt:GPUs is sufficient.  So keep the kira syntax for case 1, and just
packages/amuse-ph4/src/amuse/community/ph4/src/idata.h:    // In gpu.cc:
packages/amuse-ph4/src/amuse/community/ph4/src/idata.h:    void update_gpu();
packages/amuse-ph4/src/amuse/community/ph4/src/idata.h:    void get_partial_acc_and_jerk_on_gpu(bool pot = false);
packages/amuse-ph4/src/amuse/community/ph4/src/close_encounter.cc:    // parallelized and sped up using the GPU.  TODO.
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:	// in order to recompute the potential energy, update the GPU
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:    // Send new data on all affected j-particles to GPU.
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:    if (use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:	sync_gpu();	// hardly a true fix for the GPU update
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:	    initialize_gpu(true);
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:	    // domains.  Update the GPU data only for the affected
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:	    // locations.  Function update_gpu() will ignore any
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:	    update_gpu(jcm_init, ncm_init);
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:	    if (merge) update_gpu(jcm_final, ncm_final);
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:    if (!use_gpu) predict_all(system_time);
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:    if (use_gpu) idat->update_gpu();
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:    // Update the GPU(s).  Maybe too complicated to try to keep track
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:    // reinitialize the GPU data in all worker processes (even if
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:    if (use_gpu) {
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:	sync_gpu();	// not a true fix for the GPU update
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:	initialize_gpu(true);
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:    if (!use_gpu) predict_all(system_time);
packages/amuse-ph4/src/amuse/community/ph4/src/two_body.cc:    if (use_gpu) idat->update_gpu();
packages/amuse-ph4/src/amuse/community/ph4/src/README:1. ph4: parallel, GPU accelerated, 4th-order Hermite integrator,
packages/amuse-ph4/src/amuse/community/ph4/src/README:	  scheduler.[ch]*, grape.[ch]*, gpu.cc, util.cc, diag.cc,
packages/amuse-ph4/src/amuse/community/ph4/src/README:	      -DGPU option, respectively.  In addition, GPU use can be
packages/amuse-ph4/src/amuse/community/ph4/src/README:		    parallel_hermite_4_noGPU
packages/amuse-ph4/src/amuse/community/ph4/src/README:	      All GPU options are supported in all parallel versions.
packages/amuse-ph4/src/amuse/community/ph4/src/README:	      test_ph4.py -G	runs parallel_hermite_4_noGPU
packages/amuse-ph4/src/amuse/community/ph4/src/README:	* the GPU and non-GPU codes produce slightly different
packages/amuse-ph4/src/amuse/community/ph4/src/README:		parallel_hermite_4_noGPU -e 0.001 ...
packages/amuse-ph4/src/amuse/community/ph4/src/README:		mpiexec -n 2 parallel_hermite_4_noGPU -e 0.001 ... different
packages/amuse-ph4/src/amuse/community/ph4/src/README:		the noGPU differences seem to be significantly smaller
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:// Parallel fourth-order Hermite integrator with GRAPE/GPU
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc://	-g		suppress GPU use			[use GPU]
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:void run_hermite4(int ntotal, int seed, char *file, bool use_gpu,
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:    jd.setup_gpu();		// set have_gpu and default use_gpu
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:    if (use_gpu && !jd.have_gpu) use_gpu = false;
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:    jd.use_gpu = use_gpu;
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:    bool remove = false;	// don't check GPU bug in remove_particle()
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:	    if (!jd.use_gpu)
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:		jd.initialize_gpu(true);		// reload the GPU
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:#ifdef GPU
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:    bool use_gpu = true;
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:    bool use_gpu = false;
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:		case 'g':	use_gpu = !use_gpu;
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:	cout << "    -g "; PRL(use_gpu);
packages/amuse-ph4/src/amuse/community/ph4/src/parallel_hermite_4.cc:    run_hermite4(ntotal, seed, infile, use_gpu,
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:             n_workers = 1, use_gpu = 1, gpu_worker = 1, gpu_id = -1,
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    print("use_gpu =", use_gpu)
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    # Note that there are actually three GPU options to test:
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    #	3. use the non-GPU code (-G)
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    if gpu_worker == 1:
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:                           redirection = "none", mode = "gpu")
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:            gpu = 1
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:            print('*** GPU worker code not found. Reverting to non-GPU code. ***')
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:            gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    if gpu == 0:
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    gravity.parameters.gpu_id = gpu_id
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    gravity.parameters.use_gpu = use_gpu
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    use_gpu = 1
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    gpu_worker = 1
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:    gpu_id = -1
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:            use_gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:            use_gpu = 0
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:            gpu_worker = 0
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:            gpu_id = int(a)
packages/amuse-ph4/src/amuse/community/ph4/test_ph4.py:             use_gpu, gpu_worker, gpu_id,
packages/amuse-secularmultiple/support/config.py:class cuda(object):
packages/amuse-secularmultiple/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-secularmultiple/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-secularmultiple/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-secularmultiple/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-secularmultiple/support/setup_codes.py:        self.found_cuda = False
packages/amuse-secularmultiple/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-secularmultiple/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-secularmultiple/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-secularmultiple/support/setup_codes.py:            self.found_cuda = True
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-secularmultiple/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-secularmultiple/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-secularmultiple/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-secularmultiple/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-secularmultiple/support/setup_codes.py:            self.found_cuda = True
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-secularmultiple/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-secularmultiple/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-secularmultiple/support/setup_codes.py:            self.found_cuda = False
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-secularmultiple/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-secularmultiple/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-secularmultiple/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-secularmultiple/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-secularmultiple/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-secularmultiple/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-secularmultiple/support/setup_codes.py:        self.found_cuda = True
packages/amuse-secularmultiple/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-secularmultiple/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-secularmultiple/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-secularmultiple/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-secularmultiple/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-secularmultiple/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-secularmultiple/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-secularmultiple/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-secularmultiple/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-secularmultiple/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-secularmultiple/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-secularmultiple/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-secularmultiple/support/setup_codes.py:            or is_cuda_needed
packages/amuse-secularmultiple/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-secularmultiple/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-secularmultiple/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-framework/support/config.py:class cuda(object):
packages/amuse-framework/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-framework/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-framework/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-framework/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-framework/support/setup_codes.py:        self.found_cuda = False
packages/amuse-framework/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-framework/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-framework/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-framework/support/setup_codes.py:            self.found_cuda = True
packages/amuse-framework/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-framework/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-framework/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-framework/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-framework/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-framework/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-framework/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-framework/support/setup_codes.py:            self.found_cuda = True
packages/amuse-framework/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-framework/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-framework/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-framework/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-framework/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-framework/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-framework/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-framework/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-framework/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-framework/support/setup_codes.py:            self.found_cuda = False
packages/amuse-framework/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-framework/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-framework/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-framework/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-framework/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-framework/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-framework/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-framework/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-framework/support/setup_codes.py:        self.found_cuda = True
packages/amuse-framework/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-framework/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-framework/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-framework/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-framework/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-framework/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-framework/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-framework/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-framework/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-framework/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-framework/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-framework/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-framework/support/setup_codes.py:            or is_cuda_needed
packages/amuse-framework/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-framework/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-framework/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-framework/configure:CUDA_LIBS
packages/amuse-framework/configure:WITH_CUDA
packages/amuse-framework/configure:CUDA_TK
packages/amuse-framework/configure:enable_cuda
packages/amuse-framework/configure:with_cuda_libdir
packages/amuse-framework/configure:with_opencl
packages/amuse-framework/configure:CUDA_TK
packages/amuse-framework/configure:  --enable-cuda           Enable CUDA for codes
packages/amuse-framework/configure:   --with-cuda-libdir=PFX   Directory where libcuda.so is installed (optional)
packages/amuse-framework/configure:  --with-opencl=PFX       Prefix where OpenCl has been installed
packages/amuse-framework/configure:  NVCC        CUDA compiler command
packages/amuse-framework/configure:  NVCC_FLAGS  Extra flags for the CUDA nvcc compiler
packages/amuse-framework/configure:  CUDA_TK     CUDA toolkit directory
packages/amuse-framework/configure:    # Check whether --enable-cuda was given.
packages/amuse-framework/configure:if test ${enable_cuda+y}
packages/amuse-framework/configure:  enableval=$enable_cuda; WITH_CUDA=no
packages/amuse-framework/configure:        if test "x$enable_cuda" != "xno"
packages/amuse-framework/configure:        WITH_CUDA=yes
packages/amuse-framework/configure:  WITH_CUDA=no
packages/amuse-framework/configure:        CUDA_TK=/NOCUDACONFIGURED
packages/amuse-framework/configure:        CUDA_LIBS="-L$CUDA_TK cuda cudart"
packages/amuse-framework/configure:# Check whether --with-cuda-libdir was given.
packages/amuse-framework/configure:if test ${with_cuda_libdir+y}
packages/amuse-framework/configure:  withval=$with_cuda_libdir; cuda_libdir="$withval"
packages/amuse-framework/configure:  cuda_libdir="no"
packages/amuse-framework/configure:    if test x"$WITH_CUDA" != xno
packages/amuse-framework/configure:        WITH_CUDA=yes
packages/amuse-framework/configure:as_dummy="$CUDA_TK/bin:$PATH:/usr/local/cuda/cuda/bin:/usr/local/cuda/bin:/opt/cuda/cuda/bin:/opt/cuda/bin
packages/amuse-framework/configure:        if test x"$CUDA_TK" = x
packages/amuse-framework/configure:  as_fn_error $? "CUDA_TK path is not set, and could not find nvcc in path, please set CUDA_TK variable" "$LINENO" 5
packages/amuse-framework/configure:        CUDA_TK_BIN=`$as_dirname -- "$NVCC" ||
packages/amuse-framework/configure:        CUDA_TK=`$as_dirname -- "$CUDA_TK_BIN" ||
packages/amuse-framework/configure:$as_expr X"$CUDA_TK_BIN" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
packages/amuse-framework/configure:	 X"$CUDA_TK_BIN" : 'X\(//\)[^/]' \| \
packages/amuse-framework/configure:	 X"$CUDA_TK_BIN" : 'X\(//\)$' \| \
packages/amuse-framework/configure:	 X"$CUDA_TK_BIN" : 'X\(/\)' \| . 2>/dev/null ||
packages/amuse-framework/configure:printf "%s\n" X"$CUDA_TK_BIN" |
packages/amuse-framework/configure:        as_ac_File=`printf "%s\n" "ac_cv_file_$CUDA_TK/lib" | $as_tr_sh`
packages/amuse-framework/configure:{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CUDA_TK/lib" >&5
packages/amuse-framework/configure:printf %s "checking for $CUDA_TK/lib... " >&6; }
packages/amuse-framework/configure:if test -r "$CUDA_TK/lib"; then
packages/amuse-framework/configure:  as_ac_File=`printf "%s\n" "ac_cv_file_$CUDA_TK/lib64" | $as_tr_sh`
packages/amuse-framework/configure:{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CUDA_TK/lib64" >&5
packages/amuse-framework/configure:printf %s "checking for $CUDA_TK/lib64... " >&6; }
packages/amuse-framework/configure:if test -r "$CUDA_TK/lib64"; then
packages/amuse-framework/configure:  as_fn_error $? "cuda toolkit path is incorrect, must have $CUDA_TK/lib or $CUDA_TK/lib64 directory" "$LINENO" 5
packages/amuse-framework/configure:        CUDART_LIBS=''
packages/amuse-framework/configure:        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking directories for -lcudart" >&5
packages/amuse-framework/configure:printf %s "checking directories for -lcudart... " >&6; }
packages/amuse-framework/configure:    ac_lib_var=`echo cudart'_'main | tr './+\055' '__p_'`
packages/amuse-framework/configure:  for dir in "" $CUDA_TK/lib64 $CUDA_TK/lib
packages/amuse-framework/configure:            LIBS="$LIBS -lcudart "
packages/amuse-framework/configure:            LIBS="$LIBS -L$dir -lcudart "
packages/amuse-framework/configure:          LIBS="$LIBS -lcudart"
packages/amuse-framework/configure:          LIBS="$LIBS -L$dir -lcudart"
packages/amuse-framework/configure:        CUDART_LIBS=$LIBS
packages/amuse-framework/configure:      as_fn_error $? "cannot find cuda runtime libraries in $CUDA_TK/lib $CUDA_TK/lib64" "$LINENO" 5
packages/amuse-framework/configure:        CUDA_PATH=
packages/amuse-framework/configure:        CUDA_LIBS=''
packages/amuse-framework/configure:	if test x"$cuda_libdir" != xno
packages/amuse-framework/configure:            CUDA_LIBS="-L$cuda_libdir -lcuda $CUDART_LIBS"
packages/amuse-framework/configure:        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking directories for -lcuda" >&5
packages/amuse-framework/configure:printf %s "checking directories for -lcuda... " >&6; }
packages/amuse-framework/configure:    ac_lib_var=`echo cuda'_'main | tr './+\055' '__p_'`
packages/amuse-framework/configure:  for dir in "" $CUDA_TK/lib64 $CUDA_TK/lib /usr/lib64 /usr/lib /usr/lib64/nvidia /usr/lib/nvidia /usr/lib/nvidia-current /usr/lib64/nvidia-current
packages/amuse-framework/configure:            LIBS="$LIBS -lcuda "
packages/amuse-framework/configure:            LIBS="$LIBS -L$dir -lcuda "
packages/amuse-framework/configure:          LIBS="$LIBS -lcuda"
packages/amuse-framework/configure:          LIBS="$LIBS -L$dir -lcuda"
packages/amuse-framework/configure:        CUDA_LIBS="$LIBS $CUDART_LIBS"
packages/amuse-framework/configure:      as_fn_error $? "cannot find cuda library" "$LINENO" 5
packages/amuse-framework/configure:# Check whether --with-opencl was given.
packages/amuse-framework/configure:if test ${with_opencl+y}
packages/amuse-framework/configure:  withval=$with_opencl;
packages/amuse-framework/configure:                test "$withval" = no && { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: opencl is an optional package for sapporo2 " >&5
packages/amuse-framework/configure:printf "%s\n" "$as_me: WARNING: opencl is an optional package for sapporo2 " >&2;}
packages/amuse-framework/configure:                   opencl_prefix="$withval"
packages/amuse-framework/configure:                    with_opencl=yes
packages/amuse-framework/configure:                   with_opencl=no
packages/amuse-framework/configure:   with_opencl=yes
packages/amuse-framework/configure:        if test "x$with_opencl" != xno
packages/amuse-framework/configure:if test x$opencl_prefix == x; then
packages/amuse-framework/configure:        opencl_prefix=$PREFIX
packages/amuse-framework/configure:if test x$opencl_prefix != x; then
packages/amuse-framework/configure:    CL_CFLAGS="-I$opencl_prefix/include"
packages/amuse-framework/configure:    CL_LIBS_TRY="-L$opencl_prefix/lib -L$opencl_prefix/lib64 -L$opencl_prefix/lib/x86_64 -L$opencl_prefix/lib/x86"
packages/amuse-framework/configure:ac_fn_c_check_header_compile "$LINENO" "OpenCL/cl.h" "ac_cv_header_OpenCL_cl_h" "$ac_includes_default"
packages/amuse-framework/configure:if test "x$ac_cv_header_OpenCL_cl_h" = xyes
packages/amuse-framework/configure:  printf "%s\n" "#define HAVE_OPENCL_CL_H 1" >>confdefs.h
packages/amuse-framework/configure:{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for OpenCL library" >&5
packages/amuse-framework/configure:printf %s "checking for OpenCL library... " >&6; }
packages/amuse-framework/configure:ax_check_libs="-lOpenCL -lCL"
packages/amuse-framework/configure:# elif defined(HAVE_OPENCL_CL_H)
packages/amuse-framework/configure:#   include <OpenCL/cl.h>
packages/amuse-framework/configure:  ax_check_cl_nvidia_flags="-L/usr/$ax_check_cl_libdir/nvidia" LIBS="$ax_try_lib $ax_check_cl_nvidia_flags $cl_libflags $ax_save_LIBS"
packages/amuse-framework/configure:# elif defined(HAVE_OPENCL_CL_H)
packages/amuse-framework/configure:#   include <OpenCL/cl.h>
packages/amuse-framework/configure:  ax_cv_check_cl_libcl="$ax_try_lib $ax_check_cl_nvidia_flags"; break
packages/amuse-framework/configure:  ax_check_cl_dylib_flag='-dylib_file /System/Library/Frameworks/OpenCL.framework/Versions/A/Libraries/libCL.dylib:/System/Library/Frameworks/OpenCL.framework/Versions/A/Libraries/libCL.dylib' LIBS="$ax_try_lib $ax_check_cl_dylib_flag $cl_libflags $ax_save_LIBS"
packages/amuse-framework/configure:# elif defined(HAVE_OPENCL_CL_H)
packages/amuse-framework/configure:#   include <OpenCL/cl.h>
packages/amuse-framework/configure:  LIBS='-framework OpenCL'
packages/amuse-framework/configure:# elif defined(HAVE_OPENCL_CL_H)
packages/amuse-framework/configure:#   include <OpenCL/cl.h>
packages/amuse-framework/configure:    if test x$WITH_CUDA  =="xno"
packages/amuse-framework/lib/sapporo_2/Makefile:CUDA_TK  ?= /usr/local/cuda
packages/amuse-framework/lib/sapporo_2/Makefile:CXXFLAGS =  -fPIC $(OFLAGS) -I$(CUDA_TK)/include  -D__INCLUDE_KERNELS__ $(CL_CFLAGS)
packages/amuse-framework/lib/sapporo_2/Makefile:NVCC      = $(CUDA_TK)/bin/nvcc  
packages/amuse-framework/lib/sapporo_2/Makefile:ifeq (yes,$(CUDA_ENABLED))
packages/amuse-framework/lib/sapporo_2/Makefile:	@echo "CUDA support is not enabled, sapporo 2 will not be build"
packages/amuse-framework/lib/sapporo_2/Makefile:	echo $(CUDA_ENABLED)
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    int gpuCount = 0;
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaGetDeviceCount(&gpuCount));
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    CUT_CHECK_ERROR("Failed to get CUDA device count\n");
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    return gpuCount;
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:  cudaError_t host_evaluate_gravity(sapporo_multi_struct gpu) {
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    int ofs = gpu.offset;
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    DS t_i = (DS){gpu.t_i_x, gpu.t_i_y};
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    if (gpu.nj_modified > 0) {
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:      int nj_scaled = n_norm(gpu.nj_modified, NTHREADS);
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:      dev_copy_particles<<<grid, threads>>>(gpu.nj_modified,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.nj_max,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.address_j,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.t_j,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.Ppos_j,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.Pvel_j,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.pos_j,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.vel_j,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.acc_j,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.jrk_j);
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    if (gpu.predict) {
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:      int nj_scaled = n_norm(gpu.nj, NTHREADS);
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:      dev_predictor<<<grid_p, threads_p>>>(gpu.nj, 
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.t_j + ofs, 
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.Ppos_j + ofs, 
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.Pvel_j + ofs,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.pos_j  + ofs,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.vel_j  + ofs, 
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.acc_j  + ofs, 
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.jrk_j  + ofs);
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    int p = gpu.ni;
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    int q = min(NTHREADS/gpu.ni, 32);
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    int nj_scaled = n_norm(gpu.nj, q*NBLOCKS);
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    #if CUDART_VERSION < 5000
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:        &gpu.EPS2, 
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:        cudaMemcpyHostToDevice)
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:        &gpu.EPS2, 
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:        cudaMemcpyHostToDevice)
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    if (gpu.ngb)
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:      dev_evaluate_gravity<true><<<grid, threads, shared_mem_size>>>(gpu.nj, 
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                     gpu.Ppos_j+ ofs,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                     gpu.Pvel_j + ofs,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                     gpu.pos_i,  gpu.vel_i,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                     gpu.acc_i,  gpu.jrk_i,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                     gpu.ngb_list);
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:      dev_evaluate_gravity<false><<<grid, threads, shared_mem_size>>>(gpu.nj, 
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                      gpu.Ppos_j + ofs, 
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                      gpu.Pvel_j + ofs,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                      gpu.pos_i,  gpu.vel_i,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                      gpu.acc_i,  gpu.jrk_i,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                      gpu.ngb_list);
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    dim3 grid_r(gpu.ni, 1, 1);
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    dev_reduce_forces<<<grid_r, threads_r, shared_mem_size_r>>>(gpu.acc_i, 
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                gpu.jrk_i, 
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                gpu.ds_i,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                gpu.vel_i,
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:                                                                gpu.ngb_list);
packages/amuse-framework/lib/sapporo_light/host_evaluate_gravity.cu:    return cudaSuccess;
packages/amuse-framework/lib/sapporo_light/Makefile:CUDA_TK  ?= /disks/koppoel1/CUDA23/cuda
packages/amuse-framework/lib/sapporo_light/Makefile:CUDAPATH    ?= $(CUDA_TK)
packages/amuse-framework/lib/sapporo_light/Makefile:CUDAINCLUDE ?= -I$(CUDAPATH)/include 
packages/amuse-framework/lib/sapporo_light/Makefile:NVCC ?= $(CUDAPATH)/bin/nvcc
packages/amuse-framework/lib/sapporo_light/Makefile:NVCCFLAGS :=  $(NVCC_FLAGS) -D_CONSOLE -D_DEBUG  -maxrregcount=32 $(CUDAINCLUDE)
packages/amuse-framework/lib/sapporo_light/Makefile:CXXFLAGS  := -g -DNGB $(CUDAINCLUDE)
packages/amuse-framework/lib/sapporo_light/Makefile:all:  $(CUDA_TK) $(TARGET) $(PROG)
packages/amuse-framework/lib/sapporo_light/Makefile:$(CUDA_TK):
packages/amuse-framework/lib/sapporo_light/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
packages/amuse-framework/lib/sapporo_light/Makefile:	@echo "please set the CUDA_TK variable to the directory"
packages/amuse-framework/lib/sapporo_light/Makefile:	@echo "where you installed CUDA"
packages/amuse-framework/lib/sapporo_light/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
packages/amuse-framework/lib/sapporo_light/sapporo.cpp:sapporo_multi_struct sapporo_multi_data[MAXCUDADEVICES];
packages/amuse-framework/lib/sapporo_light/sapporo.cpp:  nCUDAdevices = get_device_count();
packages/amuse-framework/lib/sapporo_light/sapporo.cpp:  if (nCUDAdevices > 0) {
packages/amuse-framework/lib/sapporo_light/sapporo.cpp:    fprintf(stderr, "sapporo::open - found %d CUDA device(s)\n",
packages/amuse-framework/lib/sapporo_light/sapporo.cpp:            nCUDAdevices);
packages/amuse-framework/lib/sapporo_light/sapporo.cpp:    fprintf(stderr, "sapporo::open - FATAL! No CUDA device found\n");
packages/amuse-framework/lib/sapporo_light/sapporo.cpp:  if(cluster_id >= nCUDAdevices) {
packages/amuse-framework/lib/sapporo_light/sapporo.cpp:    fprintf(stderr, "sapporo::open - FATAL! Cluster id is too high, no cuda device with given id\n");
packages/amuse-framework/lib/sapporo_light/sapporo.cpp:  cudaSetDevice(device_id);
packages/amuse-framework/lib/sapporo_light/sapporo.cpp:  allocate_cuda_memory(device_id);
packages/amuse-framework/lib/sapporo_light/sapporo.cpp:  free_cuda_memory(device_id);
packages/amuse-framework/lib/sapporo_light/sapporo.h: *  a multiGPU GRAPE6-like  
packages/amuse-framework/lib/sapporo_light/sapporo.h:#include <cuda_runtime.h>
packages/amuse-framework/lib/sapporo_light/sapporo.h:  cudaError_t host_evaluate_gravity(sapporo_multi_struct);
packages/amuse-framework/lib/sapporo_light/sapporo.h:  int nCUDAdevices;
packages/amuse-framework/lib/sapporo_light/sapporo.h:  void free_cuda_memory(int);
packages/amuse-framework/lib/sapporo_light/sapporo.h:  void allocate_cuda_memory(int);
packages/amuse-framework/lib/sapporo_light/sapporo.h:    acc_i.resize(n_pipes*MAXCUDADEVICES);
packages/amuse-framework/lib/sapporo_light/sapporo.h:    jrk_i.resize(n_pipes*MAXCUDADEVICES);
packages/amuse-framework/lib/sapporo_light/sapporo.h:    ds_i.resize(n_pipes*MAXCUDADEVICES);
packages/amuse-framework/lib/sapporo_light/sapporo.h:    ngb_list_i.resize(n_pipes*NGB_PP*MAXCUDADEVICES);
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:void sapporo::free_cuda_memory(int ignore) {
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.Ppos_j));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.Pvel_j));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.address_j));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.t_j));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.pos_j));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.vel_j));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.acc_j));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.jrk_j));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.pos_i));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.vel_i));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.acc_i));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.jrk_i));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.ds_i));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.ngb_list_i));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaThreadExit());
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:void sapporo::allocate_cuda_memory(int ignore) {
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.Ppos_j), nj_max * sizeof(DS4)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.Pvel_j), nj_max * sizeof(float4)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.address_j), nj_max * sizeof(int)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.t_j),   2*nj_max * sizeof(DS2)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.pos_j), 2*nj_max * sizeof(DS4)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.vel_j), 2*nj_max * sizeof(float4)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.acc_j), 2*nj_max * sizeof(float4)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.jrk_j), 2*nj_max * sizeof(float4)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.pos_i), n_pipes                 * sizeof(DS4)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.vel_i), n_pipes * (1 + NBLOCKS) * sizeof(float4)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.acc_i), n_pipes *      NBLOCKS  * sizeof(float4)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.jrk_i), n_pipes *      NBLOCKS  * sizeof(float4)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.ds_i),  n_pipes * sizeof(float)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.ngb_list_i), (n_pipes*(NGB_PP + 1) + n_pipes*NBLOCKS*(NGB_PP+1)) * sizeof(int)));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( dev.address_j,      &address_j[0], nj * sizeof(int),    cudaMemcpyHostToDevice));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &dev.t_j  [nj_max], &t_j[0],       nj * sizeof(DS2),    cudaMemcpyHostToDevice));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &dev.pos_j[nj_max], &pos_j[0],     nj * sizeof(DS4),    cudaMemcpyHostToDevice));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &dev.vel_j[nj_max], &vel_j[0],     nj * sizeof(float4), cudaMemcpyHostToDevice));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &dev.acc_j[nj_max], &acc_j[0],     nj * sizeof(float4), cudaMemcpyHostToDevice));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &dev.jrk_j[nj_max], &jrk_j[0],     nj * sizeof(float4), cudaMemcpyHostToDevice));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( dev.pos_i, &pos_i[0], ni * sizeof(DS4),    cudaMemcpyHostToDevice));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( dev.vel_i, &vel_i[0], ni * sizeof(float4), cudaMemcpyHostToDevice));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &acc_i[0], dev.acc_i, ni * sizeof(float4), cudaMemcpyDeviceToHost));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &jrk_i[0], dev.jrk_i, ni * sizeof(float4), cudaMemcpyDeviceToHost));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &ds_i[0],  dev.ds_i,  ni * sizeof(float),  cudaMemcpyDeviceToHost));
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( 
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:               cudaMemcpyDeviceToHost
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    sapporo_multi_struct &gpu = sapporo_multi_data[0];
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.device = device_id;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.EPS2 = EPS2;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.ngb = ngb;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.nj  = dev.nj;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.ni  = dev.ni;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.nj_total = nj;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.nj_max = nj_max;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.nj_modified = nj_modified;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.predict     = predict;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.t_i_x = t_i.x;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.t_i_y = t_i.y;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.address_j = dev.address_j;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.offset = offset;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.t_j = dev.t_j;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.Ppos_j = dev.Ppos_j;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.Pvel_j = dev.Pvel_j;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.pos_j = dev.pos_j;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.vel_j = dev.vel_j;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.acc_j = dev.acc_j;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.jrk_j = dev.jrk_j;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.pos_i = dev.pos_i;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.vel_i = dev.vel_i;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.acc_i = dev.acc_i;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.jrk_i = dev.jrk_i;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.ds_i  = dev.ds_i;
packages/amuse-framework/lib/sapporo_light/send_fetch_data.cpp:    gpu.ngb_list = dev.ngb_list_i;
packages/amuse-framework/lib/sapporo_light/README:Sapporo Light library v1.0 to simulate GRAPE6 hardware with G80/G92 GPUs.
packages/amuse-framework/lib/sapporo_light/README:Testes with CUDA version 3.0
packages/amuse-framework/lib/sapporo_light/README:GPU device per application!
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:#define MAXCUDADEVICES 4
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:#if CUDART_VERSION >= 4000
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaDeviceSynchronize();
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaThreadSynchronize();
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:#  define CUDA_SAFE_CALL_NO_SYNC( call) {                                    \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:    cudaError err = call;                                                    \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:        fprintf(stderr, "Cuda error in file '%s' in line %i : %s.\n",        \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:                __FILE__, __LINE__, cudaGetErrorString( err) );              \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:#  define CUDA_SAFE_CALL( call)     CUDA_SAFE_CALL_NO_SYNC(call);                        
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:    //! Check for CUDA error
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/lib/sapporo_light/sapporo_defs.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/data/AMUSE.bib:        title = "{GPU-enabled particle-particle particle-tree scheme for simulating dense stellar cluster system}",
packages/amuse-framework/src/amuse/data/AMUSE.bib:        title = "{24.77 Pflops on a Gravitational Tree-Code to Simulate the Milky Way Galaxy with 18600 GPUs}",
packages/amuse-framework/src/amuse/data/AMUSE.bib:        title = "{A sparse octree gravitational N-body code that runs entirely on the GPU processor}",
packages/amuse-framework/src/amuse/data/AMUSE.bib:        title = "{Gravitational tree-code on graphics processing units: implementation in CUDA}",
packages/amuse-framework/src/amuse/data/AMUSE.bib:     keywords = {Gravity, Tree-code, GPU, Parallel, CUDA, Astrophysics - Instrumentation and Methods for Astrophysics, Computer Science - Distributed, Parallel, and Cluster Computing},
packages/amuse-framework/src/amuse/test/suite/core_tests/test_options.py:    mode=gpu
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:from amuse.community.higpus.interface import HiGPUsInterface, HiGPUs
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:class HiGPUsInterfaceTests(TestWithMPI):
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_gpu_name("GeForce GTX 480")
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_gpu_name("GeForce GTX 480")
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_gpu_name("GeForce GTX 480")
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:class TestHiGPUs(TestWithMPI):
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs, convert_nbody)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs, convert_nbody)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        self.skip("Need to implement get_gravity_at_point for HiGPUs")
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        self.assertEqual(instance.parameters.gpu_name,  "")
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        self.assertEqual(instance.parameters.n_gpu,  1)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_gravity_codes.py:        instance = self.new_instance_of_an_optional_code(factory, mode='gpu')
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_gravity_codes.py:            instance.parameters.initialize_gpu_once = 1
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_phigrape.py:# ~default_test_options = dict(mode='gpu')
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_phigrape.py:        for current_mode in ['g6lib', 'gpu', 'grape']:
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_phigrape.py:        instance.parameters.initialize_gpu_once = 1
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_fastkick.py:class TestFastKickGPU(TestFastKick):
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_fastkick.py:    mode = "gpu"
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_huayno.py:        for mode in ["cpu", "openmp", "opencl"]:
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_ph4.py:        for current_mode in ['gpu']:
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_ph4.py:        self.assertAlmostRelativeEquals(instance.parameters.use_gpu, 0)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_ph4.py:            instance = ph4(mode="gpu")
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_ph4.py:            self.skip("gpu mode is not available")
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_ph4.py:        gpu_potential = instance.get_potential_at_point(zero, x, zero, zero)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_ph4.py:        nogpu_potential = instance.get_potential_at_point(zero, x, zero, zero)
packages/amuse-framework/src/amuse/test/suite/codes_tests/test_ph4.py:        self.assertAlmostRelativeEquals(nogpu_potential, gpu_potential, 5)
packages/amuse-framework/src/amuse/config.py:    class cuda:
packages/amuse-framework/src/amuse/config.py:        is_enabled = configmk["CUDA_ENABLED"] == "yes"
packages/amuse-framework/src/amuse/config.py:        toolkit_path = configmk["CUDA_TK"]
packages/amuse-framework/src/amuse/config.py:        cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-framework/src/amuse/lab.py:    "HiGPUs",
packages/amuse-framework/src/amuse/community/octgrav/interface.py:        .. [#] ... "A gravitational tree code on graphics processing units: Implementation in CUDA"
packages/amuse-framework/src/amuse/community/octgrav/Makefile:CUDA_TK  ?= /disks/koppoel1/CUDA23/cuda
packages/amuse-framework/src/amuse/community/octgrav/Makefile:MUSE_INCLUDE_DIR = -I$(CODEPATH) -I$(CUDA_TK)/include 
packages/amuse-framework/src/amuse/community/octgrav/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
packages/amuse-framework/src/amuse/community/octgrav/Makefile:CUDA_LIBS ?= -lcudart
packages/amuse-framework/src/amuse/community/octgrav/Makefile:LIBS += $(CUDA_LIBDIRS) $(CUDA_LIBS) 
packages/amuse-framework/src/amuse/community/octgrav/Makefile:$(CUDA_TK):
packages/amuse-framework/src/amuse/community/octgrav/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
packages/amuse-framework/src/amuse/community/octgrav/Makefile:	@echo "please set the CUDA_TK variable to the directory"
packages/amuse-framework/src/amuse/community/octgrav/Makefile:	@echo "where you installed CUDA"
packages/amuse-framework/src/amuse/community/octgrav/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
packages/amuse-framework/src/amuse/community/octgrav/Makefile:compile: $(CUDA_TK) octgrav 
packages/amuse-framework/src/amuse/community/octgrav/README:GPU to calculate gravitational accelerations & potentials.
packages/amuse-framework/src/amuse/community/octgrav/README:Basic requirement is to have CUDA Toolkit & SDK ver >= 1.1. The
packages/amuse-framework/src/amuse/community/octgrav/README:CUDA-enabled GPU is not required for test, but a must for production
packages/amuse-framework/src/amuse/community/octgrav/README:enable use of CUDA device, "--device-emulation" has to be removed from
packages/amuse-framework/src/amuse/community/octgrav/README:Implementation in CUDA", in preparetion; and main MUSE paper,
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_interaction_list_len;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_interaction_node_len;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_interaction_leaf_len;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_interaction_node_list;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_interaction_leaf_list;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_n_node;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_n_leaf;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:#if CUDART_VERSION >= 4000
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaDeviceSynchronize();
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaThreadSynchronize();
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:#  define CUDA_SAFE_CALL_NO_SYNC( call) {                                    \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    cudaError err = call;                                                    \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:        fprintf(stderr, "Cuda error in file '%s' in line %i : %s.\n",        \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:                __FILE__, __LINE__, cudaGetErrorString( err) );              \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:#  define CUDA_SAFE_CALL( call)     CUDA_SAFE_CALL_NO_SYNC(call);                        
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    //! Check for CUDA error
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:void octgrav::allocate_cuda_memory() {
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.bodies_pos,  n_bodies * sizeof(float4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.bodies_grav, n_norm(n_bodies, 256) * sizeof(float4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.children, children_list.size() * sizeof(int4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.node_Qu,      node_list.size() * sizeof(float4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.node_Qd,      node_list.size() * sizeof(float4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.Oct1,      node_list.size() * sizeof(float4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.Oct2,      node_list.size() * sizeof(float4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.Oct3,      node_list.size() * sizeof(float2));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.node_pos,      node_list.size() * sizeof(float4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.node_com,      node_list.size() * sizeof(float4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.n_in_node,     node_list.size() * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.node_bodies_offset, node_list.size() * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://   allocateCUDAarray((void**)&dev.leaf_pos,  leaf_list.size() * sizeof(float4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://   allocateCUDAarray((void**)&dev.leaf_com,  leaf_list.size() * sizeof(float4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://   allocateCUDAarray((void**)&dev.n_in_leaf, leaf_list.size() * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://   allocateCUDAarray((void**)&dev.leaf_bodies_offset, leaf_list.size() * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.cell_pos,  cell_list.size() * sizeof(float4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.cell_com,  cell_list.size() * sizeof(float4));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.n_in_cell, cell_list.size() * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.cell_bodies_offset, cell_list.size() * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:void octgrav::free_cuda_memory() {
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.bodies_pos);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.bodies_grav);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.children);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.node_Qu);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.node_Qd);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.Oct1);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.Oct2);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.Oct3);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.node_pos);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.node_com);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.n_in_node);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.node_bodies_offset);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://    deleteCUDAarray((void*)dev.leaf_pos);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://    deleteCUDAarray((void*)dev.leaf_com);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://    deleteCUDAarray((void*)dev.n_in_leaf);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://    deleteCUDAarray((void*)dev.leaf_bodies_offset);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.cell_pos);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.cell_com);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.n_in_cell);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.cell_bodies_offset);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/CUDA_evaluate_gravity.cpp:double octgrav::CUDA_evaluate_gravity() 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_interaction_list_len;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_interaction_node_len;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_interaction_leaf_len;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_interaction_node_list;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_interaction_leaf_list;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_n_node;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_n_leaf;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  void initCUDA() {   
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  void allocateCUDAarray(void** pos, int n) {
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMalloc((void**)pos, n));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUT_CHECK_ERROR("cudaMalloc failed!\n");
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  void deleteCUDAarray(void* pos) {
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaFree((void*)pos));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUT_CHECK_ERROR("cudaFree failed!\n");
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpy(device, host, n, cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUT_CHECK_ERROR("cudaMemcpy (host->device) failed!\n");
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpy(host, device, n, cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUT_CHECK_ERROR("cudaMemcpy (device->host) failed!\n");
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  void threadSync() { cudaThreadSynchronize(); }
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:	deleteCUDAarray((void*)(what)); \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      allocateCUDAarray((void**)&(what),  max(int(1.3*(oldv)), (int)(newv)) ); \
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    bodies_pos_tex.addressMode[0] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    bodies_pos_tex.addressMode[1] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    bodies_pos_tex.filterMode     = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, bodies_pos_tex, bodies_pos, n_bodies_in * sizeof(float4)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    children_tex.addressMode[0] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    children_tex.addressMode[1] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    children_tex.filterMode     = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, children_tex, children, n_children * sizeof(int4)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_bodies_offset_tex.addressMode[0] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_bodies_offset_tex.addressMode[1] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_bodies_offset_tex.filterMode     = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, node_bodies_offset_tex, node_bodies_offset, n_nodes_in * sizeof(int)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_bodies_offset_tex.addressMode[0] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_bodies_offset_tex.addressMode[1] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_bodies_offset_tex.filterMode     = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, cell_bodies_offset_tex, cell_bodies_offset, n_cells_in * sizeof(int)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_pos_tex.addressMode[0] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_pos_tex.addressMode[1] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_pos_tex.filterMode     = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, node_pos_tex, node_pos, n_nodes_in * sizeof(float4)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_com_tex.addressMode[0] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_com_tex.addressMode[1] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_com_tex.filterMode     = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, node_com_tex, node_com, n_nodes_in * sizeof(float4)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_Qu_tex.addressMode[0]  = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_Qu_tex.addressMode[1]  = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_Qu_tex.filterMode      = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, node_Qu_tex,  node_Qu,  n_nodes_in * sizeof(float4)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_Qd_tex.addressMode[0]  = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_Qd_tex.addressMode[1]  = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_Qd_tex.filterMode      = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, node_Qd_tex,  node_Qd,  n_nodes_in * sizeof(float4)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct1_tex.addressMode[0]  = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct1_tex.addressMode[1]  = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct1_tex.filterMode      = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, Oct1_tex,  Oct1,  n_nodes_in * sizeof(float4)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct2_tex.addressMode[0]  = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct2_tex.addressMode[1]  = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct2_tex.filterMode      = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, Oct2_tex,  Oct2,  n_nodes_in * sizeof(float4)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct3_tex.addressMode[0]  = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct3_tex.addressMode[1]  = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct3_tex.filterMode      = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, Oct3_tex,  Oct3,  n_nodes_in * sizeof(float2)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    n_in_node_tex.addressMode[0] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    n_in_node_tex.addressMode[1] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    n_in_node_tex.filterMode     = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, n_in_node_tex, n_in_node, n_nodes_in * sizeof(int)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_pos_tex.addressMode[0] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_pos_tex.addressMode[1] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_pos_tex.filterMode     = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, cell_pos_tex, cell_pos, n_cells_in * sizeof(float4)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_com_tex.addressMode[0] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_com_tex.addressMode[1] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_com_tex.filterMode     = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, cell_com_tex, cell_com, n_cells_in * sizeof(float4)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    n_in_cell_tex.addressMode[0] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    n_in_cell_tex.addressMode[1] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    n_in_cell_tex.filterMode     = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, n_in_cell_tex, n_in_cell, n_cells_in * sizeof(int)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:#if CUDART_VERSION < 5000
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("inv_opening_angle", &inv_opening_angle_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("softening_squared", &softening_squared_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("root_pos", &root_pos_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("root_com", &root_com_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("n_nodes", &n_nodes_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("n_cells", &n_cells_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("n_bodies", &n_bodies_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(inv_opening_angle, &inv_opening_angle_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(softening_squared, &softening_squared_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(root_pos, &root_pos_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(root_com, &root_com_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(n_nodes, &n_nodes_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(n_cells, &n_cells_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(n_bodies, &n_bodies_in, 
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_interaction_list_len, cuda_interaction_list_len, n_cells_in * sizeof(int3));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_interaction_list_len,  n_cells_in * sizeof(int3));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_interaction_node_len, cuda_interaction_node_len, n_cells_in * sizeof(int2));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_interaction_leaf_len, cuda_interaction_leaf_len, n_cells_in * sizeof(int2));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_interaction_node_len,  n_cells_in * sizeof(int2));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_interaction_leaf_len,  n_cells_in * sizeof(int2));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_interaction_node_list,  n_interacting_nodes_max  * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_interaction_leaf_list,  n_interacting_leaves_max * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_interaction_node_list, cuda_interaction_node_list, n_interacting_nodes_max  * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_interaction_leaf_list, cuda_interaction_leaf_list, n_interacting_leaves_max * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_n_node, cuda_n_node, n_bodies_in * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_n_leaf, cuda_n_leaf, n_bodies_in * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_n_node,  n_bodies_in * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_n_leaf,  n_bodies_in * sizeof(int));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      interaction_node_tex.addressMode[0] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      interaction_node_tex.addressMode[1] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      interaction_node_tex.filterMode     = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      CUDA_SAFE_CALL(cudaBindTexture(0, interaction_node_tex, dev_interaction_node_list, n_interacting_nodes_max * sizeof(int)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      interaction_leaf_tex.addressMode[0] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      interaction_leaf_tex.addressMode[1] = cudaAddressModeWrap;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      interaction_leaf_tex.filterMode     = cudaFilterModePoint;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      CUDA_SAFE_CALL(cudaBindTexture(0, interaction_leaf_tex, dev_interaction_leaf_list, n_interacting_leaves_max * sizeof(int)));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      CUDA_SAFE_CALL(cudaUnbindTexture(interaction_leaf_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      CUDA_SAFE_CALL(cudaUnbindTexture(interaction_node_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(n_in_cell_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(cell_pos_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(cell_com_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(n_in_node_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(node_Qu_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(node_Qd_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(Oct1_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(Oct2_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(Oct3_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(node_com_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(node_pos_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(cell_bodies_offset_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(node_bodies_offset_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(children_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(bodies_pos_tex));
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_n_node);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_n_leaf);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_interaction_list_len);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_interaction_node_len);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_interaction_leaf_len);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_interaction_node_list);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_interaction_leaf_list);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:CUDA_TK  ?= /disks/koppoel1/CUDA23/cuda
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:CFLAGS ?= $(OFLAGS)  -I$(CUDA_TK)/include
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:NVCC      ?= $(CUDA_TK)/bin/nvcc
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:#		--maxrregcount=32 -O0 -g -I$(CUDA_SDK)/common/inc
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:#	 -Xcompiler "-fPIC" --maxrregcount=32  -O3 -I$(CUDA_SDK)/common/inc
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:	CUDA_evaluate_gravity.o
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib64 -L$(CUDA_TK)/lib
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:CUDA_LIBS ?= -lcudart
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:LIBS = $(CUDA_LIBDIRS) $(CUDA_LIBS)
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:CUDA_evaluate_gravity.o: octgrav.h
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/nbint.cpp:// nbint: simple integrator to be linked with GPU-TreeCode octgrav
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/evaluate_gravity.cpp:      initCUDA();
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/evaluate_gravity.cpp:  allocate_cuda_memory();
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/evaluate_gravity.cpp:  double dt_cuda = CUDA_evaluate_gravity();
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/evaluate_gravity.cpp:  //fprintf(stderr, "dt_cuda= %lf\n", dt_cuda);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/evaluate_gravity.cpp:  free_cuda_memory();
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> bodies_pos_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int4,   1, cudaReadModeElementType> children_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> cell_pos_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> cell_com_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int,    1, cudaReadModeElementType> n_in_cell_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> node_pos_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> node_com_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> node_Qu_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> node_Qd_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> Oct1_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> Oct2_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float2, 1, cudaReadModeElementType> Oct3_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int,    1, cudaReadModeElementType> n_in_node_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int,    1, cudaReadModeElementType> node_bodies_offset_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int,    1, cudaReadModeElementType> cell_bodies_offset_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int,    1, cudaReadModeElementType> interaction_node_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int,    1, cudaReadModeElementType> interaction_leaf_tex;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:#include <cuda.h>
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:#if CUDA_VERSION < 3020
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:  void initCUDA();
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:  void allocateCUDAarray(void** pos, int n);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:  void deleteCUDAarray(void* pos);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:  double CUDA_evaluate_gravity();
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:  void allocate_cuda_memory();
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:  void free_cuda_memory();
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_interaction_list_len = 0;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_interaction_node_len = 0;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_interaction_leaf_len = 0;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_interaction_node_list = 0;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_interaction_leaf_list = 0;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_n_node = 0;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_n_leaf = 0;
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_interaction_list_len > 0) deleteCUDAarray((void*)dev_interaction_list_len);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_interaction_node_len > 0) deleteCUDAarray((void*)dev_interaction_node_len);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_interaction_leaf_len > 0) deleteCUDAarray((void*)dev_interaction_leaf_len);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_interaction_node_list > 0) deleteCUDAarray((void*)dev_interaction_node_list);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_interaction_leaf_list > 0) deleteCUDAarray((void*)dev_interaction_leaf_list);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_n_node > 0) deleteCUDAarray((void*)dev_n_node);
packages/amuse-framework/src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_n_leaf > 0) deleteCUDAarray((void*)dev_n_leaf);
packages/amuse-framework/src/amuse/community/bonsai/Makefile:CUDA_TK ?= /usr/local/cuda/
packages/amuse-framework/src/amuse/community/bonsai/Makefile:CUDA_LIBS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcuda 
packages/amuse-framework/src/amuse/community/bonsai/Makefile:#CXXFLAGS += -I$(CUDA_TK)/include
packages/amuse-framework/src/amuse/community/bonsai/Makefile:LIBS += $(CUDA_LIBS) $(LDFLAGS) $(CUDA_LIBDIRS) -L/usr/lib64/nvidia $(SC_MPI_CLIBS)
packages/amuse-framework/src/amuse/community/bonsai/Makefile:INCLUDES = -I$(CUDA_TK)/include $(SC_FLAGS)
packages/amuse-framework/src/amuse/community/bonsai/Makefile:$(CUDA_TK):
packages/amuse-framework/src/amuse/community/bonsai/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
packages/amuse-framework/src/amuse/community/bonsai/Makefile:	@echo "please set the CUDA_TK variable to the directory"
packages/amuse-framework/src/amuse/community/bonsai/Makefile:	@echo "where you installed CUDA"
packages/amuse-framework/src/amuse/community/bonsai/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
packages/amuse-framework/src/amuse/community/bonsai/Makefile:compile: $(CUDA_TK) $(CODELIB) 
packages/amuse-framework/src/amuse/community/bonsai/Makefile:	make -C src all CXX="$(MPICXX)" CUDA_TK="$(CUDA_TK)" LD="$(MPICXX)" LDFLAGS="$(LIBS)" INCLUDES="$(INCLUDES)"
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:/home/jbedorf/NVIDIA_GPU_Computing_SDK/C/bin/linux/release/deviceQuery Starting...
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt: CUDA Device Query (Runtime API) version (CUDART static linking)
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:Found 2 CUDA Capable device(s)
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:  CUDA Driver Version / Runtime Version          4.0 / 4.0
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:  CUDA Capability Major/Minor version number:    2.0
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:  (15) Multiprocessors x (32) CUDA Cores/MP:     480 CUDA Cores
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:  GPU Clock Speed:                               1.40 GHz
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:  Integrated GPU sharing Host Memory:            No
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:     < Default (multiple host threads can use ::cudaSetDevice() with device simultaneously) >
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:  CUDA Driver Version / Runtime Version          4.0 / 4.0
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:  CUDA Capability Major/Minor version number:    2.0
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:  (15) Multiprocessors x (32) CUDA Cores/MP:     480 CUDA Cores
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:  GPU Clock Speed:                               1.40 GHz
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:  Integrated GPU sharing Host Memory:            No
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:     < Default (multiple host threads can use ::cudaSetDevice() with device simultaneously) >
packages/amuse-framework/src/amuse/community/bonsai/deviceQuery.txt:deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 4.0, CUDA Runtime Version = 4.0, NumDevs = 2, Device = GeForce GTX 480, Device = GeForce GTX 480
packages/amuse-framework/src/amuse/community/bonsai/SdkMasterLog.csv:deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 4.0, CUDA Runtime Version = 4.0, NumDevs = 2, Device = GeForce GTX 480, Device = GeForce GTX 480
packages/amuse-framework/src/amuse/community/bonsai/SdkMasterLog.csv:deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 4.0, CUDA Runtime Version = 4.0, NumDevs = 2, Device = GeForce GTX 480, Device = GeForce GTX 480
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:CUDA_TK  = /usr/local/cuda
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:CXXFLAGS =  -fPIC $(OFLAGS) -I$(CUDA_TK)/include 
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:# NVCC      = $(CUDA_TK)/bin/nvcc  --device-emulation
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:# NVCCFLAGS = -D_DEBUG -O0 -g -I$(CUDA_SDK)/common/inc -arch=sm_12 --maxrregcount=64  --opencc-options -OPT:Olimit=0 -I$(CUDPP)/cudpp/include
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:NVCC      = $(CUDA_TK)/bin/nvcc  
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:LDFLAGS = -lcuda -lOpenCL  
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:CUDAKERNELSPATH = CUDAkernels
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:CUDAKERNELS = build_tree.cu \
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:CUDAPTX = $(CUDAKERNELS:%.cu=%.ptx)
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:SRC = main.cpp octree.cpp load_kernels.cpp build.cpp compute_properties.cpp sort_bodies_gpu.cpp gpu_iterate.cpp parallel.cpp
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:all:	  $(OBJ) $(CUDAPTX) $(PROG)
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:kernels:  $(CUDAPTX)
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:%.ptx: $(CUDAKERNELSPATH)/%.cu
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:build_tree.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:compute_properties.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:compute_propertiesD.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:dev_approximate_gravity.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:dev_approximate_gravity_let.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:timestep.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile-full:sortKernels.ptx: $(CUDAKERNELSPATH)/scanKernels.cu  $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:CUDA_TK  ?= /usr/local/cuda
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:CXXFLAGS =  -fPIC $(OFLAGS) -I$(CUDA_TK)/include 
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:# NVCC      = $(CUDA_TK)/bin/nvcc  --device-emulation
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:# NVCCFLAGS = -D_DEBUG -O0 -g -I$(CUDA_SDK)/common/inc -arch=sm_12 --maxrregcount=64  --opencc-options -OPT:Olimit=0 -I$(CUDPP)/cudpp/include
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:NVCC      = $(CUDA_TK)/bin/nvcc  
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:LDFLAGS = -lcuda
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:CUDAKERNELSPATH = CUDAkernels
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:CUDAKERNELS = build_tree.cu \
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:CUDAPTX = $(CUDAKERNELS:%.cu=%.ptx)
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:SRC = main.cpp octree.cpp load_kernels.cpp build.cpp compute_properties.cpp sort_bodies_gpu.cpp gpu_iterate.cpp parallel.cpp libraryInterface.cpp
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:all:	  $(OBJ) $(CUDAPTX) $(PROG) $(CODELIB)
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:kernels:  $(CUDAPTX)
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:$(CODELIB): $(OBJ) $(CUDAPTX)
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:%.ptx: $(CUDAKERNELSPATH)/%.cu
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:build_tree.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:compute_properties.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:compute_propertiesD.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:dev_approximate_gravity.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:dev_approximate_gravity_let.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:timestep.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:sortKernels.ptx: $(CUDAKERNELSPATH)/scanKernels.cu  $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/Makefile:parallel.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h:#define __cuda_assign_operators(tag)
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h:  __cuda_assign_operators(float4)
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h:  __cuda_assign_operators(double2)
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h://Function made by NVIDIA
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h:    // open the OpenCL source code file
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h:    int create(std::ofstream &log, bool disableTiming = false, cl_device_type device_type = CL_DEVICE_TYPE_GPU)
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h:    int create(bool disableTiming = false, cl_device_type device_type = CL_DEVICE_TYPE_GPU) {
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h:      printf("Creating OpenCL context \n");
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h:      //Events work different in openCL than in CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h:      assert(pinned == false);  //Until we fix the mapped memory in openCL!
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h:      assert(pinned == false);  //TODO Until we fix the mapped memory in openCL!
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h:      assert(pinned == false);  //Until we fix the mapped memory in openCL!
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_ocl.h:      //#pragma OPENCL EXTENSION cl_khr_fp64 : enable
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:#define USE_CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:  #include "my_cuda.h"
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:  // OpenCL context
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:  //GPU kernels and functions
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:  void gpuCompact(my_dev::context&, my_dev::dev_mem<uint> &srcValues,
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:  void gpuSplit(my_dev::context&, my_dev::dev_mem<uint> &srcValues,
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:  void gpuSort(my_dev::context &devContext,
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:  void gpuSort_32b(my_dev::context &devContext,
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:  void gpu_collect_sample_particles(int nSample, real4 *sampleParticles);
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:  void gpu_updateDomainDistribution(double timeLocal);
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:  void gpu_updateDomainOnly();
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:  int  gpu_exchange_particles_with_overflow_check(tree_structure &tree, bodyStruct *particlesToSend, my_dev::dev_mem<uint> &extractList, int nToSend);
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:  void gpuRedistributeParticles();
packages/amuse-framework/src/amuse/community/bonsai/src/include/octree.h:    devID = procId % getNumberOfCUDADevices();
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:#ifndef _MY_CUDA_H_
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:#define _MY_CUDA_H_
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h://   __cuda_assign_operators(float4)
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:#include <cuda.h>
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h://Function made by NVIDIA
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:    // open the OpenCL source code file
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_SUCCESS : return "CUDA_SUCCESS";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_INVALID_VALUE : return "CUDA_ERROR_INVALID_VALUE";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_OUT_OF_MEMORY : return "CUDA_ERROR_OUT_OF_MEMORY";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_NOT_INITIALIZED : return "CUDA_ERROR_NOT_INITIALIZED";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_DEINITIALIZED : return "CUDA_ERROR_DEINITIALIZED";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_NO_DEVICE : return "CUDA_ERROR_NO_DEVICE";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_INVALID_DEVICE : return "CUDA_ERROR_INVALID_DEVICE";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_INVALID_IMAGE : return "CUDA_ERROR_INVALID_IMAGE";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_INVALID_CONTEXT : return "CUDA_ERROR_INVALID_CONTEXT";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_CONTEXT_ALREADY_CURRENT : return "CUDA_ERROR_CONTEXT_ALREADY_CURRENT";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_MAP_FAILED : return "CUDA_ERROR_MAP_FAILED";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_UNMAP_FAILED : return "CUDA_ERROR_UNMAP_FAILED";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_ARRAY_IS_MAPPED : return "CUDA_ERROR_ARRAY_IS_MAPPED";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_ALREADY_MAPPED : return "CUDA_ERROR_ALREADY_MAPPED";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_NO_BINARY_FOR_GPU : return "CUDA_ERROR_NO_BINARY_FOR_GPU";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_ALREADY_ACQUIRED : return "CUDA_ERROR_ALREADY_ACQUIRED";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_NOT_MAPPED : return "CUDA_ERROR_NOT_MAPPED";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_INVALID_SOURCE : return "CUDA_ERROR_INVALID SOURCE";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_FILE_NOT_FOUND : return "CUDA_ERROR_FILE_NOT_FOUND";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_INVALID_HANDLE : return "CASE_ERROR_INVALID_HANDLE";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_NOT_FOUND : return "CUDA_ERROR_NOT_FOUND";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_NOT_READY : return "CUDA_ERROR_NOT_READY";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_FAILED : return "CUDA_ERROR_LAUNCH_FAILED";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_OUT_OF_RESOURCES : return "CUDA_ERROR_LAUNCH_OUT_OF_RESOUCES";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_TIMEOUT : return "CUDA_ERROR_LAUNCH_TIMEOUT";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING : return "CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_UNKNOWN : return "CUDA_ERROR_UNKNOWN";
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:    if( CUDA_SUCCESS != err) {                                               \
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        fprintf(stderr, "Cuda driver error <%s> in file '%s' in line %i.\n",   \
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:    if( CUDA_SUCCESS != err) {                                               \
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        fprintf(stderr, "Cuda driver error <%s> in file '%s' in line %i. (Kernel: %s)\n",   \
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h://OpenCL to CUDA macro / functions
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:    static int getNumberOfCUDADevices()
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      // Get number of devices supporting CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      printf("Creating CUDA context \n");
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      // Get number of devices supporting CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      if(res != CUDA_SUCCESS)
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:                if(cuCtxCreate(&hContext, ctxCreateFlags, hDevice) != CUDA_SUCCESS)
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        if(res == CUDA_SUCCESS) return true;
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        if(res == CUDA_ERROR_NOT_READY) return false;
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:    void cuda_free() {      
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:    } //cuda_free
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:    //CUDA has no memory flags like opencl
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      cuda_free();
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:        cuda_free();
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:    void cmalloc_copy(bool pinned, bool flags, CUdeviceptr cudaMem, 
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      hDeviceMem   = cudaMem + offset*sizeof(uint) + allignOffset*sizeof(uint);
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      if (size > 0) cuda_free();
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      if (size > 0) cuda_free();
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      //Not implemented in CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      if (size > 0) cuda_free();
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      printf("TODO: This function does NOT copy memory in CUDA!! \n");      
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:	cuda_free();
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      //In cuda version we assume that the code is already compiled into ptx
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:       CUDA8 fix, do not check for Fermi anymore, it is no longer supported
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:    //NVIDIA macro
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:    //Cuda does not have a function like clSetKernelArg
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      //Since the values between CUDA and OpenCL differ:
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:      //Cuda is specific size of each block, while OpenCL
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:}     // end of namespace my_cuda
packages/amuse-framework/src/amuse/community/bonsai/src/include/my_cuda.h:#endif // _MY_CUDA_H_
packages/amuse-framework/src/amuse/community/bonsai/src/include/node_specs.h:#define TREE_WALK_BLOCKS_PER_SM    8           //Number of GPU thread-blocks used for tree-walk
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texNodeSize;
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texMultipole;
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texBody;
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity_let.cu:        if(n_nodes0 > 0){//Work around pre CUDA 4.1 compiler bug
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity_let.cu:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/build_tree.cu:// //#include "/home/jbedorf/papers/GBPZ2010/codes/jb/build_tree/CUDA/support_kernels.cu"
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texNodeSize;
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texMultipole;
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texBody;
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity.cu:  //float ids  = (1.0f / sqrtf(ds2)) * selfGrav; Slower in Pre CUDA4.1
packages/amuse-framework/src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity.cu:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
packages/amuse-framework/src/amuse/community/bonsai/src/src/gpu_iterate.cpp:          gpu_updateDomainDistribution(lastGravTime);          
packages/amuse-framework/src/amuse/community/bonsai/src/src/gpu_iterate.cpp:          gpuRedistributeParticles();
packages/amuse-framework/src/amuse/community/bonsai/src/src/gpu_iterate.cpp:          gpu_updateDomainOnly();
packages/amuse-framework/src/amuse/community/bonsai/src/src/gpu_iterate.cpp:  gpuCompact(devContext, tree.activeGrpList, tree.active_group_list,
packages/amuse-framework/src/amuse/community/bonsai/src/src/gpu_iterate.cpp:  gpuCompact(devContext, tree.activeGrpList, tree.active_group_list,
packages/amuse-framework/src/amuse/community/bonsai/src/src/gpu_iterate.cpp:    gpuCompact(devContext, pairDetectionBuffer, compactPairDetectionBuffer,
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:  compactCount.load_source("scanKernels.cl", "OpenCLKernels");
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:  exScanBlock.load_source("scanKernels.cl", "OpenCLKernels");
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:  compactMove.load_source("scanKernels.cl", "OpenCLKernels");
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:  splitMove.load_source("scanKernels.cl", "OpenCLKernels");
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:void octree::gpuCompact(my_dev::context &devContext, 
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:  // In the next step we associate the GPU memory with the Kernel arguments
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:  #ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:void octree::gpuSplit(my_dev::context &devContext, 
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:  // In the next step we associate the GPU memory with the Kernel arguments
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:  #ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:void  octree::gpuSort(my_dev::context &devContext,
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:  gpuSort_32b(devContext, 
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:  gpuSort_32b(devContext, 
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:  gpuSort_32b(devContext, 
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:void octree::gpuSort_32b(my_dev::context &devContext, 
packages/amuse-framework/src/amuse/community/bonsai/src/src/load_kernels.cpp:  #ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/src/main.cpp:Bonsai V2: A parallel GPU N-body gravitational Tree-code
packages/amuse-framework/src/amuse/community/bonsai/src/src/main.cpp:  string logFileName    = "gpuLog.log";
packages/amuse-framework/src/amuse/community/bonsai/src/src/main.cpp:    cout << "\t-[gpulogfile  (gpuLog.log is default)] \n";
packages/amuse-framework/src/amuse/community/bonsai/src/src/main.cpp:  char *gpu_prof_log;
packages/amuse-framework/src/amuse/community/bonsai/src/src/main.cpp:  gpu_prof_log=getenv("CUDA_PROFILE_LOG");
packages/amuse-framework/src/amuse/community/bonsai/src/src/main.cpp:  if(gpu_prof_log){
packages/amuse-framework/src/amuse/community/bonsai/src/src/main.cpp:    sprintf(tmp,"process%d_%s",procId,gpu_prof_log);
packages/amuse-framework/src/amuse/community/bonsai/src/src/main.cpp:    setenv("CUDA_PROFILE_LOG",tmp,1);
packages/amuse-framework/src/amuse/community/bonsai/src/src/sort_bodies_gpu.cpp:  //We assume the bodies are already onthe GPU
packages/amuse-framework/src/amuse/community/bonsai/src/src/sort_bodies_gpu.cpp:  //Call the GPUSort function, since we made it general 
packages/amuse-framework/src/amuse/community/bonsai/src/src/sort_bodies_gpu.cpp:  gpuSort(devContext, srcValues, output, srcValues, tree.n, 32, 3, tree);
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:void octree::gpu_collect_sample_particles(int nSample, real4 *sampleParticles)
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:void octree::gpu_updateDomainOnly()
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:void octree::gpu_updateDomainDistribution(double timeLocal)
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:  gpu_collect_sample_particles(nSamples, &samplePositions[0]);
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:  printf("Benodigde gpu malloc tijd stap 1: %lg \t Size: %d \tRank: %d \t Size: %d \n", 
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:  printf("Required gpu malloc time step 2: %lg \n", get_time()-t1);
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:  printf("Total GPU interaction time: %lg \n", get_time()-t2);
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp://Function that uses the GPU to get a set of particles that have to be 
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:void octree::gpuRedistributeParticles()
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:  gpuSplit(devContext, validList, compactList, localTree.n, &validCount);                 
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:  this->gpu_exchange_particles_with_overflow_check(localTree, &bodyBuffer[0], compactList, validCount);  
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:} //End gpuRedistributeParticles
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:int octree::gpu_exchange_particles_with_overflow_check(tree_structure &tree, 
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:      //Copy the data from the MPI receive buffers into the GPU-send buffer
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp://   printf("Benodigde gpu malloc tijd stap 1: %lg \t Size: %d \tRank: %d \t Size: %d \n", 
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp://   printf("Benodigde gpu malloc tijd stap 2: %lg \n", get_time()-t1);
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp://   printf("Totale GPU interactie tijd: %lg \n", get_time()-t2);
packages/amuse-framework/src/amuse/community/bonsai/src/src/parallel.cpp:      //This determines if we interrupt the exchange by starting a gravity kernel on the GPU
packages/amuse-framework/src/amuse/community/bonsai/src/src/build.cpp:    //gpuCompact to get number of created nodes    
packages/amuse-framework/src/amuse/community/bonsai/src/src/build.cpp:    gpuCompact(devContext, validList, compactList, tree.n*2, &validCount);
packages/amuse-framework/src/amuse/community/bonsai/src/src/build.cpp:  gpuSplit(devContext, validList, tree.leafNodeIdx, tree.n_nodes, &tree.n_leafs);     
packages/amuse-framework/src/amuse/community/bonsai/src/src/build.cpp:  gpuCompact(devContext, validList, tree.node_level_list, 
packages/amuse-framework/src/amuse/community/bonsai/src/src/build.cpp:  //gpuCompact    
packages/amuse-framework/src/amuse/community/bonsai/src/src/build.cpp:  gpuCompact(devContext, validList, compactList, tree.n*2, &validCount);
packages/amuse-framework/src/amuse/community/bonsai/src/src/compute_properties.cpp:  #ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/bonsai/src/src/sort_keys.cpp:  // In the next step we associate the GPU memory with the Kernel arguments
packages/amuse-framework/src/amuse/community/kepler_orbiters/src/universal_kepler_solver.h:    #ifndef CONFIG_USE_OPENCL
packages/amuse-framework/src/amuse/community/kepler_orbiters/src/universal_kepler_solver.h:        #ifndef CONFIG_USE_OPENCL
packages/amuse-framework/src/amuse/community/kepler_orbiters/src/universal_kepler_solver.h:    #ifndef CONFIG_USE_OPENCL
packages/amuse-framework/src/amuse/community/kepler_orbiters/src/Makefile:GPU	  = -DGPU
packages/amuse-framework/src/amuse/community/sphray/src/gadget_owls_input.F90:#ifdef incCloudy
packages/amuse-framework/src/amuse/community/sphray/src/main_input.F90:        call read_Gpublic_particles()
packages/amuse-framework/src/amuse/community/sphray/src/main_input.F90:        call read_Gpubhdf5_particles()
packages/amuse-framework/src/amuse/community/sphray/src/gadget_vbromm_input.F90:!        call ghead%read_Gpublic_header_file(snapfile)
packages/amuse-framework/src/amuse/community/sphray/src/gadget_vbromm_input.F90:!        call ghead%print_Gpublic_header_lun(loglun)
packages/amuse-framework/src/amuse/community/sphray/src/gadget_vbromm_input.F90:!        call saved_gheads(i,j)%copy_Gpublic_header(ghead)
packages/amuse-framework/src/amuse/community/sphray/src/output.F90:#ifdef incCloudy
packages/amuse-framework/src/amuse/community/sphray/src/output.F90:#ifdef incCloudy
packages/amuse-framework/src/amuse/community/sphray/src/output.F90:#ifdef incCloudy
packages/amuse-framework/src/amuse/community/sphray/src/update_particles.F90:     call read_Gpublic_particles()
packages/amuse-framework/src/amuse/community/sphray/src/update_particles.F90:     call read_Gpubhdf5_particles()
packages/amuse-framework/src/amuse/community/sphray/src/Makefile:#OPT += -DincCloudy  # store CLOUDY eq. ionization values for particles
packages/amuse-framework/src/amuse/community/sphray/src/Makefile:   OPT += -DincCloudy
packages/amuse-framework/src/amuse/community/sphray/src/Makefile:   OPT += -DincCloudy
packages/amuse-framework/src/amuse/community/sphray/src/sphpar.F90:#ifdef incCloudy
packages/amuse-framework/src/amuse/community/sphray/src/sphpar.F90:#ifdef incCloudy
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input.F90:public :: read_Gpublic_particles
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input.F90:!        call ghead%read_Gpublic_header_file(snapfile)
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input.F90:!        call ghead%print_Gpublic_header_lun(loglun)
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input.F90:!        call saved_gheads(i,j)%copy_Gpublic_header(ghead)
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input.F90:subroutine read_Gpublic_particles()
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input.F90:  character(clen), parameter :: myname="read_Gpublic_particles"
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input.F90:end subroutine read_Gpublic_particles
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:public :: read_Gpubhdf5_particles
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:  subroutine read_Gpubhdf5_particles()
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:  end subroutine read_Gpubhdf5_particles
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:!          call ghead%read_Gpublic_header_hdf5_file(snapfile)
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:!          call ghead%print_Gpublic_header_lun(loglun)
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:!          call saved_gheads(i,j)%copy_Gpublic_header(ghead)
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:  subroutine read_Gpubhdf5_particles()
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:    character(clen), parameter :: myname="read_Gpubhdf5_particles" 
packages/amuse-framework/src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:  end subroutine read_Gpubhdf5_particles
packages/amuse-framework/src/amuse/community/sphray/src/MakefileTemplate:#OPT += -DincCloudy  # store CLOUDY eq. ionization values for particles
packages/amuse-framework/src/amuse/community/sphray/src/MakefileTemplate:   OPT += -DincCloudy
packages/amuse-framework/src/amuse/community/sphray/src/MakefileTemplate:   OPT += -DincCloudy
packages/amuse-framework/src/amuse/community/sphray/src/particle_system.F90:#ifdef incCloudy
packages/amuse-framework/src/amuse/community/sphray/src/particle_system.F90:#ifdef incCloudy
packages/amuse-framework/src/amuse/community/sphray/src/particle_system.F90:#ifdef incCloudy
packages/amuse-framework/src/amuse/community/pikachu/interface.py:    .. [#] ... "GPU-enabled particle-particle particle-tree scheme for simulating dense stellar cluster system")
packages/amuse-framework/src/amuse/community/pikachu/Makefile:CUDA_LIBS ?= -lcuda -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcudart
packages/amuse-framework/src/amuse/community/pikachu/Makefile:CUDA_INC = -I$(CUDA_TK)/include
packages/amuse-framework/src/amuse/community/pikachu/Makefile:CODELIB_GPU = src/libpikachu_gpu.a
packages/amuse-framework/src/amuse/community/pikachu/Makefile:CODELIB_GPU_LARGE_N = src/libpikachu_gpu_large_n.a
packages/amuse-framework/src/amuse/community/pikachu/Makefile:all: $(CUDA_TK) pikachu_worker 
packages/amuse-framework/src/amuse/community/pikachu/Makefile:$(CUDA_TK):
packages/amuse-framework/src/amuse/community/pikachu/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
packages/amuse-framework/src/amuse/community/pikachu/Makefile:	@echo "please set the CUDA_TK variable to the directory"
packages/amuse-framework/src/amuse/community/pikachu/Makefile:	@echo "where you installed CUDA"
packages/amuse-framework/src/amuse/community/pikachu/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
packages/amuse-framework/src/amuse/community/pikachu/Makefile:$(CODELIB_GPU):
packages/amuse-framework/src/amuse/community/pikachu/Makefile:$(CODELIB_GPU_LARGE_N): $(CODELIB_GPU)
packages/amuse-framework/src/amuse/community/pikachu/Makefile:pikachu_worker: worker_code.cc worker_code.h $(CODELIB_GPU) $(OBJ)
packages/amuse-framework/src/amuse/community/pikachu/Makefile:	$(MPICXX) $(CXXFLAGS) $(SC_FLAGS) $(LDFLAGS) -I./src $< -o $@ $(OBJ) $(CODELIB_GPU) $(SC_CLIBS) $(SEQUOIA_LIBS) $(CUDA_LIBS)  $(LIBS)
packages/amuse-framework/src/amuse/community/pikachu/Makefile:pikachu_worker_large_n: worker_code.cc worker_code.h $(CODELIB_GPU_LARGE_N) $(LARGE_N_OBJ)
packages/amuse-framework/src/amuse/community/pikachu/Makefile:	$(MPICXX) $(CXXFLAGS) $(SC_FLAGS) $(LDFLAGS) -I./src $< -o $@ $(LARGE_N_OBJ) $(CODELIB_GPU_LARGE_N) $(SC_CLIBS) $(SEQUOIA_LIBS) $(CUDA_LIBS)  $(LIBS)
packages/amuse-framework/src/amuse/community/pikachu/Makefile:	$(MPICXX) $(CXXFLAGS) -DSMALL $(SEQUOIA_INC) $(CUDA_INC) $(SC_FLAGS) -I./src -c -o $@ $< 
packages/amuse-framework/src/amuse/community/pikachu/Makefile:	$(MPICXX) $(CXXFLAGS) $(SEQUOIA_INC) $(CUDA_INC) $(SC_FLAGS) -I./src -c -o $@ $< 
packages/amuse-framework/src/amuse/community/pikachu/src/system.h:#include"my_cuda.h"
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:CUDA_TK ?= /usr/local/cuda
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:CXXFLAGS +=  -fPIC $(OFLAGS) -I$(CUDA_TK)/include 
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:# NVCC      = $(CUDA_TK)/bin/nvcc  --device-emulation
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:# NVCCFLAGS = -D_DEBUG -O0 -g -I$(CUDA_SDK)/common/inc -arch=sm_12 --maxrregcount=64  --opencc-options -OPT:Olimit=0 -I$(CUDPP)/cudpp/include
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:NVCC ?= $(CUDA_TK)/bin/nvcc  
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:#LDFLAGS = -lcuda -lOpenCL  
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:LDFLAGS += -lcuda -lOpenCL -fopenmp 
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:CUDAKERNELSPATH = CUDAkernels
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:#CUDAKERNELSPATH = CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:#CUDAKERNELS = build_tree.cu \
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:CUDAKERNELS = build_tree.cu \
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:CUDAPTX = $(CUDAKERNELS:%.cu=%.ptx)
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:#SRC = main.cpp octree.cpp load_kernels.cpp scanFunctions.cpp build.cpp compute_properties.cpp sort_bodies_gpu.cpp gpu_iterate.cpp parallel.cpp libraryInterface.cpp
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:SRC = octree.cpp load_kernels.cpp scanFunctions.cpp sort_bodies_gpu.cpp sequoiaInterface.cpp build.cpp compute_properties.cpp useTreeFunctions.cpp
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:#all:	  $(OBJ) $(CUDAPTX) $(PROG) $(CODELIB)
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:all:	  $(OBJ) $(CUDAPTX) $(CODELIB)
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:kernels:  $(CUDAPTX)
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:$(CODELIB): $(OBJ) $(CUDAPTX)
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:%.ptx: $(CUDAKERNELSPATH)/%.cu
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:build_tree.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:compute_properties.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:compute_propertiesD.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:dev_approximate_gravity.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(CUDAKERNELSPATH)/dev_shared_traverse_functions.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:#dev_approximate_gravity_let.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:timestep.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:sortKernels.ptx: $(CUDAKERNELSPATH)/scanKernels.cu  $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/Makefile:parallel.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/octree.h:#define USE_CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/octree.h:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/octree.h:  #include "my_cuda.h"
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/octree.h:  //GPU kernels and functions
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/octree.h:  void gpuCompact(my_dev::context&, my_dev::dev_mem<uint> &srcValues,
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/octree.h:  void gpuSplit(my_dev::context&, my_dev::dev_mem<uint> &srcValues,
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/octree.h:  void gpuSort(my_dev::context &devContext,
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/octree.h:  void gpuSort_32b(my_dev::context &devContext,
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/octree.h:	//    devID = procId % getNumberOfCUDADevices();
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/octree.h:	getNumberOfCUDADevices();  //Stop compiler warnings
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/octree.h:	//    devID = procId % getNumberOfCUDADevices();
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/octree.h:	getNumberOfCUDADevices();  //Stop compiler warnings
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:#ifndef _MY_CUDA_H_
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:#define _MY_CUDA_H_
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h://   __cuda_assign_operators(float4)
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:#include <cuda.h>
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h://Function made by NVIDIA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    // open the OpenCL source code file
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_SUCCESS : return "CUDA_SUCCESS";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_INVALID_VALUE : return "CUDA_ERROR_INVALID_VALUE";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_OUT_OF_MEMORY : return "CUDA_ERROR_OUT_OF_MEMORY";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_NOT_INITIALIZED : return "CUDA_ERROR_NOT_INITIALIZED";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_DEINITIALIZED : return "CUDA_ERROR_DEINITIALIZED";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_NO_DEVICE : return "CUDA_ERROR_NO_DEVICE";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_INVALID_DEVICE : return "CUDA_ERROR_INVALID_DEVICE";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_INVALID_IMAGE : return "CUDA_ERROR_INVALID_IMAGE";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_INVALID_CONTEXT : return "CUDA_ERROR_INVALID_CONTEXT";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_CONTEXT_ALREADY_CURRENT : return "CUDA_ERROR_CONTEXT_ALREADY_CURRENT";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_MAP_FAILED : return "CUDA_ERROR_MAP_FAILED";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_UNMAP_FAILED : return "CUDA_ERROR_UNMAP_FAILED";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_ARRAY_IS_MAPPED : return "CUDA_ERROR_ARRAY_IS_MAPPED";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_ALREADY_MAPPED : return "CUDA_ERROR_ALREADY_MAPPED";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_NO_BINARY_FOR_GPU : return "CUDA_ERROR_NO_BINARY_FOR_GPU";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_ALREADY_ACQUIRED : return "CUDA_ERROR_ALREADY_ACQUIRED";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_NOT_MAPPED : return "CUDA_ERROR_NOT_MAPPED";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_INVALID_SOURCE : return "CUDA_ERROR_INVALID SOURCE";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_FILE_NOT_FOUND : return "CUDA_ERROR_FILE_NOT_FOUND";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_INVALID_HANDLE : return "CASE_ERROR_INVALID_HANDLE";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_NOT_FOUND : return "CUDA_ERROR_NOT_FOUND";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_NOT_READY : return "CUDA_ERROR_NOT_READY";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_FAILED : return "CUDA_ERROR_LAUNCH_FAILED";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_OUT_OF_RESOURCES : return "CUDA_ERROR_LAUNCH_OUT_OF_RESOUCES";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_TIMEOUT : return "CUDA_ERROR_LAUNCH_TIMEOUT";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING : return "CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_UNKNOWN : return "CUDA_ERROR_UNKNOWN";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    if( CUDA_SUCCESS != err) {                                               \
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        fprintf(stderr, "Cuda driver error <%s> in file '%s' in line %i.\n",   \
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    if( CUDA_SUCCESS != err) {                                               \
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        fprintf(stderr, "Cuda driver error <%s> in file '%s' in line %i. (Kernel: %s)\n",   \
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h://OpenCL to CUDA macro / functions
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    static int getNumberOfCUDADevices()
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      // Get number of devices supporting CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      printf("Creating CUDA context \n");
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      // Get number of devices supporting CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      if(res != CUDA_SUCCESS)
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:                if(cuCtxCreate(&hContext, ctxCreateFlags, hDevice) != CUDA_SUCCESS)
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        if(res == CUDA_SUCCESS) return true;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        if(res == CUDA_ERROR_NOT_READY) return false;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    void cuda_free() {      
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    } //cuda_free
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    //CUDA has no memory flags like opencl
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      cuda_free();
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        cuda_free();
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    void cmalloc_copy(bool pinned, bool flags, CUdeviceptr cudaMem, 
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      hDeviceMem   = cudaMem + offset*sizeof(uint) + allignOffset*sizeof(uint);
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      if (size > 0) cuda_free();
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      if (size > 0) cuda_free();
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      //Not implemented in CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      if (size > 0) cuda_free();
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      printf("TODO: This function does NOT copy memory in CUDA!! \n");      
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:	cuda_free();
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      //In cuda version we assume that the code is already compiled into ptx
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        CUDA8 fix, do not check for Fermi anymore, it is no longer supported
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    //NVIDIA macro
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    //Cuda does not have a function like clSetKernelArg
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      //Since the values between CUDA and OpenCL differ:
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      //Cuda is specific size of each block, while OpenCL
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:}     // end of namespace my_cuda
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:#endif // _MY_CUDA_H_
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/node_specs.h:#define TREE_WALK_BLOCKS_PER_SM    8           //Number of GPU thread-blocks used for tree-walk
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/sequoiaInterface.h:#define USE_CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/sequoiaInterface.h:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/include/sequoiaInterface.h:  #include "my_cuda.h"
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texNodeSize;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texMultipole;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texBody;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity_let.cu:        if(n_nodes0 > 0){//Work around pre CUDA 4.1 compiler bug
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity_let.cu:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_get_ngb.cu:texture<float4, 1, cudaReadModeElementType> texNodeSize;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_get_ngb.cu:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_get_ngb.cu:texture<float4, 1, cudaReadModeElementType> texMultipole;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_get_ngb.cu:texture<float4, 1, cudaReadModeElementType> texBody;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/build_tree.cu:// //#include "/home/jbedorf/papers/GBPZ2010/codes/jb/build_tree/CUDA/support_kernels.cu"
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ids:texture<float4, 1, cudaReadModeElementType> texNodeSize;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ids:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ids:texture<float4, 1, cudaReadModeElementType> texMultipole;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ids:texture<float4, 1, cudaReadModeElementType> texBody;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ids:  //float ids  = (1.0f / sqrtf(ds2)) * selfGrav; Slower in Pre CUDA4.1
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ids:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ori:texture<float4, 1, cudaReadModeElementType> texNodeSize;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ori:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ori:texture<float4, 1, cudaReadModeElementType> texMultipole;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ori:texture<float4, 1, cudaReadModeElementType> texBody;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ori:  //float ids  = (1.0f / sqrtf(ds2)) * selfGrav; Slower in Pre CUDA4.1
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ori:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.org.cu:texture<float4, 1, cudaReadModeElementType> texNodeSize;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.org.cu:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.org.cu:texture<float4, 1, cudaReadModeElementType> texMultipole;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.org.cu:texture<float4, 1, cudaReadModeElementType> texBody;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.org.cu:  //float ids  = (1.0f / sqrtf(ds2)) * selfGrav; Slower in Pre CUDA4.1
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.org.cu:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texNodeSize;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texMultipole;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texBody;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu:  //float ids  = (1.0f / sqrtf(ds2)) * selfGrav; Slower in Pre CUDA4.1
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    char *gpu_prof_log;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    gpu_prof_log=getenv("CUDA_PROFILE_LOG");
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    if(gpu_prof_log){
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:	sprintf(tmp,"process%d_%s",0,gpu_prof_log);
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:	setenv("CUDA_PROFILE_LOG",tmp,1);
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    string logFileName    = "gpuLog.log";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    char *gpu_prof_log;
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    gpu_prof_log=getenv("CUDA_PROFILE_LOG");
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    if(gpu_prof_log){
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:	sprintf(tmp,"process%d_%s",0,gpu_prof_log);
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:	setenv("CUDA_PROFILE_LOG",tmp,1);
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    string logFileName    = "gpuLog.log";
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:  compactCount.load_source("scanKernels.cl", "OpenCLKernels");
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:  exScanBlock.load_source("scanKernels.cl", "OpenCLKernels");
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:  compactMove.load_source("scanKernels.cl", "OpenCLKernels");
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:  splitMove.load_source("scanKernels.cl", "OpenCLKernels");
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:#ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:void octree::gpuCompact(my_dev::context &devContext, 
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  // In the next step we associate the GPU memory with the Kernel arguments
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  #ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:void octree::gpuSplit(my_dev::context &devContext, 
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  // In the next step we associate the GPU memory with the Kernel arguments
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  #ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:void  octree::gpuSort(my_dev::context &devContext,
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  gpuSort_32b(devContext, 
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  gpuSort_32b(devContext, 
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  gpuSort_32b(devContext, 
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:void octree::gpuSort_32b(my_dev::context &devContext, 
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  #ifdef USE_CUDA
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sort_bodies_gpu.cpp:  //We assume the bodies are already onthe GPU
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sort_bodies_gpu.cpp:  //Call the GPUSort function, since we made it general 
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/sort_bodies_gpu.cpp:  gpuSort(devContext, srcValues, output, srcValues, n_bodies, 32, 3, tree);
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/build.cpp:    //gpuCompact to get number of created nodes    
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/build.cpp:    gpuCompact(devContext, validList, compactList, n_bodies*2, &validCount);
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/build.cpp:  gpuSplit(devContext, validList, tree.leafNodeIdx, tree.n_nodes, &tree.n_leafs);     
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/build.cpp:  gpuCompact(devContext, validList, tree.node_level_list, 
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/build.cpp:    //gpuCompact to get number of created nodes    
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/build.cpp:    gpuCompact(devContext, validList, compactList, n_bodies*2, &validCount);
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/build.cpp:  gpuCompact(devContext, validList, compactList, n_bodies*2, &validCount);
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/build.cpp:  //gpuCompact    
packages/amuse-framework/src/amuse/community/pikachu/src/sequoia/src/build.cpp:  gpuCompact(devContext, validList, compactList, tree.n*2, &validCount);
packages/amuse-framework/src/amuse/community/pikachu/src/Makefile:CUDA_TK  ?= /usr/local/cuda
packages/amuse-framework/src/amuse/community/pikachu/src/Makefile:CUDA_LIBS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcudart -lcuda 
packages/amuse-framework/src/amuse/community/pikachu/src/Makefile:CFLAGS_SEQ =  -fPIC $(OFLAGS_SEQ) -I$(CUDA_TK)/include/
packages/amuse-framework/src/amuse/community/pikachu/src/Makefile:CODELIB_GPU = libpikachu_gpu.a
packages/amuse-framework/src/amuse/community/pikachu/src/Makefile:CODELIB_GPU_LARGE_N = libpikachu_gpu_large_n.a
packages/amuse-framework/src/amuse/community/pikachu/src/Makefile:all: copy hybrid_seq.out $(CODELIB_GPU) $(CODELIB_GPU_LARGE_N)
packages/amuse-framework/src/amuse/community/pikachu/src/Makefile:$(CODELIB_GPU): $(OBJS_SEQ)
packages/amuse-framework/src/amuse/community/pikachu/src/Makefile:$(CODELIB_GPU_LARGE_N): $(OBJS_SEQ_LARGE_N)
packages/amuse-framework/src/amuse/community/pikachu/src/Makefile:	$(CCC) $(INC_SEQ) $(CFLAGS_SEQ) -o $@ $<  $(OBJS_SEQ_LARGE_N) $(LIB_SEQ) $(CUDA_LIBS)
packages/amuse-framework/src/amuse/community/pikachu/src/Makefile:	$(RM) *.s *.o *.out *.ptx $(CODELIB_GPU) $(CODELIB_GPU_LARGE_N)
packages/amuse-framework/src/amuse/community/pikachu/src/soft_system.cc:#include"my_cuda.h"
packages/amuse-framework/src/amuse/community/pikachu/src/soft_system.cc:    ////////// build tree on GPU and get tree info ////////////
packages/amuse-framework/src/amuse/community/pikachu/src/soft_system.cc:    ////////// evaluate gravity on GPU ///////////
packages/amuse-framework/src/amuse/community/hacs64/test_hacs.py:            use_gpu = 0
packages/amuse-framework/src/amuse/community/hacs64/test_hacs.py:            use_gpu = 0
packages/amuse-framework/src/amuse/community/hacs64/test_hacs.py:            gpu_worker = 0
packages/amuse-framework/src/amuse/community/hacs64/test_multiples.py:    # Note that there are actually three GPU options to test:
packages/amuse-framework/src/amuse/community/hacs64/test_multiples.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-framework/src/amuse/community/hacs64/test_multiples.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-framework/src/amuse/community/hacs64/test_multiples.py:    #	3. use the non-GPU code (-G)
packages/amuse-framework/src/amuse/community/hacs64/test_multiples.py:            use_gpu = 0
packages/amuse-framework/src/amuse/community/hacs64/test_multiples.py:            use_gpu = 0
packages/amuse-framework/src/amuse/community/hacs64/test_multiples.py:            gpu_worker = 0
packages/amuse-framework/src/amuse/community/hacs64/interface.py:    HACS64, GPU-accelerated Hermite Ahmad-Cohen Scheme
packages/amuse-framework/src/amuse/community/hacs64/interface.py:    MODE_GPU = 'gpu'
packages/amuse-framework/src/amuse/community/hacs64/interface.py:        elif mode == self.MODE_GPU:
packages/amuse-framework/src/amuse/community/hacs64/interface.py:            return 'hacs64_worker_gpu'
packages/amuse-framework/src/amuse/community/hacs64/Makefile:CUDA_TK  ?= /usr/local/cuda
packages/amuse-framework/src/amuse/community/hacs64/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
packages/amuse-framework/src/amuse/community/hacs64/Makefile:CUDA_LIBS ?= $(CUDA_LIBDIRS) -lcudart
packages/amuse-framework/src/amuse/community/hacs64/Makefile:LDFLAGS_GPU =	$(LDFLAGS) \
packages/amuse-framework/src/amuse/community/hacs64/Makefile:		$(CUDA_LIBS) \
packages/amuse-framework/src/amuse/community/hacs64/Makefile:CXXFLAGS += -I $(CUDA_TK)/include
packages/amuse-framework/src/amuse/community/hacs64/Makefile:CODELIB = src/libhacs64gpu.a
packages/amuse-framework/src/amuse/community/hacs64/Makefile:$(CUDA_TK):
packages/amuse-framework/src/amuse/community/hacs64/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
packages/amuse-framework/src/amuse/community/hacs64/Makefile:	@echo "please set the CUDA_TK variable to the directory"
packages/amuse-framework/src/amuse/community/hacs64/Makefile:	@echo "where you installed CUDA"
packages/amuse-framework/src/amuse/community/hacs64/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
packages/amuse-framework/src/amuse/community/hacs64/Makefile:hacs64_worker_gpu:  $(CUDA_TK) worker_code.cc interface.h $(CODELIB) $(OBJS)
packages/amuse-framework/src/amuse/community/hacs64/Makefile:	$(MPICXX) $(CXXFLAGS) $(LDFLAGS) worker_code.cc $(OBJS) $(CODELIB) -o $@ $(LDFLAGS_GPU) -DGPU  $(LIBS)
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.gpu:CUDAPATH       := /usr/local/cuda
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.gpu:CUDAINCLUDE    := -I$(CUDAPATH)/include
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.gpu:CUDASDKINCLUDE := -I$(HOME)/NVIDIA_GPU_Computing_SDK/C/common/inc
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.gpu:NVCCFLAGS := -arch=sm_20 -O4 -g  $(CUDAINCLUDE) $(CUDASDKINCLUDE) -I./ -Xptxas -v,-abi=no 
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.gpu:#NVCCFLAGS := -O0 -g -D_DEBUG -deviceemu -maxrregcount=32 $(CUDAINCLUDE)
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.gpu:LDFLAGS   :=  -L/usr/local/cuda/lib64 -lcudart -fopenmp
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.gpu:TARGET = integrate-gpu
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.gpu:regf4_cu/regf4.cu_o: regf4.h regf4_cu/cuda_pointer.h regf4_cu/dev_regf4.cu
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.gpu:regf4_cu/regf4.ptx: regf4.h regf4_cu/cuda_pointer.h regf4_cu/dev_regf4.cu
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:CUDAPATH       := /usr/local/cuda
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:CUDAINCLUDE    := -I$(CUDAPATH)/include
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:#CUDASDKINCLUDE := -I$(CUDASDK)/common/inc
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:#NVCCFLAGS := -arch=sm_20 -O4 -g  $(CUDAINCLUDE) $(CUDASDKINCLUDE) -I./ -Xptxas -v,-abi=no 
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:NVCCFLAGS := -arch=sm_20 -O4 -g  $(CUDAINCLUDE)  -I./ -Xptxas -v,-abi=no 
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:#NVCCFLAGS := -O0 -g -D_DEBUG -deviceemu -maxrregcount=32 $(CUDAINCLUDE)
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:CUDA_LIBS = -lcudart  -L $(CUDAPATH)/lib -L $(CUDAPATH)/lib64
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:CXXFLAGS  +=  -I./ON_neib -I./  $(CUDAINCLUDE)
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:LDGPUGLAGS := $(LDFLAGS) $(CUDA_LIBS)
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:TARGET = integrate-gpu
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:CODELIB = libhacs64gpu.a
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:	$(CXX) -o $(TARGET) integrate.o $(LDFLAGS)  ./$(CODELIB)  $(CUDA_LIBS)
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:regf4_cu/regf4.cu_o: regf4.h regf4_cu/cuda_pointer.h regf4_cu/dev_regf4.cu
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile:regf4_cu/regf4.ptx: regf4.h regf4_cu/cuda_pointer.h regf4_cu/dev_regf4.cu
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:#include <cuda_runtime.h>
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:#if CUDART_VERSION >= 4000
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaDeviceSynchronize();
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaThreadSynchronize();
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:#  define CUDA_SAFE_CALL_NO_SYNC( call) {                                    \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:    cudaError err = call;                                                    \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:        fprintf(stderr, "Cuda error in file '%s' in line %i : %s.\n",        \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:                __FILE__, __LINE__, cudaGetErrorString( err) );              \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:#  define CUDA_SAFE_CALL( call)     CUDA_SAFE_CALL_NO_SYNC(call);
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:    //! Check for CUDA error
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:    cudaError_t err = cudaGetLastError();
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:    if( cudaSuccess != err) {
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:        FPRINTF((stderr, "%s(%i) : cutilCheckMsg() CUTIL CUDA error : %s : (%d) %s.\n",
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cutil.h:                file, line, errorMessage, (int)err, cudaGetErrorString( err ) ));
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/regf4.cu:#include "cuda_pointer.h"
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    assert(cudaGetDeviceCount(&ndevice) == 0);
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    fprintf(stderr, " regf::regf -  %d CUDA devices found \n", ndevice);
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    assert(cudaSetDevice(ndevice-1) == cudaSuccess);
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("regf4::DT_TICK", &dt_tick, sizeof(float)));
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("regf4::EPS2", &eps2, sizeof(float)));
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/regf4.cu:          cudaThreadSetCacheConfig(cudaFuncCachePreferL1);
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/regf4.cu:          cudaThreadSynchronize();
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("regf4::EPS2", &eps2, sizeof(float)));
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    cudaThreadSynchronize();
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMemcpy(host_pointer, data, size*sizeof(T), cudaMemcpyHostToHost));
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMemcpy(host_pointer, data, _size*sizeof(T), cudaMemcpyHostToHost));
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMalloc(&p, size * sizeof(T)));
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:      CUDA_SAFE_CALL(cudaMallocHost(&p, size * sizeof(T)));
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:      CUDA_SAFE_CALL(cudaFree(dev_pointer));
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:        CUDA_SAFE_CALL(cudaFreeHost(host_pointer));
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:      CUDA_SAFE_CALL(cudaMemcpy(dev_pointer, host_pointer, count * sizeof(T), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:      CUDA_SAFE_CALL(cudaMemcpy(host_pointer, dev_pointer, count * sizeof(T), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.cpu:CUDAPATH       := /usr/local/cuda
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.cpu:CUDAINCLUDE    := -I$(CUDAPATH)/include
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.cpu:CUDASDKINCLUDE := -I$(HOME)/NVIDIA_GPU_Computing_SDK/C/common/inc
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.cpu:NVCCFLAGS := -gencode arch=compute_20,code=sm_20 -O0 -g -D_DEBUG  $(CUDAINCLUDE) $(CUDASDKINCLUDE) -I./ 
packages/amuse-framework/src/amuse/community/hacs64/src/Makefile.cpu:#NVCCFLAGS := -O0 -g -D_DEBUG -deviceemu -maxrregcount=32 $(CUDAINCLUDE)
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.h:int cuda_initialize_code();
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.h:int cuda_commit_particles(vector<double>& m, vector<double>& x, vector<double>& y, vector<double>& z);
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.h:int cuda_cleanup_code();
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.h:int cuda_get_potential_at_point(double eps2, double *eps, double *x, double *y, double *z, double *phi, int N);
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.h:int cuda_get_gravity_at_point(double eps2, double *eps, double *x, double *y, double *z, double *ax, double *ay, double *az, int N);
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.h:int cuda_get_potential_energy(double eps2, double *potential_energy);
packages/amuse-framework/src/amuse/community/fastkick/interface.py:    MODE_GPU = 'gpu'
packages/amuse-framework/src/amuse/community/fastkick/interface.py:        if mode == self.MODE_GPU:
packages/amuse-framework/src/amuse/community/fastkick/interface.py:            return "fastkick_worker_gpu"
packages/amuse-framework/src/amuse/community/fastkick/Makefile:GPU_OBJ = interface.gpuo cuda_fastkick.o
packages/amuse-framework/src/amuse/community/fastkick/Makefile:fastkick_worker_gpu: worker_code.cc worker_code.h  $(GPU_OBJ)
packages/amuse-framework/src/amuse/community/fastkick/Makefile:	$(MPICXX) $(CXXFLAGS) $(LDFLAGS) $< $(GPU_OBJ) -o $@ $(CUDA_LIBS) -DGPU  $(LIBS)
packages/amuse-framework/src/amuse/community/fastkick/Makefile:interface.gpuo: interface.cc
packages/amuse-framework/src/amuse/community/fastkick/Makefile:	$(MPICXX) $(CXXFLAGS) -c -o $@ $< -DGPU
packages/amuse-framework/src/amuse/community/fastkick/Makefile:cuda_fastkick.o: cuda_fastkick.cu
packages/amuse-framework/src/amuse/community/fastkick/Makefile:	rm -f *.o *.gpuo *.pyc worker_code.cc worker_code.h
packages/amuse-framework/src/amuse/community/fastkick/Makefile:	rm -f fastkick_worker fastkick_worker_gpu
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:#include "cuda_fastkick.h"
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:    return handle_result(cuda_initialize_code());
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_commit_particles(m, x, y, z));
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_cleanup_code());
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:        cerr << "recommit_particles: cuda_cleanup_code returned: " << result << endl;
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:    return handle_result(cuda_cleanup_code());
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_get_potential_at_point(eps2, eps_in, x_in, y_in, z_in, phi, length));
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:    cerr << "get_gravity_at_point: start cuda_get_gravity_at_point with " << length << " points and " << n_local << " particles." << endl;
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_get_gravity_at_point(eps2, eps_in, x_in, y_in, z_in, ax, ay, az, length));
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_get_potential_energy(eps2, potential_energy));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:#include "cuda_fastkick.h"
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:#define HANDLE_CUDA_ERROR(cuda_error) { \
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    cudaError error = cuda_error; \
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    if (error != cudaSuccess) { \
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:        cerr << "Cuda error in file '" << __FILE__ << "' in line " << __LINE__ << ": "; \
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:        cerr << cudaGetErrorString(error) << endl; \
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_initialize_code() {
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_commit_particles(vector<double>& m, vector<double>& x, vector<double>& y, vector<double>& z) {
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_commit_particles" << endl;
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_x_head, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_y_head, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_z_head, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_x_tail, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_y_tail, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_z_tail, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_m, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_x_head, x_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_y_head, y_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_z_head, z_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_x_tail, x_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_y_tail, y_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_z_tail, z_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_m, m_float, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_commit_particles finished successfully" << endl;
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_cleanup_code() {
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_x_head));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_y_head));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_z_head));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_x_tail));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_y_tail));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_z_tail));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_m));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_get_gravity_at_point(double eps2, double *eps, double *x, double *y, double *z, double *ax, double *ay, double *az, int N) {
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_gravity_at_point" << endl;
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_eps, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_px_head, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_py_head, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_pz_head, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_px_tail, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_py_tail, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_pz_tail, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_ax, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_ay, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_az, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_eps, eps_float, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_px_head, x_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_py_head, y_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_pz_head, z_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_px_tail, x_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_py_tail, y_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_pz_tail, z_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(x_head, dev_ax, N*sizeof(float), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(y_head, dev_ay, N*sizeof(float), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(z_head, dev_az, N*sizeof(float), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_eps));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_px_head));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_py_head));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_pz_head));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_px_tail));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_py_tail));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_pz_tail));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_ax));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_ay));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_az));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_gravity_at_point finished successfully" << endl;
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_get_potential_at_point(double eps2, double *eps, double *x, double *y, double *z, double *phi, int N) {
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_potential_at_point" << endl;
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_eps, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_px_head, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_py_head, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_pz_head, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_px_tail, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_py_tail, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_pz_tail, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_phi, N*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_eps, eps_float, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_px_head, x_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_py_head, y_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_pz_head, z_head, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_px_tail, x_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_py_tail, y_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_pz_tail, z_tail, N*sizeof(float), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(x_head, dev_phi, N*sizeof(float), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_eps));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_px_head));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_py_head));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_pz_head));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_px_tail));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_py_tail));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_pz_tail));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_phi));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_potential_at_point finished successfully" << endl;
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_get_potential_energy(double eps2, double *potential_energy) {
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_potential_energy" << endl;
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_partial_results, blocks_per_grid*sizeof(float)));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(partial_results, dev_partial_results, blocks_per_grid*sizeof(float), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_partial_results));
packages/amuse-framework/src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_potential_energy finished successfully" << endl;
packages/amuse-framework/src/amuse/community/nbody6xx/common6.h:     *  ttgrcalc2,ttgpu,ttbar,xtsub1,xtsub2,isernb,iserreg
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h: * Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h: * Please refer to the NVIDIA end user license agreement (EULA) associated
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// These are CUDA Helper functions for initialization and error checking
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:#ifndef HELPER_CUDA_H
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:#define HELPER_CUDA_H
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// refer the CUDA examples for examples of the needed CUDA headers, which may change depending
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// on which CUDA functions are used.
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// CUDA Runtime error messages
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(cudaError_t error)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaSuccess:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaSuccess";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMissingConfiguration:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMissingConfiguration";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMemoryAllocation:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMemoryAllocation";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInitializationError:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInitializationError";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorLaunchFailure:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorLaunchFailure";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorPriorLaunchFailure:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorPriorLaunchFailure";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorLaunchTimeout:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorLaunchTimeout";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorLaunchOutOfResources:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorLaunchOutOfResources";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidDeviceFunction:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidDeviceFunction";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidConfiguration:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidConfiguration";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidDevice:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidDevice";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidValue:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidValue";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidPitchValue:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidPitchValue";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidSymbol:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidSymbol";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMapBufferObjectFailed:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMapBufferObjectFailed";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorUnmapBufferObjectFailed:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorUnmapBufferObjectFailed";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidHostPointer:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidHostPointer";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidDevicePointer:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidDevicePointer";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidTexture:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidTexture";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidTextureBinding:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidTextureBinding";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidChannelDescriptor:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidChannelDescriptor";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidMemcpyDirection:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidMemcpyDirection";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorAddressOfConstant:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorAddressOfConstant";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorTextureFetchFailed:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorTextureFetchFailed";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorTextureNotBound:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorTextureNotBound";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorSynchronizationError:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorSynchronizationError";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidFilterSetting:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidFilterSetting";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidNormSetting:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidNormSetting";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMixedDeviceExecution:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMixedDeviceExecution";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorCudartUnloading:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorCudartUnloading";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorUnknown:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorUnknown";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorNotYetImplemented:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorNotYetImplemented";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMemoryValueTooLarge:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMemoryValueTooLarge";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidResourceHandle:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidResourceHandle";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorNotReady:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorNotReady";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInsufficientDriver:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInsufficientDriver";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorSetOnActiveProcess:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorSetOnActiveProcess";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidSurface:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidSurface";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorNoDevice:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorNoDevice";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorECCUncorrectable:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorECCUncorrectable";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorSharedObjectSymbolNotFound:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorSharedObjectSymbolNotFound";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorSharedObjectInitFailed:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorSharedObjectInitFailed";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorUnsupportedLimit:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorUnsupportedLimit";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDuplicateVariableName:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDuplicateVariableName";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDuplicateTextureName:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDuplicateTextureName";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDuplicateSurfaceName:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDuplicateSurfaceName";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDevicesUnavailable:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDevicesUnavailable";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidKernelImage:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidKernelImage";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorNoKernelImageForDevice:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorNoKernelImageForDevice";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorIncompatibleDriverContext:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorIncompatibleDriverContext";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorPeerAccessAlreadyEnabled:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorPeerAccessAlreadyEnabled";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorPeerAccessNotEnabled:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorPeerAccessNotEnabled";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDeviceAlreadyInUse:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDeviceAlreadyInUse";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorProfilerDisabled:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorProfilerDisabled";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorProfilerNotInitialized:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorProfilerNotInitialized";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorProfilerAlreadyStarted:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorProfilerAlreadyStarted";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorProfilerAlreadyStopped:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorProfilerAlreadyStopped";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:#if __CUDA_API_VERSION >= 0x4000
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorAssert:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorAssert";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorTooManyPeers:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorTooManyPeers";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorHostMemoryAlreadyRegistered:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorHostMemoryAlreadyRegistered";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorHostMemoryNotRegistered:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorHostMemoryNotRegistered";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorStartupFailure:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorStartupFailure";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorApiFailureBase:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorApiFailureBase";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:#ifdef __cuda_cuda_h__
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// CUDA Driver API errors
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(CUresult error)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_SUCCESS:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_SUCCESS";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_VALUE:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_VALUE";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_OUT_OF_MEMORY:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_OUT_OF_MEMORY";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_INITIALIZED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_INITIALIZED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_DEINITIALIZED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_DEINITIALIZED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PROFILER_DISABLED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PROFILER_DISABLED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PROFILER_NOT_INITIALIZED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PROFILER_NOT_INITIALIZED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PROFILER_ALREADY_STARTED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PROFILER_ALREADY_STARTED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PROFILER_ALREADY_STOPPED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PROFILER_ALREADY_STOPPED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NO_DEVICE:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NO_DEVICE";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_DEVICE:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_DEVICE";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_IMAGE:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_IMAGE";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_CONTEXT:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_CONTEXT";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_CONTEXT_ALREADY_CURRENT:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_CONTEXT_ALREADY_CURRENT";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_MAP_FAILED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_MAP_FAILED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_UNMAP_FAILED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_UNMAP_FAILED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ARRAY_IS_MAPPED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ARRAY_IS_MAPPED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ALREADY_MAPPED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ALREADY_MAPPED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NO_BINARY_FOR_GPU:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NO_BINARY_FOR_GPU";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ALREADY_ACQUIRED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ALREADY_ACQUIRED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_MAPPED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_MAPPED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_MAPPED_AS_ARRAY:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_MAPPED_AS_ARRAY";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_MAPPED_AS_POINTER:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_MAPPED_AS_POINTER";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ECC_UNCORRECTABLE:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ECC_UNCORRECTABLE";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_UNSUPPORTED_LIMIT:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_UNSUPPORTED_LIMIT";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_CONTEXT_ALREADY_IN_USE:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_CONTEXT_ALREADY_IN_USE";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_SOURCE:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_SOURCE";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_FILE_NOT_FOUND:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_FILE_NOT_FOUND";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_SHARED_OBJECT_SYMBOL_NOT_FOUND:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_SHARED_OBJECT_SYMBOL_NOT_FOUND";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_SHARED_OBJECT_INIT_FAILED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_SHARED_OBJECT_INIT_FAILED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_OPERATING_SYSTEM:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_OPERATING_SYSTEM";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_HANDLE:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_HANDLE";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_FOUND:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_FOUND";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_READY:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_READY";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_LAUNCH_FAILED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_LAUNCH_FAILED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_LAUNCH_OUT_OF_RESOURCES:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_LAUNCH_OUT_OF_RESOURCES";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_LAUNCH_TIMEOUT:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_LAUNCH_TIMEOUT";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PEER_ACCESS_ALREADY_ENABLED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PEER_ACCESS_ALREADY_ENABLED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PEER_ACCESS_NOT_ENABLED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PEER_ACCESS_NOT_ENABLED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PRIMARY_CONTEXT_ACTIVE:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PRIMARY_CONTEXT_ACTIVE";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_CONTEXT_IS_DESTROYED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_CONTEXT_IS_DESTROYED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ASSERT:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ASSERT";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_TOO_MANY_PEERS:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_TOO_MANY_PEERS";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_HOST_MEMORY_ALREADY_REGISTERED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_HOST_MEMORY_ALREADY_REGISTERED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_HOST_MEMORY_NOT_REGISTERED:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_HOST_MEMORY_NOT_REGISTERED";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_UNKNOWN:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_UNKNOWN";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(cublasStatus_t error)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(cufftResult error)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(cusparseStatus_t error)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(curandStatus_t error)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(NppStatus error)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        case NPP_CUDA_KERNEL_EXECUTION_ERROR:
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return "NPP_CUDA_KERNEL_EXECUTION_ERROR";
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "CUDA error at %s:%d code=%d(%s) \"%s\" \n",
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:                file, line, static_cast<unsigned int>(result), _cudaGetErrorEnum(result), func);
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:                std::string msg("CUDA error at ");
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:                msg += _cudaGetErrorEnum(result);
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// This will output the proper CUDA error strings in the event that a CUDA host call returns an error
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:#define checkCudaErrors(val)           check ( (val), #val, __FILE__, __LINE__ )
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// This will output the proper error string when calling cudaGetLastError
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:#define getLastCudaError(msg)      __getLastCudaError (msg, __FILE__, __LINE__)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:inline void __getLastCudaError(const char *errorMessage, const char *file, const int line)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaError_t err = cudaGetLastError();
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    if (cudaSuccess != err)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "%s(%i) : getLastCudaError() CUDA error : %s : (%d) %s.\n",
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:                file, line, errorMessage, (int)err, cudaGetErrorString(err));
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// Beginning of GPU Architecture definitions
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    // Defines for GPU Architecture types (using the SM version to determine the # of cores per SM
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    sSMtoCores nGpuArchCoresPerSM[] =
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    while (nGpuArchCoresPerSM[index].SM != -1)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        if (nGpuArchCoresPerSM[index].SM == ((major << 4) + minor))
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            return nGpuArchCoresPerSM[index].Cores;
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    printf("MapSMtoCores for SM %d.%d is undefined.  Default to use %d Cores/SM\n", major, minor, nGpuArchCoresPerSM[7].Cores);
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    return nGpuArchCoresPerSM[7].Cores;
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// end of GPU Architecture definitions
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:#ifdef __CUDA_RUNTIME_H__
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// General GPU Device CUDA Initialization
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:inline int gpuDeviceInit(int devID)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaGetDeviceCount(&deviceCount));
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "gpuDeviceInit() CUDA error: no devices supporting CUDA.\n");
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, ">> %d CUDA capable GPU device(s) detected. <<\n", deviceCount);
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, ">> gpuDeviceInit (-device=%d) is not a valid GPU device. <<\n", devID);
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaDeviceProp deviceProp;
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaGetDeviceProperties(&deviceProp, devID));
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    if (deviceProp.computeMode == cudaComputeModeProhibited)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "Error: device is running in <Compute Mode Prohibited>, no threads can use ::cudaSetDevice().\n");
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "gpuDeviceInit(): GPU device does not support CUDA.\n");
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaSetDevice(devID));
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    printf("gpuDeviceInit() CUDA Device [%d]: \"%s\n", devID, deviceProp.name);
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// This function returns the best GPU (with maximum GFLOPS)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:inline int gpuGetMaxGflopsDeviceId()
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaDeviceProp deviceProp;
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaGetDeviceCount(&device_count);
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    // Find the best major SM Architecture GPU device
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        cudaGetDeviceProperties(&deviceProp, current_device);
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        // If this GPU is not running on Compute Mode prohibited, then we can add it to the list
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        if (deviceProp.computeMode != cudaComputeModeProhibited)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    // Find the best CUDA capable GPU device
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        cudaGetDeviceProperties(&deviceProp, current_device);
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        // If this GPU is not running on Compute Mode prohibited, then we can add it to the list
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        if (deviceProp.computeMode != cudaComputeModeProhibited)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:                // If we find GPU with SM major > 2, search only these
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// Initialization code to find the best CUDA Device
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:inline int findCudaDevice(int argc, const char **argv)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaDeviceProp deviceProp;
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:            devID = gpuDeviceInit(devID);
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        devID = gpuGetMaxGflopsDeviceId();
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        checkCudaErrors(cudaSetDevice(devID));
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        checkCudaErrors(cudaGetDeviceProperties(&deviceProp, devID));
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        printf("GPU Device %d: \"%s\" with compute capability %d.%d\n\n", devID, deviceProp.name, deviceProp.major, deviceProp.minor);
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// General check for CUDA GPU SM Capabilities
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:inline bool checkCudaCapabilities(int major_version, int minor_version)
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaDeviceProp deviceProp;
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaGetDevice(&dev));
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaGetDeviceProperties(&deviceProp, dev));
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:        printf("No GPU device was found that can support CUDA compute capability %d.%d.\n", major_version, minor_version);
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_cuda.h:// end of CUDA Helper Functions
packages/amuse-framework/src/amuse/community/nbody6xx/src/adjust.F:     &        '    ttgrcalc  ttgrcalc2  ttgpu     ttbar     ',
packages/amuse-framework/src/amuse/community/nbody6xx/src/adjust.F:     &        ttgrcalc,ttgrcalc2,ttgpu,ttbar,ttnbi,ttbarnb,ttbarreg,
packages/amuse-framework/src/amuse/community/nbody6xx/src/adjust.F:#ifdef GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/adjust.F:         CALL GPUNB_CLOSE
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h: * Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h: * Please refer to the NVIDIA end user license agreement (EULA) associated
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:* Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:* Please refer to the NVIDIA end user license agreement (EULA) associated
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:/* CUda UTility Library */
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:#if CUDART_VERSION >= 4000
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaDeviceSynchronize();
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaThreadSynchronize();
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:#if CUDART_VERSION >= 4000
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:#define CUT_DEVICE_RESET( )   cudaDeviceReset();
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:#define CUT_DEVICE_RESET( )   cudaThreadExit();
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    if( CUDA_SUCCESS != err) {                                               \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda driver error %x in file '%s' in line %i.\n",   \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    if( CUDA_SUCCESS != err) {                                               \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda driver error %x in file '%s' in line %i.\n",   \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:#  define CUDA_SAFE_CALL_NO_SYNC( call) {                                    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    cudaError err = call;                                                    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error in file '%s' in line %i : %s.\n",        \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:                __FILE__, __LINE__, cudaGetErrorString( err) );              \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:#  define CUDA_SAFE_CALL( call)     CUDA_SAFE_CALL_NO_SYNC(call);                                            \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:#  define CUDA_SAFE_THREAD_SYNC( ) {                                         \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    cudaError err = CUT_DEVICE_SYNCHRONIZE();                                 \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    if ( cudaSuccess != err) {                                               \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error in file '%s' in line %i : %s.\n",        \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:                __FILE__, __LINE__, cudaGetErrorString( err) );              \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    //! Check for CUDA error
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    CUDA_SAFE_CALL_NO_SYNC(cudaGetDeviceCount(&deviceCount));                \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "cutil error: no devices supporting CUDA.\n");       \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    cudaDeviceProp deviceProp;                                               \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    CUDA_SAFE_CALL_NO_SYNC(cudaGetDeviceProperties(&deviceProp, dev));       \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    CUDA_SAFE_CALL(cudaSetDevice(dev));                                      \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    //! Check for CUDA context lost
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:#  define CUDA_CHECK_CTX_LOST(errorMessage) {                                \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h://! Check for CUDA context lost
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    if( CUDA_ERROR_INVALID_CONTEXT != err) {                                 \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:    if (CUDA_SUCCESS == err)                                                 \
packages/amuse-framework/src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "cutil error: no devices supporting CUDA\n");        \
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:#ifdef WITH_CUDA5
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:#  include <helper_cuda.h>
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:#  define CUDA_SAFE_CALL checkCudaErrors
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:#include "cuda_pointer.h"
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:extern "C"  void gpunb_devinit_(int *irank);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:void gpupot(
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	gpunb_devinit_(rank);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	cudaPointer <float2> phi;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	cudaPointer <Particle> ptcl;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	// cudaMemcpy(ptcl_d, ptcl_h, ng * sizeof(Particle), cudaMemcpyHostToDevice);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	// cudaMemcpy(phi_h, phi_d, n * sizeof(float2), cudaMemcpyDeviceToHost);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	fprintf(stderr, "rank %d  Ni: %d NTOT: %d  gpupot: %f sec\n",*rank,ni,n,t1 - t0);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	void gpupot_(
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpupot.gpu.cu:      gpupot(irank, *istart, *ni, *n, m, x, pot);
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:*       Open GPU for all single particles
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:         CALL GPUNB_OPEN(NN,rank)
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:*       Send all single particles to GPU memory
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:      CALL GPUNB_SEND(NN,BODY(IFIRST),X(1,IFIRST),XDOT(1,IFIRST))
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:      CALL CALC_REG_ON_GPU(IREG,1,NREG)
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:      CALL CALC_REG_ON_GPU(IREG,istart,iend)
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:*         CALL GPUIRR_SET_JP(I,X0(1,I),X0DOT(1,I),F(1,I),FDOT(1,I),
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:          CALL GPUNB_CLOSE
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:*#ifdef GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/intgrt.F:*          CALL GPUNB_CLOSE(rank)
packages/amuse-framework/src/amuse/community/nbody6xx/src/checkl.f:*       Simplify to include GPU (standard code needs a few extra searches).
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:# make gpu                         (single CPU plus one GPU)
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:# make mpichgpu                    (many CPU, many GPU, not fully working)
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:CUDA_PATH=/usr/local/cuda
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:gpu:
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/usr/local/cuda" "SDK_PATH=/usr/local/cuda_sdk/C" "FC = gfortran" "LFLAGS = -o nbody6.gpu -L$(CUDA_PATH)/lib64 -lcudart" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -g -fbounds-check -D GPU" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy.f util_gpu.f $(SOURCE)"
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:gpu_laohu:
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/export/" "SDK_PATH=/export/NVIDIA_CUDA_SDK" "FC = gfortran" "LFLAGS = -o nbody6.gpu -L/export/CUDA/4.0/lib64 -lcudart" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -fbounds-check -D GPU" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy.f util_gpu.f $(SOURCE)"
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:gpu_milkyway:
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "SDK_PATH=" "FC = gfortran" "CUFLAGS= -D CUDA_5" "LFLAGS = -o nbody6.gpu -lcudart" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -D GPU" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy.f util_gpu.f $(SOURCE)"
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:mpichgpu:
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/usr/local/cuda" "SDK_PATH=/usr/local/cuda_sdk/C" "FC = mpif77" "LFLAGS = -o nbody6.gpu -L$(CUDA_PATH)/lib64 -lcudart" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O4 -D PUREMPI -D PARALLEL -D GPU" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:mpichgpu_laohu:
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/export/" "SDK_PATH=/export/NVIDIA_CUDA_SDK" "FC = /usr/mpi/gcc/openmpi-1.3.2-qlc/bin/mpif77" "LFLAGS = -o nbody6.gpu -L/export/CUDA/4.0/lib64 -lcudart" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -g -D PUREMPI -D PARALLEL -D GPU -fPIC -fbounds-check" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f  util_gpu.f $(SOURCE)"
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:mpichgpu_milkyway_g:
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "FC = /opt/parastation/mpi2/bin/mpif77" "SDK_PATH=" "CUFLAGS= -g -D CUDA_5" "LFLAGS = -o nbody6.gpu -lcudart" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -g -O0 -D PUREMPI -D PARALLEL -D GPU -fbounds-check -Wall -fbacktrace -finit-real=nan" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:mpichgpu_milkyway:
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "FC = /opt/parastation/mpi2/bin/mpif77" "SDK_PATH=" "CUFLAGS= -arch=sm_20 -Xptxas -v -O3 -D CUDA_5" "LFLAGS = -o nbody6.gpu -lcudart" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -fPIC -ffast-math -D PUREMPI -D PARALLEL -D GPU -Wall" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:mpichgpu_lwpc:
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/usr/local/cuda" "CUFLAGS=-arch=sm_30 -Xptxas -v -O3 -D CUDA_5 " "SDK_PATH=/usr/local/cuda/samples" "FC = mpif77" "LFLAGS = -o nbody6.gpu -L/usr/local/cuda/lib64 -lcudart" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -fPIC -ffast-math -march=core2 -D PUREMPI -D PARALLEL -D GPU" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:mpichgpu_lwpcg:
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/usr/local/cuda" "CUFLAGS=-g -arch=sm_30 -Xptxas -v -D CUDA_5 " "SDK_PATH=/usr/local/cuda/samples" "FC = mpif77" "LFLAGS = -o nbody6.gpu -L/usr/local/cuda/lib64 -lcudart" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -g -O0 -D PUREMPI -D PARALLEL -D GPU -fbounds-check -Wall -fbacktrace -finit-real=nan" \
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:CUDASOURCE = gpunb.gpu.cu gpupot.gpu.cu
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:CUDAOBJECTS = gpunb.gpu.o gpupot.gpu.o
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:nbody6.gpu: $(OBJECTS) $(CUDAOBJECTS)
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:	$(LOAD) $(FFLAGS) $(LFLAGS) $(OBJECTS) $(CUDAOBJECTS) $(LFLAGS2)
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:gpunb.gpu.o: gpunb.gpu.cu
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:	nvcc -c $(CUFLAGS) -Xcompiler "-O3 -Wall" -I$(SDK_PATH)/common/inc -I. -I$(HOME)/include gpunb.gpu.cu
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:gpupot.gpu.o: gpupot.gpu.cu
packages/amuse-framework/src/amuse/community/nbody6xx/src/Makefile:	nvcc -c $(CUFLAGS) -Xcompiler "-O3 -Wall" -I$(SDK_PATH)/common/inc -I. -I$(HOME)/include gpupot.gpu.cu
packages/amuse-framework/src/amuse/community/nbody6xx/src/xtrnl0.F:*       Note that QVIR = Q is saved in routine SCALE and VIR < 0 with GPU.
packages/amuse-framework/src/amuse/community/nbody6xx/src/phicor.f:*       Subtract c.m. interaction for each component (copied from GPU).
packages/amuse-framework/src/amuse/community/nbody6xx/src/cuda_pointer.h:struct cudaPointer{
packages/amuse-framework/src/amuse/community/nbody6xx/src/cuda_pointer.h:  cudaPointer(){
packages/amuse-framework/src/amuse/community/nbody6xx/src/cuda_pointer.h:  //  ~cudaPointer(){
packages/amuse-framework/src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMalloc(&p, size * sizeof(T)));
packages/amuse-framework/src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMallocHost(&p, size * sizeof(T)));
packages/amuse-framework/src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaFree(dev_pointer));
packages/amuse-framework/src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaFreeHost(host_pointer));
packages/amuse-framework/src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMemcpy(dev_pointer, host_pointer, count * sizeof(T), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMemcpy(host_pointer, dev_pointer, count * sizeof(T), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/nbody6xx/src/regint.F:#ifdef GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/regint.F:         NNBGPU = LIST_G(1,I)
packages/amuse-framework/src/amuse/community/nbody6xx/src/regint.F:c$$$  IF(NNBGPU.LT.0)THEN
packages/amuse-framework/src/amuse/community/nbody6xx/src/regint.F:c$$$  PRINT*,' Warning Regint t,i,nnbgpu=',TIME,I,NNBGPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/regint.F:c$$$  NNBG = NNBGPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/regint.F:         nnbg=nnbgpu
packages/amuse-framework/src/amuse/community/nbody6xx/src/regint.F:#ifdef GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/regint.F:*       Perform only extended neighbour loop if GPU has been used.
packages/amuse-framework/src/amuse/community/nbody6xx/src/regint.F:c$$$         IF(NNBGPU.LT.0) THEN
packages/amuse-framework/src/amuse/community/nbody6xx/src/regint.F:*        WRITE(6,1111) I,NNBGPU, NNB, TIME, FREG(1), FDR(1),
packages/amuse-framework/src/amuse/community/nbody6xx/src/regint.F:*1111    FORMAT(1X,' I, nnbs time fr, fdr, frgpu, frdgpu=',
packages/amuse-framework/src/amuse/community/nbody6xx/src/regint.F:*       Skip another full N loop (necessary for GPU/OpenMP case).
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#ifdef CUDA_5
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#include <helper_cuda.h>
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#define CUDA_SAFE_CALL checkCudaErrors
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#include "cuda_pointer.h"
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300 // just some trial
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <Jparticle> jpbuf;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <Iparticle> ipbuf;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <Force[NJBLOCK]> fopart;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <Force> fobuf;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <uint16[NJBLOCK][NB_PER_BLOCK]>nbpart;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <int> nblist;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <int> nboff;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static int devid, numGPU;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_devinit(int irank){
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  cudaGetDeviceCount(&numGPU);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  assert(numGPU > 0);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  char *gpu_list = getenv("GPU_LIST");
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  if(gpu_list)
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    numGPU = 0;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    char *p = strtok(gpu_list, " ");
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:      numGPU++;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    assert(numGPU > 0);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    devid=irank%numGPU;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  cudaSetDevice(devid);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  fprintf(stderr, "Initializing NBODY6/GPU library\n");
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  cudaDeviceProp prop;
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  cudaGetDeviceProperties(&prop, devid);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  fprintf(stderr, "#GPU %d; device: %d %s\n", numGPU, devid, prop.name);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_open(int nbmax,int irank){
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    //select GPU========================================//
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    GPUNB_devinit(irank);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:      fprintf(stderr, "gpunb: it is already open\n");
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMallocHost((void **)&jp_host, jpsize);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMalloc    ((void **)&jp_dev , jpsize);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMallocHost((void **)&ip_host, ipsize);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMalloc    ((void **)&ip_dev , ipsize);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMallocHost((void **)&fo_host, fosize);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMalloc    ((void **)&fo_dev , fosize);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	fprintf(stderr, "Opened NBODY6/GPU library\n");
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_close(){
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:		fprintf(stderr, "gpunb: it is already close\n");
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFreeHost(jp_host);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFree    (jp_dev);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFreeHost(ip_host);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFree    (ip_dev);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFreeHost(fo_host);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFree    (fo_dev);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	fprintf(stderr, "Closed NBODY6/GPU library\n");
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_send(
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMemcpy(jp_dev, jp_host, jpsize, cudaMemcpyHostToDevice);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_regf(
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  // cudaMemcpy(ip_dev, ip_host, ipsize, cudaMemcpyHostToDevice);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  // cudaMemcpy(fo_host, fo_dev, fosize, cudaMemcpyDeviceToHost);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  void gpunb_devinit_ (int *irank){
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    GPUNB_devinit(*irank);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  void gpunb_open_(int *nbmax, int *irank){
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    GPUNB_open(*nbmax, *irank);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  void gpunb_close_(){
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    GPUNB_close();
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	void gpunb_send_(
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:		GPUNB_send(*nj, mj, xj, vj);
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	void gpunb_regf_(
packages/amuse-framework/src/amuse/community/nbody6xx/src/gpunb.gpu.cu:      GPUNB_regf(*ni, h2, dtr, xi, vi, acc, jrk, pot, *lmax, *nnbmax, list);
packages/amuse-framework/src/amuse/community/nbody6xx/src/energy_mpi.F:#ifndef GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/energy_mpi.F:#ifdef GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/energy_mpi.F:#ifdef GPU      
packages/amuse-framework/src/amuse/community/nbody6xx/src/energy_mpi.F:*     --05/17/13 9:13-lwang-gpupot-------------------------------------*
packages/amuse-framework/src/amuse/community/nbody6xx/src/energy_mpi.F:***** Note:Use gpupot here---------------------------------------------**
packages/amuse-framework/src/amuse/community/nbody6xx/src/energy_mpi.F:*       Evaluate individual potentials on GPU (including all c.m.).
packages/amuse-framework/src/amuse/community/nbody6xx/src/energy_mpi.F:      CALL GPUPOT(rank,istart,NN,NNT,BODY(IFIRST),X(1,IFIRST)
packages/amuse-framework/src/amuse/community/nbody6xx/src/energy_mpi.F:#ifdef GPU      
packages/amuse-framework/src/amuse/community/nbody6xx/src/energy_mpi.F:#ifndef GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/energy_mpi.F:#ifdef GPU       
packages/amuse-framework/src/amuse/community/nbody6xx/src/energy_mpi.F:         CALL GPUPOT(rank,1,NNT,NNT,BODY(IFIRST),X(1,IFIRST)
packages/amuse-framework/src/amuse/community/nbody6xx/src/util_gpu.F:C     Calculate the REG force on local GPU memory
packages/amuse-framework/src/amuse/community/nbody6xx/src/util_gpu.F:      SUBROUTINE CALC_REG_ON_GPU(IREG,istart,iend)
packages/amuse-framework/src/amuse/community/nbody6xx/src/util_gpu.F:C---  calculate the pot, a & jerk on the GPU
packages/amuse-framework/src/amuse/community/nbody6xx/src/util_gpu.F:C---  fill the GPU "working" arrays
packages/amuse-framework/src/amuse/community/nbody6xx/src/util_gpu.F:*     WRITE(6,*) RANK, 'GPU UTIL h2', ii-1, idi, sqrt(h2_i(ii)), 
packages/amuse-framework/src/amuse/community/nbody6xx/src/util_gpu.F:*     WRITE(6,*) ' call gpu L ni lmax nbmax = ',L,ni, lmax,nnbmax
packages/amuse-framework/src/amuse/community/nbody6xx/src/util_gpu.F:C---  GPU first call with first values of p_i, a_i & jerk_i
packages/amuse-framework/src/amuse/community/nbody6xx/src/util_gpu.F:         CALL gpunb_regf(ni,h2_i,DTR,x_i,v_i,a_i,jerk_i,p_i,lmax,
packages/amuse-framework/src/amuse/community/nbody6xx/src/util_gpu.F:         ttgpu = ttgpu + (tt54-tt53)*60.0
packages/amuse-framework/src/amuse/community/nbody6xx/src/util_gpu.F:         gpu_calls = gpu_calls + 1
packages/amuse-framework/src/amuse/community/nbody6xx/src/util_gpu.F:*     Note GPU address starts from 0 (hence add IFIRST to neighbour list).
packages/amuse-framework/src/amuse/community/nbody6xx/src/util_gpu.F:C     Calculate the REG force on local GPU memory
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_string.h: * Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_string.h: * Please refer to the NVIDIA end user license agreement (EULA) associated
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_string.h:// CUDA Utility Helper Functions
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_string.h:        "./7_CUDALibraries/",                       // "/7_CUDALibraries/" subdir
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_string.h:        "../C/7_CUDALibraries/<executable_name>/data/",  // up 1 in tree, "/7_CUDALibraries/<executable_name>/" subdir
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_string.h:        "../7_CUDALibraries/<executable_name>/data/",    // up 1 in tree, "/7_CUDALibraries/<executable_name>/" subdir
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_string.h:        "../../7_CUDALibraries/<executable_name>/data/", // up 2 in tree, "/7_CUDALibraries/<executable_name>/" subdir
packages/amuse-framework/src/amuse/community/nbody6xx/src/helper_string.h:        "../../../7_CUDALibraries/<executable_name>/data/", // up 3 in tree, "/7_CUDALibraries/<executable_name>/" subdir
packages/amuse-framework/src/amuse/community/nbody6xx/src/common6.h:     *  ttgrcalc2,ttgpu,ttbar,xtsub1,xtsub2,isernb,iserreg
packages/amuse-framework/src/amuse/community/kepler/src/Makefile:GPU	  = -DGPU
packages/amuse-framework/src/amuse/community/kepler/src/stdinc.h:#endif				// on GPU: not fully tested
packages/amuse-framework/src/amuse/community/phigrape/sapporo.config:1    // total number of CUDA devices to use. WARNING: It is not fool proof!
packages/amuse-framework/src/amuse/community/phigrape/sapporo.config:0    // which CUDA devices to use,     pls, double check the values.
packages/amuse-framework/src/amuse/community/phigrape/interface.py:    MODE_GPU = 'gpu'
packages/amuse-framework/src/amuse/community/phigrape/interface.py:            elif mode == self.MODE_GPU:
packages/amuse-framework/src/amuse/community/phigrape/interface.py:                return 'phigrape_worker_gpu'
packages/amuse-framework/src/amuse/community/phigrape/interface.py:            elif mode == self.MODE_GPU:
packages/amuse-framework/src/amuse/community/phigrape/interface.py:                return 'phigrape_worker_gpu'
packages/amuse-framework/src/amuse/community/phigrape/interface.py:        Sets the initialize GPU/GRAPE once parameter. When
packages/amuse-framework/src/amuse/community/phigrape/interface.py:        set the GPU will be initialized during the
packages/amuse-framework/src/amuse/community/phigrape/interface.py:        if mode == self.MODE_GPU:
packages/amuse-framework/src/amuse/community/phigrape/interface.py:            return 'phigrape_worker_gl_gpu'
packages/amuse-framework/src/amuse/community/phigrape/interface.py:            "initialize_gpu_once",
packages/amuse-framework/src/amuse/community/phigrape/interface.py:            "set to 1 if the gpu must only be initialized once, 0 if it can be initialized for every call\nIf you want to run multiple instances of the code on the same gpu this parameter needs to be 0 (default)",
packages/amuse-framework/src/amuse/community/phigrape/Makefile:CUDA_SDK ?= /disks/koppoel1/CUDA23/cudasdk/C
packages/amuse-framework/src/amuse/community/phigrape/Makefile:CUDA_TK  ?= /disks/koppoel1/CUDA23/cuda
packages/amuse-framework/src/amuse/community/phigrape/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
packages/amuse-framework/src/amuse/community/phigrape/Makefile:CUDA_LIBS ?= -lcudart
packages/amuse-framework/src/amuse/community/phigrape/Makefile:GPULIBS  =  $(SAPPORO_LIBS)  $(CUDA_LIBDIRS) $(CUDA_LIBS) -lpthread -L/usr/lib64 -lstdc++
packages/amuse-framework/src/amuse/community/phigrape/Makefile:phigrape_worker_gpu: worker_code.f90 interface.o $(CODELIB)
packages/amuse-framework/src/amuse/community/phigrape/Makefile:	$(MPIF90) $(FFLAGS) -DNOMPI $(SC_FLAGS) $(FS_FLAGS) $(LDFLAGS) $^ $(CODELIB) -o $@ $(OBJECTS) $(LIBRARIES) $(GPULIBS) $(SC_MPI_CLIBS) $(FS_LIBS)  $(LIBS)
packages/amuse-framework/src/amuse/community/phigrape/Makefile:phigrape_worker_gl_gpu: glworker_code.f90 interface.o $(CODELIB)
packages/amuse-framework/src/amuse/community/phigrape/Makefile:	$(GLOBJECTS) $(GLLIB)  $(X11LIB) $(THREADLIB) $(LIBS) $(GPULIBS) $(SC_MPI_CLIBS) $(FS_LIBS)  $(LIBS)
packages/amuse-framework/src/amuse/community/phigrape/Makefile:	rm -f worker_code_gpu worker_code_grape
packages/amuse-framework/src/amuse/community/phigrape/Makefile:	rm -f glworker_code_gpu glworker_code_grape
packages/amuse-framework/src/amuse/community/phigrape/Makefile:	rm -f phigrape_worker phigrape_worker_gl phigrape_worker_gl_gpu phigrape_worker_gpu
packages/amuse-framework/src/amuse/community/phigrape/Makefile:	rm -f phigrape_worker_gpu_sockets
packages/amuse-framework/src/amuse/community/phigrape/src/Makefile:CUDA_LIBDIRS ?= -L/data1/pelupes/programs/cuda/lib 
packages/amuse-framework/src/amuse/community/phigrape/src/Makefile:CUDA_LIBS ?= -lcudart
packages/amuse-framework/src/amuse/community/phigrape/src/Makefile:LLIBSDIR = $(SAPPORO_LIBDIRS) $(CUDA_LIBDIRS)
packages/amuse-framework/src/amuse/community/phigrape/src/Makefile:LIBS     =  $(CUDA_LIBS) -lsapporo -lm -lboost_thread-mt -lpthread
packages/amuse-framework/src/amuse/community/asterisk/src/shaders/fs_gaussian_blur.fp:	// Incremental Gaussian Coefficent Calculation (See GPU Gems 3 pp. 877 - 889)
packages/amuse-framework/src/amuse/community/asterisk/src/kernels/VectorAdd.cl:// OpenCL Kernel Function for element by element vector addition
packages/amuse-framework/src/amuse/community/adaptb/src/dlmalloc.c:        Thanks to Tony E. Bennett <tbennett@nvidia.com> and others.
packages/amuse-framework/src/amuse/community/huayno/readme.txt:  AMUSE environment. It can make use of GPUs - for this an OpenCL 
packages/amuse-framework/src/amuse/community/huayno/readme.txt:  OpenCL operation:
packages/amuse-framework/src/amuse/community/huayno/readme.txt:  loops to the GPU.  The implementation is based on the STDCL library
packages/amuse-framework/src/amuse/community/huayno/readme.txt:  appropiately for the OpenCL configuration: CLCONTEXT:  stdgpu or stdcpu
packages/amuse-framework/src/amuse/community/huayno/readme.txt:  NTHREAD:  64 for GPU, 2 for CPU (actually 64 will also work for CPU just
packages/amuse-framework/src/amuse/community/huayno/readme.txt:  starting guess) evolve_kern.cl contains the OpenCL kernels. Precision of
packages/amuse-framework/src/amuse/community/huayno/interface.py:    AMUSE environment. It can make use of GPUs - for this an OpenCL
packages/amuse-framework/src/amuse/community/huayno/interface.py:    MODE_OPENCL='opencl'
packages/amuse-framework/src/amuse/community/huayno/interface.py:        if mode==self.MODE_OPENCL:
packages/amuse-framework/src/amuse/community/huayno/interface.py:    def get_opencl_device_type():
packages/amuse-framework/src/amuse/community/huayno/interface.py:        function.addParameter('opencl_device_type', dtype='i', direction=function.OUT)
packages/amuse-framework/src/amuse/community/huayno/interface.py:    def set_opencl_device_type():
packages/amuse-framework/src/amuse/community/huayno/interface.py:        function.addParameter('opencl_device_type', dtype='i', direction=function.IN)
packages/amuse-framework/src/amuse/community/huayno/interface.py:            "get_opencl_device_type",
packages/amuse-framework/src/amuse/community/huayno/interface.py:            "set_opencl_device_type",
packages/amuse-framework/src/amuse/community/huayno/interface.py:            "opencl_device_type",
packages/amuse-framework/src/amuse/community/huayno/interface.py:            "set preferred OpenCL device type (0=default, 1=cpu, 2=gpu)",
packages/amuse-framework/src/amuse/community/huayno/Makefile:OPENCL_BUILDDIR = build_cl
packages/amuse-framework/src/amuse/community/huayno/Makefile:	rm -Rf $(OPENCL_BUILDDIR)
packages/amuse-framework/src/amuse/community/huayno/Makefile:$(OPENCL_BUILDDIR)/Makefile: $(SRCDIR)/Makefile 
packages/amuse-framework/src/amuse/community/huayno/Makefile:	-mkdir $(OPENCL_BUILDDIR) 
packages/amuse-framework/src/amuse/community/huayno/Makefile:	cp $(SRCDIR)/Makefile $(OPENCL_BUILDDIR)/Makefile
packages/amuse-framework/src/amuse/community/huayno/Makefile:$(OPENCL_BUILDDIR)/libhuayno_cl.a: $(OPENCL_BUILDDIR)/Makefile $(LIBFILES) src/Makefile
packages/amuse-framework/src/amuse/community/huayno/Makefile:	make -C $(OPENCL_BUILDDIR) libhuayno_cl.a VPATH=../src CFLAGS="$(CFLAGS)" CXXFLAGS="$(CXXFLAGS)" LIBS="$(LIBS)" INCLUDE="$(INCLUDE)"
packages/amuse-framework/src/amuse/community/huayno/Makefile:huayno_worker_cl: CFLAGS   += -DEVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/Makefile:huayno_worker_cl: CXXFLAGS   += -DEVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/Makefile:huayno_worker_cl: __init__.py worker_code.cc worker_code.h $(OPENCL_BUILDDIR)/libhuayno_cl.a $(OPENCL_BUILDDIR)/interface.o 
packages/amuse-framework/src/amuse/community/huayno/Makefile:	$(MPICXX) $(CXXFLAGS) $(INCLUDE) $(LDFLAGS) worker_code.cc $(OPENCL_BUILDDIR)/interface.o $(OPENCL_BUILDDIR)/libhuayno_cl.a -o $@ $(LIBS) $(SC_CLIBS)
packages/amuse-framework/src/amuse/community/huayno/Makefile:$(OPENCL_BUILDDIR)/%.o: %.c
packages/amuse-framework/src/amuse/community/huayno/interface.c:  opencl_device_type=0;
packages/amuse-framework/src/amuse/community/huayno/interface.c:int get_opencl_device_type(int *i)
packages/amuse-framework/src/amuse/community/huayno/interface.c:  *i=opencl_device_type;
packages/amuse-framework/src/amuse/community/huayno/interface.c:int set_opencl_device_type(int i)
packages/amuse-framework/src/amuse/community/huayno/interface.c:  opencl_device_type=i;
packages/amuse-framework/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/evolve.c:int opencl_device_type=0;
packages/amuse-framework/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/universal_kepler_solver.h:    #ifndef CONFIG_USE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/universal_kepler_solver.h:        #ifndef CONFIG_USE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/universal_kepler_solver.h:    #ifndef CONFIG_USE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:#ifdef EVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:#define CL_TARGET_OPENCL_VERSION 200
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:    #include "OpenCL/opencl.h"
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:static cl_mem _ipos, _ivel, _jpos, _jvel, _acc, _pot, _timestep; // opencl buffer objects
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:  err = clGetDeviceIDs(NULL, SELECT(opencl_device_type,CL_DEVICE_TYPE_DEFAULT,CL_DEVICE_TYPE_CPU,CL_DEVICE_TYPE_GPU), 1, &device_id, NULL);
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:  if (err != CL_SUCCESS) ENDRUN("OpenCL could not get device of requested type %s", SELECT(opencl_device_type,"default","cpu","gpu"));
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:  if (!context || err!=CL_SUCCESS) ENDRUN("OpenCL failed to create context");
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:  if (!queue || err!=CL_SUCCESS) ENDRUN("OpenCL failed to create command queue");
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:  if (!program || err!=CL_SUCCESS) ENDRUN("OpenCL failed to create program")
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:        printf("OpenCL failed to build program executable!\n");
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:  if(err!= CL_SUCCESS) ENDRUN("OpenCL failed to create kick_kernel"); 
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:  if(err!= CL_SUCCESS) ENDRUN("OpenCL failed to create timestep_kernel"); 
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:  if(err!= CL_SUCCESS) ENDRUN("OpenCL failed to create potential_kernel"); 
packages/amuse-framework/src/amuse/community/huayno/src/evolve_cl.c:  printf("OpenCL initialized using device %s\n", name);
packages/amuse-framework/src/amuse/community/huayno/src/evolve.h:extern int opencl_device_type;
packages/amuse-framework/src/amuse/community/huayno/src/evolve.h:#ifdef EVOLVE_OPENCL
packages/amuse-framework/src/amuse/community/huayno/src/evolve_kern.cl:    #pragma OPENCL EXTENSION cl_khr_fp64 : enable
packages/amuse-framework/src/amuse/community/huayno/src/evolve_kern.cl:    #pragma OPENCL EXTENSION cl_amd_fp64 : enable
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:            n_workers = 1, use_gpu = 1, gpu_worker = 1,
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:    print("use_gpu =", use_gpu)
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:    # Note that there are actually three GPU options:
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:    #	3. use the non-GPU code (-G)
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:    if gpu_worker == 1:
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:                           redirection = "none", mode = "gpu")
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:    gravity.parameters.use_gpu = use_gpu
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:    use_gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:    gpu_worker = 0
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:            use_gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:            use_gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:            gpu_worker = 0
packages/amuse-framework/src/amuse/community/ph4/test_multiples2.py:            use_gpu, gpu_worker,
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:            n_workers = 1, use_gpu = 1, gpu_worker = 1,
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:    print("use_gpu =", use_gpu)
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:    # Note that there are actually three GPU options:
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:    #	3. use the non-GPU code (-G)
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:    if gpu_worker == 1:
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:                           redirection = "none", mode = "gpu")
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:    gravity.parameters.use_gpu = use_gpu
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:    use_gpu = 1
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:    gpu_worker = 1
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:                n_workers, use_gpu, gpu_worker,
packages/amuse-framework/src/amuse/community/ph4/util/run_ph4.py:                                      n_workers, use_gpu, gpu_worker,
packages/amuse-framework/src/amuse/community/ph4/util/initialize_system.py:               n_workers = 1, use_gpu = 1, gpu_worker = 1,
packages/amuse-framework/src/amuse/community/ph4/util/initialize_system.py:    # Note that there are actually three GPU options:
packages/amuse-framework/src/amuse/community/ph4/util/initialize_system.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-framework/src/amuse/community/ph4/util/initialize_system.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-framework/src/amuse/community/ph4/util/initialize_system.py:    #	3. use the non-GPU code (-G)
packages/amuse-framework/src/amuse/community/ph4/util/initialize_system.py:    if gpu_worker == 1:
packages/amuse-framework/src/amuse/community/ph4/util/initialize_system.py:                           redirection = "none", mode = "gpu")
packages/amuse-framework/src/amuse/community/ph4/util/initialize_system.py:    gravity.parameters.use_gpu = use_gpu
packages/amuse-framework/src/amuse/community/ph4/util/initialize_system.py:    use_gpu = 1
packages/amuse-framework/src/amuse/community/ph4/util/initialize_system.py:    gpu_worker = 1
packages/amuse-framework/src/amuse/community/ph4/util/initialize_system.py:    make_nbody(N, time, n_workers, use_gpu, gpu_worker,
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:             n_workers = 1, use_gpu = 1, gpu_worker = 1,
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:    print("use_gpu =", use_gpu)
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:    # Note that there are actually three GPU options to test:
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:    #	3. use the non-GPU code (-G)
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:    if gpu_worker == 1:
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:                           redirection = "none", mode = "gpu")
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:    gravity.parameters.use_gpu = use_gpu
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:    use_gpu = 1
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:    gpu_worker = 1
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:            use_gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:            use_gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:            gpu_worker = 0
packages/amuse-framework/src/amuse/community/ph4/test_multiples.py:             use_gpu, gpu_worker,
packages/amuse-framework/src/amuse/community/ph4/interface.py:    Parallel, GPU-accelerated, N-body integration module with block
packages/amuse-framework/src/amuse/community/ph4/interface.py:    MODE_GPU = 'gpu'
packages/amuse-framework/src/amuse/community/ph4/interface.py:        elif mode == self.MODE_GPU:
packages/amuse-framework/src/amuse/community/ph4/interface.py:            return 'ph4_worker_gpu'
packages/amuse-framework/src/amuse/community/ph4/interface.py:    def set_gpu():
packages/amuse-framework/src/amuse/community/ph4/interface.py:        Set use_gpu.
packages/amuse-framework/src/amuse/community/ph4/interface.py:        function.addParameter('gpu', dtype='int32',
packages/amuse-framework/src/amuse/community/ph4/interface.py:    def get_gpu():
packages/amuse-framework/src/amuse/community/ph4/interface.py:        Get use_gpu.
packages/amuse-framework/src/amuse/community/ph4/interface.py:        function.addParameter('gpu', dtype='int32',
packages/amuse-framework/src/amuse/community/ph4/interface.py:    def set_gpu_id():
packages/amuse-framework/src/amuse/community/ph4/interface.py:        Set gpu_id.
packages/amuse-framework/src/amuse/community/ph4/interface.py:        function.addParameter('gpu_id', dtype='int32',
packages/amuse-framework/src/amuse/community/ph4/interface.py:    def get_gpu_id():
packages/amuse-framework/src/amuse/community/ph4/interface.py:        Get gpu_id.
packages/amuse-framework/src/amuse/community/ph4/interface.py:        function.addParameter('gpu_id', dtype='int32',
packages/amuse-framework/src/amuse/community/ph4/interface.py:            "get_gpu",                   # getter name in interface.cc
packages/amuse-framework/src/amuse/community/ph4/interface.py:            "set_gpu",                   # setter name in interface.cc
packages/amuse-framework/src/amuse/community/ph4/interface.py:            "use_gpu",                   # python parameter name
packages/amuse-framework/src/amuse/community/ph4/interface.py:            "use GPU",                   # description
packages/amuse-framework/src/amuse/community/ph4/interface.py:            "get_gpu_id",                # getter name in interface.cc
packages/amuse-framework/src/amuse/community/ph4/interface.py:            "set_gpu_id",                # setter name in interface.cc
packages/amuse-framework/src/amuse/community/ph4/interface.py:            "gpu_id",                    # python parameter name
packages/amuse-framework/src/amuse/community/ph4/interface.py:            "GPU ID",                    # description
packages/amuse-framework/src/amuse/community/ph4/Makefile:ALL	 = ph4_worker # ph4_worker_gpu
packages/amuse-framework/src/amuse/community/ph4/Makefile:CUDA_TK  ?= /usr/local/cuda
packages/amuse-framework/src/amuse/community/ph4/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
packages/amuse-framework/src/amuse/community/ph4/Makefile:CUDA_LIBS ?= $(CUDA_LIBDIRS) -lcudart
packages/amuse-framework/src/amuse/community/ph4/Makefile:LDFLAGS_GPU =	$(LDFLAGS) \
packages/amuse-framework/src/amuse/community/ph4/Makefile:		$(CUDA_LIBS) \
packages/amuse-framework/src/amuse/community/ph4/Makefile:CODELIB_GPU = src/libph4gpu.a
packages/amuse-framework/src/amuse/community/ph4/Makefile:$(CODELIB_GPU):
packages/amuse-framework/src/amuse/community/ph4/Makefile:	make -C src gpulib CXX=$(MPICXX)
packages/amuse-framework/src/amuse/community/ph4/Makefile:ph4_worker_gpu: worker_code.cc interface.h $(CODELIB_GPU) $(OBJS)
packages/amuse-framework/src/amuse/community/ph4/Makefile:	$(MPICXX) $(CXXFLAGS) worker_code.cc $(OBJS) $(CODELIB_GPU) -o $@ $(LDFLAGS_GPU) -DGPU  $(LIBS)
packages/amuse-framework/src/amuse/community/ph4/Makefile:	$(RM) -f *~ ph4_worker ph4_worker_gpu ph4_worker_sockets ph4_worker_gpu_sockets
packages/amuse-framework/src/amuse/community/ph4/interface.cc:    jd->setup_gpu();
packages/amuse-framework/src/amuse/community/ph4/interface.cc:	PRC(jd->mpi_size); PRL(jd->have_gpu);
packages/amuse-framework/src/amuse/community/ph4/interface.cc:int set_gpu(int gpu)
packages/amuse-framework/src/amuse/community/ph4/interface.cc:    jd->use_gpu = jd->have_gpu && (gpu == 1);
packages/amuse-framework/src/amuse/community/ph4/interface.cc:int get_gpu(int * gpu)
packages/amuse-framework/src/amuse/community/ph4/interface.cc:    *gpu = jd->use_gpu;
packages/amuse-framework/src/amuse/community/ph4/interface.cc:int set_gpu_id(int gpu_id)
packages/amuse-framework/src/amuse/community/ph4/interface.cc:    jd->gpu_id = gpu_id;
packages/amuse-framework/src/amuse/community/ph4/interface.cc:int get_gpu_id(int * gpu_id)
packages/amuse-framework/src/amuse/community/ph4/interface.cc:    *gpu_id = jd->gpu_id;
packages/amuse-framework/src/amuse/community/ph4/interface.cc:    if (jd->use_gpu && !jd->have_gpu) jd->use_gpu = false;
packages/amuse-framework/src/amuse/community/ph4/interface.cc:	PRC(jd->have_gpu); PRL(jd->use_gpu);
packages/amuse-framework/src/amuse/community/ph4/interface.cc:    // update the GPU and scheduler.  The jdata arrays should already
packages/amuse-framework/src/amuse/community/ph4/interface.cc:    if (!jd->use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/interface.cc:	jd->initialize_gpu(true);		// reload the GPU
packages/amuse-framework/src/amuse/community/ph4/interface.cc:    if (!jd->use_gpu)
packages/amuse-framework/src/amuse/community/ph4/interface.cc:	jd->initialize_gpu(true);		// reload the GPU
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:             n_workers = 1, use_gpu = 1, gpu_worker = 1, gpu_id = -1,
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    print("use_gpu =", use_gpu)
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    # Note that there are actually really three GPU options to test:
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    #	3. use the non-GPU code (-G)
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    if gpu_worker == 1:
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:                           redirection = "none", mode = "gpu")
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:            gpu = 1
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:            print('*** GPU worker code not found. Reverting to non-GPU code. ***')
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:            gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    if gpu == 0:
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    gravity.parameters.gpu_id = gpu_id
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    gravity.parameters.use_gpu = use_gpu
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    use_gpu = 1
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    gpu_worker = 1
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:    gpu_id = -1
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:            use_gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:            use_gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:            gpu_worker = 0
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:            gpu_id = int(a)
packages/amuse-framework/src/amuse/community/ph4/test_sync.py:             use_gpu, gpu_worker, gpu_id,
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc://	void jdata::setup_gpu()
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:void jdata::setup_gpu()
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    const char *in_function = "jdata::setup_gpu";
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    // Determine GPU availability and use, based on the option
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    have_gpu = use_gpu = true;
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    have_gpu = use_gpu = false;
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    // Don't update the GPU(s), if any, yet, as repeated removals will
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    // Final consistency check on GPU availability/use.
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    if (use_gpu && !have_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	if (mpi_rank == 0) cout << endl << "GPU unavailable" << endl << flush;
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	use_gpu = false;
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    if (!use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	if (have_gpu && mpi_rank == 0)
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	    cout << endl << "GPU use disabled" << endl << flush;
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	// Copy all data into the GPU.
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	cout << endl << "initializing GPU(s) for " << mpi_rank 
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	initialize_gpu();
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	if (DEBUG > 1) cout << "GPU initialization done for " << mpi_rank
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    // use the i-data (and GPU) to predict and compute the potential.
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	// Direct parallel calculation on the j-data, with no GPU.
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	// Use pot data.  This approach uses the GPU if available, and
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	if (!use_gpu) predict_all(system_time);
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	idat->get_acc_and_jerk();		// parallel, may use GPU
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    // pred_vel).  This function is only called in the non-GPU case.
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    if (!use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	// GPU will do this, if present.  Note that this only predicts
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    if (!use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	// GPU will do this, if present.  Note that this only predicts
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    if (!use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	// GPU will do this, if present.  Note that this only predicts
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	    PRC(jmin); PRC(jnn); PRL(dnnmin);	// GPU implementation
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:#ifdef GPU		// needed because of explicit g6_npipes() below
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	if (use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	    PRC(gpu_calls); PRL(gpu_total);
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:		    = 6.e-8*(nj-1)*gpu_calls*npipes/(elapsed_time+_TINY_);
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:		Gflops_user_max = 6.e-8*(nj-1)*gpu_calls*npipes
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:    if (use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/jdata.cc:	// get_densities_on_gpu();		// not tested yet
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:// * GRAPE/GPU specific code *
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc://	void jdata::initialize_gpu()
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc://	void idata::update_gpu()
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc://	void idata::get_partial_acc_and_jerk_on_gpu()
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc://	void jdata::get_densities_on_gpu(idata& id)  (UNDER DEVELOPMENT)  MPI
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:// No need to check jdata::use_gpu here, as the GPU functions will
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:// only be called if use_gpu = true.
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:void jdata::initialize_gpu(bool reinitialize)	// default = false
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "jdata::initialize_gpu";
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:    // (Re)initialize the local GPU(s): reload all particles.
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	// g6_open() logic is for a single GPU.  May be overridden by
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	// a configuration file.  If gpu_id is >= 0, use that GPU.
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	// Otherwise use GPU 0 for a single-process run, MPI rank for
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	// a multi-process run.  No check for a valid GPU ID.
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	//PRL(gpu_id);
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	int gpu_to_use = clusterid;
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	if (gpu_id >= 0) gpu_to_use = gpu_id;
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	cout << "opening GPU " << gpu_to_use << endl << flush;
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	g6_open(gpu_to_use);
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:    // Load all local particles into the GPU.
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:void jdata::update_gpu(int jlist[], int njlist)
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "jdata::update_gpu";
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:    // Load data for the listed j-particles into the GPU.
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:    // Load particles into the GPU.
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:		    cout << "jdata::update_gpu(): jj = " << jj << " "
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:void idata::update_gpu()
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "idata::update_gpu";
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:    // Load corrected data for all i-particles into the local GPUs.
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:		cout << "idata::update_gpu(): i = "
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:void jdata::sync_gpu()
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:    // Do phony work on the GPU to force synchronization of the
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "sync_gpu";
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:void idata::get_partial_acc_and_jerk_on_gpu(bool pot)	// default = false
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "idata::get_partial_acc_and_jerk_on_gpu";
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	jdat->gpu_calls += 1;
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	jdat->gpu_total += nni;
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	    // Note: The pnn array contains the GRAPE/GPU indices of
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	    // the nearest neighbors.  The "index" sent to the GPU is
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:void jdata::get_densities_on_gpu()	// under development
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "jdata::get_densities_on_gpu";
packages/amuse-framework/src/amuse/community/ph4/src/gpu.cc:	    // the GPU neighbor list for particle j includes j).
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:# command-line argument NOSYNC=-DNOSYNC turns *off* GPU sync in
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:OBJS    = jdata.o idata.o scheduler.o grape.o gpu.o util.o diag.o debug.o
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:GPUOBJS	= $(subst .o,.gpuo, $(OBJS))
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:	  -L/usr/local/cuda/lib -lcuda -lcudart \
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:EXE	= parallel_hermite_4 parallel_hermite_4_noGPU smallN kepler analyze
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:.SUFFIXES: .cc .o .gpuo
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:.cc.gpuo:
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:	$(MPICXX) $(CFLAGS) -DGPU -c $< -o $@
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:parallel_hermite_4:	parallel_hermite_4.cc $(GPUOBJS) $(EXTRAOBJS)
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:	$(MPICXX) $(NOSYNC) $(CFLAGS) -DGPU parallel_hermite_4.cc \
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:	    $(GPUOBJS) $(EXTRAOBJS) $(LIBS) -o $@
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:parallel_hermite_4_noGPU:	parallel_hermite_4.cc $(OBJS) $(EXTRAOBJS)
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:	mpiexec -n $(NWORKER) parallel_hermite_4 $(ARGS)	> GPU.log
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:testph42:	parallel_hermite_4 parallel_hermite_4_noGPU
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:	mpiexec -n $(NWORKER) parallel_hermite_4 $(ARGS)	> GPU.log
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:	mpiexec -n $(NWORKER) parallel_hermite_4_noGPU $(ARGS)	> noGPU.log
packages/amuse-framework/src/amuse/community/ph4/src/Makefile.ph4:	$(RM) -r -f *.o *.gpuo *.co *.fo *~ *.tgz *.dSYM $(EXE) $(TEST_NSTAB)
packages/amuse-framework/src/amuse/community/ph4/src/Makefile:GPU	  = -DGPU
packages/amuse-framework/src/amuse/community/ph4/src/Makefile:CODELIB_GPU = libph4gpu.a
packages/amuse-framework/src/amuse/community/ph4/src/Makefile:CODEOBJS = debug.o diag.o gpu.o grape.o idata.o jdata.o scheduler.o \
packages/amuse-framework/src/amuse/community/ph4/src/Makefile:CODEOBJS_GPU = $(subst .o,.gpuo, $(CODEOBJS))
packages/amuse-framework/src/amuse/community/ph4/src/Makefile:GPUFLAGS = $(GPU)
packages/amuse-framework/src/amuse/community/ph4/src/Makefile:gpulib: $(CODELIB_GPU)
packages/amuse-framework/src/amuse/community/ph4/src/Makefile:$(CODELIB_GPU): $(CODEOBJS_GPU) $(EXTRAOBJS)
packages/amuse-framework/src/amuse/community/ph4/src/Makefile:	echo $(CODEOBJS_GPU)
packages/amuse-framework/src/amuse/community/ph4/src/Makefile:	$(AR) $@ $(CODEOBJS_GPU) $(EXTRAOBJS)
packages/amuse-framework/src/amuse/community/ph4/src/Makefile:$(CODEOBJS_GPU): %.gpuo: %.cc
packages/amuse-framework/src/amuse/community/ph4/src/Makefile:	$(CXX) $(CXXFLAGS) $(GPUFLAGS) -c -o $@ $< 
packages/amuse-framework/src/amuse/community/ph4/src/Makefile:	$(RM) -r -f *.o *.co *~ *.tgz *.a *.gpuo
packages/amuse-framework/src/amuse/community/ph4/src/TODO:2. Implement parallel multi-GPU use.  Necessary code is in
packages/amuse-framework/src/amuse/community/ph4/src/old_close_encounter.cc:    // parallelized and sped up using the GPU.  TODO.
packages/amuse-framework/src/amuse/community/ph4/src/old_close_encounter.cc:	// in order to recompute the potential energy, update the GPU
packages/amuse-framework/src/amuse/community/ph4/src/old_close_encounter.cc:    // Send new data on all affected j-particles to GPU.
packages/amuse-framework/src/amuse/community/ph4/src/old_close_encounter.cc:    if (use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/old_close_encounter.cc:	sync_gpu();	// hardly a true fix for the GPU update
packages/amuse-framework/src/amuse/community/ph4/src/old_close_encounter.cc:	    initialize_gpu(true);
packages/amuse-framework/src/amuse/community/ph4/src/old_close_encounter.cc:	    // domains.  Update the GPU data only for the affected
packages/amuse-framework/src/amuse/community/ph4/src/old_close_encounter.cc:	    // locations.  Function update_gpu() will ignore any
packages/amuse-framework/src/amuse/community/ph4/src/old_close_encounter.cc:	    update_gpu(nbrlist-merge, 2+merge);  // nbrlist-1 is nbrlist0
packages/amuse-framework/src/amuse/community/ph4/src/old_close_encounter.cc:    if (!use_gpu) predict_all(system_time);
packages/amuse-framework/src/amuse/community/ph4/src/old_close_encounter.cc:    if (use_gpu) idat->update_gpu();
packages/amuse-framework/src/amuse/community/ph4/src/stdinc.h:#endif				// on GPU: not fully tested
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:    bool have_gpu;			// will be true if -DGPU is compiled in
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:    bool use_gpu;			// true if actually using GPU
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:    int gpu_id;				// >= 0 if we have specified a GPU ID
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:    real block_steps, total_steps, gpu_calls, gpu_total;
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:	have_gpu = false;		// correct values will be set at
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:	use_gpu = false;		// run time, in setup_gpu()
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:	block_steps = total_steps = gpu_calls = gpu_total = 0;
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:    void setup_gpu();
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:    // In gpu.cc:
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:    void initialize_gpu(bool reinitialize = false);
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:    void update_gpu(int jlist[], int njlist);
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:    void sync_gpu();
packages/amuse-framework/src/amuse/community/ph4/src/jdata.h:    void get_densities_on_gpu();
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:// of illustration/experimentation.  Preferable to use GPU acceleration
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc://  no GPU:
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:// The j-data are predicted prior to gather if GPU is not used.
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:// Otherwise, the j-prediction is done on the GPU, but the i-data are
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:// ONLY if the force calculation is done on the front end.  If a GPU
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:    // Without a GPU, this function calculate all quantities with
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:    // With a GPU, function get_partial_acc_and_jerk_on_gpu() uses
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:    if (!jdat->use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:	// Use the GPU to compute the forces.  Note that "pred"
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:	if (DEBUG > 1) cout << "getting acc and jerk on GPU" << endl << flush;
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:	get_partial_acc_and_jerk_on_gpu();
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:	if (DEBUG > 1) cout << "acc and jerk on GPU done" << endl << flush;
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:    // We must do this for all i-particles in the GPU case (no
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:    // current j-domain in the non-GPU case.  In the latter case, ipos
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:    // Don't clutter the GPU code with extra checks used only in the
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:    // non-GPU case.  Just write the loop twice.
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:    if (jdat->use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:	    if (!jdat->use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:		// Don't use pred_pos/vel in the GPU case.  Also, need
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:		// mass for GPU update.  Don't scatter back.
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:    if (!jdat->use_gpu || NN > 0) {
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:    // Predict i-particles only (if using GPU; the GPU will handle the
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:    // GPU).
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:    if (jdat->use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:	// Send updated information to the GPU.
packages/amuse-framework/src/amuse/community/ph4/src/idata.cc:	update_gpu();
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:Now it is possible for an application to specify which GPUs to use via
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:free choice of GPUs.  What are the likely options we would want to
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:implement?  Assume np processes in the parallel application and ngpu
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:GPUs per node, so ngpu = 2 for cassini, 6 for draco.  Use -P as in
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:kira to specify some sort of list of GPUs.
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:1. For a single worker process, may want to allocate up to ngpu GPUs
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:2. For a parallel process on a single node, better have np <= ngpu.
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:   All processes should have the same number of GPUs, so the only
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:   relevant parameter is the number of GPUs ng per process.  The
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:   simplest scheme is that process i uses GPUs ng*i, ng*i+1,...,
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:   ng*i+ng-1, for i = 0,...,np-1.  For ngpu = 6, as on draco, there
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:   distributed across nodes in order to determine GPU use as in 2.
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:individual GPUs in order to avoid conflicts with other users.  In a
packages/amuse-framework/src/amuse/community/ph4/src/GPU_options.txt:GPUs is sufficient.  So keep the kira syntax for case 1, and just
packages/amuse-framework/src/amuse/community/ph4/src/idata.h:    // In gpu.cc:
packages/amuse-framework/src/amuse/community/ph4/src/idata.h:    void update_gpu();
packages/amuse-framework/src/amuse/community/ph4/src/idata.h:    void get_partial_acc_and_jerk_on_gpu(bool pot = false);
packages/amuse-framework/src/amuse/community/ph4/src/close_encounter.cc:    // parallelized and sped up using the GPU.  TODO.
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:	// in order to recompute the potential energy, update the GPU
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:    // Send new data on all affected j-particles to GPU.
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:    if (use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:	sync_gpu();	// hardly a true fix for the GPU update
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:	    initialize_gpu(true);
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:	    // domains.  Update the GPU data only for the affected
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:	    // locations.  Function update_gpu() will ignore any
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:	    update_gpu(jcm_init, ncm_init);
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:	    if (merge) update_gpu(jcm_final, ncm_final);
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:    if (!use_gpu) predict_all(system_time);
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:    if (use_gpu) idat->update_gpu();
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:    // Update the GPU(s).  Maybe too complicated to try to keep track
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:    // reinitialize the GPU data in all worker processes (even if
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:    if (use_gpu) {
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:	sync_gpu();	// not a true fix for the GPU update
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:	initialize_gpu(true);
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:    if (!use_gpu) predict_all(system_time);
packages/amuse-framework/src/amuse/community/ph4/src/two_body.cc:    if (use_gpu) idat->update_gpu();
packages/amuse-framework/src/amuse/community/ph4/src/README:1. ph4: parallel, GPU accelerated, 4th-order Hermite integrator,
packages/amuse-framework/src/amuse/community/ph4/src/README:	  scheduler.[ch]*, grape.[ch]*, gpu.cc, util.cc, diag.cc,
packages/amuse-framework/src/amuse/community/ph4/src/README:	      -DGPU option, respectively.  In addition, GPU use can be
packages/amuse-framework/src/amuse/community/ph4/src/README:		    parallel_hermite_4_noGPU
packages/amuse-framework/src/amuse/community/ph4/src/README:	      All GPU options are supported in all parallel versions.
packages/amuse-framework/src/amuse/community/ph4/src/README:	      test_ph4.py -G	runs parallel_hermite_4_noGPU
packages/amuse-framework/src/amuse/community/ph4/src/README:	* the GPU and non-GPU codes produce slightly different
packages/amuse-framework/src/amuse/community/ph4/src/README:		parallel_hermite_4_noGPU -e 0.001 ...
packages/amuse-framework/src/amuse/community/ph4/src/README:		mpiexec -n 2 parallel_hermite_4_noGPU -e 0.001 ... different
packages/amuse-framework/src/amuse/community/ph4/src/README:		the noGPU differences seem to be significantly smaller
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:// Parallel fourth-order Hermite integrator with GRAPE/GPU
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc://	-g		suppress GPU use			[use GPU]
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:void run_hermite4(int ntotal, int seed, char *file, bool use_gpu,
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:    jd.setup_gpu();		// set have_gpu and default use_gpu
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:    if (use_gpu && !jd.have_gpu) use_gpu = false;
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:    jd.use_gpu = use_gpu;
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:    bool remove = false;	// don't check GPU bug in remove_particle()
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:	    if (!jd.use_gpu)
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:		jd.initialize_gpu(true);		// reload the GPU
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:#ifdef GPU
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:    bool use_gpu = true;
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:    bool use_gpu = false;
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:		case 'g':	use_gpu = !use_gpu;
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:	cout << "    -g "; PRL(use_gpu);
packages/amuse-framework/src/amuse/community/ph4/src/parallel_hermite_4.cc:    run_hermite4(ntotal, seed, infile, use_gpu,
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:             n_workers = 1, use_gpu = 1, gpu_worker = 1, gpu_id = -1,
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    print("use_gpu =", use_gpu)
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    # Note that there are actually three GPU options to test:
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    #	1. use the GPU code and allow GPU use (default)
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    #	2. use the GPU code but disable GPU use (-g)
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    #	3. use the non-GPU code (-G)
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    if gpu_worker == 1:
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:                           redirection = "none", mode = "gpu")
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:            gpu = 1
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:            print('*** GPU worker code not found. Reverting to non-GPU code. ***')
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:            gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    if gpu == 0:
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    gravity.parameters.gpu_id = gpu_id
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    gravity.parameters.use_gpu = use_gpu
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    use_gpu = 1
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    gpu_worker = 1
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:    gpu_id = -1
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:            use_gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:            use_gpu = 0
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:            gpu_worker = 0
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:            gpu_id = int(a)
packages/amuse-framework/src/amuse/community/ph4/test_ph4.py:             use_gpu, gpu_worker, gpu_id,
packages/amuse-framework/src/amuse/community/tupan/Makefile:PYOPENCL_AVAILABLE := $(shell $(PYTHON) -c "import pyopencl"  1>&2 2> /dev/null && echo "yes" || echo "no")
packages/amuse-framework/src/amuse/community/tupan/Makefile:	@echo "Testing import of modules required for tupan (pyopencl, cffi):"
packages/amuse-framework/src/amuse/community/tupan/Makefile:ifeq ($(PYOPENCL_AVAILABLE),no)
packages/amuse-framework/src/amuse/community/tupan/Makefile:	$(warning "Python import (optional) not available: pyopencl")
packages/amuse-framework/src/amuse/community/etics/Makefile:GPUARCH ?= 35
packages/amuse-framework/src/amuse/community/etics/Makefile:CUDAFLAGS += -arch=sm_$(GPUARCH)
packages/amuse-framework/src/amuse/community/etics/Makefile:CUDA_TK ?= /usr/local/cuda/
packages/amuse-framework/src/amuse/community/etics/Makefile:CUDA_LIBS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcuda 
packages/amuse-framework/src/amuse/community/etics/Makefile:$(CUDA_TK):
packages/amuse-framework/src/amuse/community/etics/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
packages/amuse-framework/src/amuse/community/etics/Makefile:	@echo "please set the CUDA_TK variable to the directory"
packages/amuse-framework/src/amuse/community/etics/Makefile:	@echo "where you installed CUDA"
packages/amuse-framework/src/amuse/community/etics/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
packages/amuse-framework/src/amuse/community/etics/Makefile:compile: $(CUDA_TK) $(CODELIB)
packages/amuse-framework/src/amuse/community/etics/Makefile:	$(MPICXX) $(CXXFLAGS) -L/usr/local/cuda/lib64 $< $(OBJS) $(CODELIB) -o $@ -lcudart
packages/amuse-framework/src/amuse/community/etics/README.md:This is ETICS (Expansion Techniques In Collisionless Systems), a GPU (currently
packages/amuse-framework/src/amuse/community/etics/README.md:**CUDA only**) N-body code which uses series expansion to calculate the
packages/amuse-framework/src/amuse/community/etics/README.md:- CUDA (>= 6; mandatory)
packages/amuse-framework/src/amuse/community/etics/README.md:For at least one of the CUDA kernels, for various reasons, it seems that "brute
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaOccupancyMaxPotentialBlockSizeVariableSMem(&minGridSize, &blockSize, CalculateCoefficientsPartial, blockSizeToDynamicSMemSize, 128);
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cerr << "Warning: setting blockSizeLimit=128 for cudaOccupancyMaxPotentialBlockSizeVariableSMem." << endl;
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaOccupancyMaxPotentialBlockSize(&minGridSize, &blockSize, CalculateGravityFromCoefficients, 0, N);
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    // Need to make sure A_h is loaded to GPU and the first particle is at (187.79, 187.79, 0); also, global arrays Potential and F should be allocated on GPU
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    SendCoeffsToGPU(A_h);
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMemset(F, 0, sizeof(vec3));
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMemcpy(&FirstParticleForce, F, sizeof(vec3), cudaMemcpyDeviceToHost);
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaDeviceProp DeviceProperties;
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaGetDeviceProperties(&DeviceProperties, 0); // should be DevID!!!
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cout << "Probing device GPU" << 0 << " on host " << HostName << ": " << DeviceProperties.name << endl << endl;
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:        cout << "Could not count cores! Your GPU is possibly too new. We'll take " << Cores << " but it doesn't really matter." << endl << endl;
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMalloc((void**)&ParticleList, N * sizeof(Particle));
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMemcpy(ParticleList, ParticleList_h, N * sizeof(Particle), cudaMemcpyHostToDevice);
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMalloc((void**)&Potential, N * sizeof(Real));
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMalloc((void**)&F, N * sizeof(vec3));
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaFree(PartialSum);
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMalloc((void**)&PartialSum, RealMaxGS*(LMAX+1)*sizeof(Complex));
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    printf("Parameters: LMAX=%d, NMAX=%d, N=%d (GPU%d=\"%s\" on %s)\n", LMAX, NMAX, N, 0, DeviceProperties.name, HostName);
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaFree(PartialSum);
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaFree(ParticleList);
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaFree(Potential);
packages/amuse-framework/src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaFree(F);
packages/amuse-framework/src/amuse/community/etics/src/scf.hpp:        void SendCoeffsToGPU(Complex *A_h);
packages/amuse-framework/src/amuse/community/etics/src/file.ini:;    device (CUDA device ID; by default or if negative, cudaSetDevice is skipped)
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:    [cuda],
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:    [AS_HELP_STRING([--with-cuda=DIR], [CUDA installation directory])],
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:    [CUDA_ROOT="$withval"]
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:AS_IF([test "$CUDA_ROOT" == "no"], [AC_MSG_ERROR([This package needs CUDA])])
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:    [gpu-arch],
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:    [AS_HELP_STRING([--with-gpu-arch=ARCH], [Specify device architechture [default=35]])],
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:    [GPU_ARCH="$withval"]
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:AS_IF([test -z $GPU_ARCH], [GPU_ARCH=35])
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:# Check CUDA
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:AS_IF([test -z $CUDA_ROOT],
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:    AS_IF([test "$NVCC" == "no"], [AC_MSG_ERROR([This package needs CUDA])],
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:        CUDA_ROOT=`which nvcc | sed 's:/bin/nvcc$::'`
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:    AC_CHECK_PROG([NVCC], [nvcc], [$CUDA_ROOT/bin/nvcc], [no], [$CUDA_ROOT/bin])
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:    AS_IF([test "$NVCC" == "no"], [AC_MSG_ERROR([No nvcc executable was found in $CUDA_ROOT/bin])])
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:AX_LDFLAGS_PUSH([-L$CUDA_ROOT/lib64])
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:AC_CHECK_LIB([cuda], [main], [], [AC_MSG_ERROR([Error while checking for libcuda])])
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:AC_CHECK_LIB([cudart], [main], [], [AC_MSG_ERROR([Error while checking for libcudart])])
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:AC_CHECK_LIB([cudadevrt], [main], [], [AC_MSG_ERROR([Error while checking for cudadevrt])])
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:AC_SUBST([CUDA_ROOT])
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:AC_SUBST([GPU_ARCH])
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:                  CUDA compiler: $NVCC
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:                           cuda: yes
packages/amuse-framework/src/amuse/community/etics/src/configure.ac:              GPU architechture: $GPU_ARCH
packages/amuse-framework/src/amuse/community/etics/src/main.cu:// If you have CUDA then compile with:
packages/amuse-framework/src/amuse/community/etics/src/main.cu:#define CUDA
packages/amuse-framework/src/amuse/community/etics/src/main.cu:    #undef CUDA
packages/amuse-framework/src/amuse/community/etics/src/main.cu://     #include "cuda_complex.hpp"
packages/amuse-framework/src/amuse/community/etics/src/main.cu:        if (cudaSetDevice(DeviceID) != cudaSuccess) {
packages/amuse-framework/src/amuse/community/etics/src/main.cu:        cerr << "Skipping call to cudaSetDevice." << endl;
packages/amuse-framework/src/amuse/community/etics/src/main.cu:    cudaDeviceProp DeviceProperties;
packages/amuse-framework/src/amuse/community/etics/src/main.cu:    cudaGetDeviceProperties(&DeviceProperties, 0);
packages/amuse-framework/src/amuse/community/etics/src/main.cu:    // Here we collect the GPU IDs from all MPI processes and print a warning if one GPU is assigned to more than one process.
packages/amuse-framework/src/amuse/community/etics/src/main.cu:            printf("\x1B[31m!!SEVERE WARNING!!\x1B[0m It seems the same physical GPU device was assigned to multiple processes; check the submission script.\n");
packages/amuse-framework/src/amuse/community/etics/src/config.h.in:/* Define to 1 if you have the `cuda' library (-lcuda). */
packages/amuse-framework/src/amuse/community/etics/src/config.h.in:#undef HAVE_LIBCUDA
packages/amuse-framework/src/amuse/community/etics/src/config.h.in:/* Define to 1 if you have the `cudadevrt' library (-lcudadevrt). */
packages/amuse-framework/src/amuse/community/etics/src/config.h.in:#undef HAVE_LIBCUDADEVRT
packages/amuse-framework/src/amuse/community/etics/src/config.h.in:/* Define to 1 if you have the `cudart' library (-lcudart). */
packages/amuse-framework/src/amuse/community/etics/src/config.h.in:#undef HAVE_LIBCUDART
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.xi,         N * sizeof(Real));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.Phi0l,      N * sizeof(Real));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.Wprev1,     N * sizeof(Real));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.Wprev2,     N * sizeof(Real));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.costheta,   N * sizeof(Real));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.sintheta_I, N * sizeof(Real));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.Exponent,   N * sizeof(Complex));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.mass,       N * sizeof(Real));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMemcpyToSymbol(Cache, &Cache_h, sizeof(CacheStruct));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMemcpy(PartialSum_h, PartialSum, k3gs*(l+1)*sizeof(Complex), cudaMemcpyDeviceToHost);
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:void etics::scf::SendCoeffsToGPU(Complex *A_h) {
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:        cudaMemcpyToSymbol(A, A_h, (NMAX+1)*(LMAX+1)*(LMAX+2)/2 * sizeof(Complex));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:#warning not really need this copy, just calculate the coefficients in some local array, then sum it into a global array (A_h or somthing) and copy it to GPUs
packages/amuse-framework/src/amuse/community/etics/src/scf.cu://     cudaMemcpyToSymbol(A, A_h, (NMAX+1)*(LMAX+1)*(LMAX+2)/2 * sizeof(Complex));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    SendCoeffsToGPU(A_h);
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:        cudaOccupancyMaxPotentialBlockSizeVariableSMem(&minGridSize, &blockSize, CalculateCoefficientsPartial, blockSizeToDynamicSMemSize, 128);
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:        cerr << "Warning: setting blockSizeLimit=128 for cudaOccupancyMaxPotentialBlockSizeVariableSMem." << endl;
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:        cudaOccupancyMaxPotentialBlockSize(&minGridSize, &blockSize, CalculateGravityFromCoefficients, 0, N);
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMemcpyToSymbol(RadCoeff, RadCoeff_h, (NMAX+1)*(LMAX+1) * sizeof(Real));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMemcpyToSymbol(AngCoeff, AngCoeff_h, (LMAX+1)*(LMAX+2)/2 * sizeof(Real));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMemcpyToSymbol(Cache, &Cache_h, sizeof(CacheStruct));
packages/amuse-framework/src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&PartialSum, k3gs*(LMAX+1)*sizeof(Complex));
packages/amuse-framework/src/amuse/community/etics/src/Makefile.in:GPU_ARCH = @GPU_ARCH@
packages/amuse-framework/src/amuse/community/etics/src/Makefile.in:LDFLAGS    = -L@CUDA_ROOT@/lib64 @LDFLAGS@
packages/amuse-framework/src/amuse/community/etics/src/Makefile.in:# LIBS should get at least -lcuda -lcudart -lcudadevrt from the configure script
packages/amuse-framework/src/amuse/community/etics/src/Makefile.in:CUDAFLAGS  = -arch=sm_$(GPU_ARCH)
packages/amuse-framework/src/amuse/community/etics/src/Makefile.in:	$(NVCC) $(CUDAFLAGS) -dlink $(CODEOBJS1) -o dlink.o
packages/amuse-framework/src/amuse/community/etics/src/Makefile.in:	$(NVCC) $(CUDAFLAGS) -dlink $(CODEOBJS1) $(CODEOBJS2) -o dlink.o
packages/amuse-framework/src/amuse/community/etics/src/Makefile.in:	$(NVCC) $(CUDAFLAGS) -dlink mathaux.o scf.o scf-optimize-lc.o ic.o -o dlink.o
packages/amuse-framework/src/amuse/community/etics/src/Makefile.in:	$(NVCC) $(CUDAFLAGS) $(CPPFLAGS) -Xcompiler "$(CXXFLAGS)" -dc -o $@ $<
packages/amuse-framework/src/amuse/community/etics/src/configure:GPU_ARCH
packages/amuse-framework/src/amuse/community/etics/src/configure:CUDA_ROOT
packages/amuse-framework/src/amuse/community/etics/src/configure:with_cuda
packages/amuse-framework/src/amuse/community/etics/src/configure:with_gpu_arch
packages/amuse-framework/src/amuse/community/etics/src/configure:  --with-cuda=DIR         CUDA installation directory
packages/amuse-framework/src/amuse/community/etics/src/configure:  --with-gpu-arch=ARCH    Specify device architechture [default=35]
packages/amuse-framework/src/amuse/community/etics/src/configure:# Check whether --with-cuda was given.
packages/amuse-framework/src/amuse/community/etics/src/configure:if test "${with_cuda+set}" = set; then :
packages/amuse-framework/src/amuse/community/etics/src/configure:  withval=$with_cuda; CUDA_ROOT="$withval"
packages/amuse-framework/src/amuse/community/etics/src/configure:if test "$CUDA_ROOT" == "no"; then :
packages/amuse-framework/src/amuse/community/etics/src/configure:  as_fn_error $? "This package needs CUDA" "$LINENO" 5
packages/amuse-framework/src/amuse/community/etics/src/configure:# Check whether --with-gpu-arch was given.
packages/amuse-framework/src/amuse/community/etics/src/configure:if test "${with_gpu_arch+set}" = set; then :
packages/amuse-framework/src/amuse/community/etics/src/configure:  withval=$with_gpu_arch; GPU_ARCH="$withval"
packages/amuse-framework/src/amuse/community/etics/src/configure:if test -z $GPU_ARCH; then :
packages/amuse-framework/src/amuse/community/etics/src/configure:  GPU_ARCH=35
packages/amuse-framework/src/amuse/community/etics/src/configure:# Check CUDA
packages/amuse-framework/src/amuse/community/etics/src/configure:if test -z $CUDA_ROOT; then :
packages/amuse-framework/src/amuse/community/etics/src/configure:  as_fn_error $? "This package needs CUDA" "$LINENO" 5
packages/amuse-framework/src/amuse/community/etics/src/configure:        CUDA_ROOT=`which nvcc | sed 's:/bin/nvcc$::'`
packages/amuse-framework/src/amuse/community/etics/src/configure:for as_dir in $CUDA_ROOT/bin
packages/amuse-framework/src/amuse/community/etics/src/configure:    ac_cv_prog_NVCC="$CUDA_ROOT/bin/nvcc"
packages/amuse-framework/src/amuse/community/etics/src/configure:  as_fn_error $? "No nvcc executable was found in $CUDA_ROOT/bin" "$LINENO" 5
packages/amuse-framework/src/amuse/community/etics/src/configure:    LDFLAGS="-L$CUDA_ROOT/lib64 $LDFLAGS"
packages/amuse-framework/src/amuse/community/etics/src/configure:{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for main in -lcuda" >&5
packages/amuse-framework/src/amuse/community/etics/src/configure:$as_echo_n "checking for main in -lcuda... " >&6; }
packages/amuse-framework/src/amuse/community/etics/src/configure:if ${ac_cv_lib_cuda_main+:} false; then :
packages/amuse-framework/src/amuse/community/etics/src/configure:LIBS="-lcuda  $LIBS"
packages/amuse-framework/src/amuse/community/etics/src/configure:  ac_cv_lib_cuda_main=yes
packages/amuse-framework/src/amuse/community/etics/src/configure:  ac_cv_lib_cuda_main=no
packages/amuse-framework/src/amuse/community/etics/src/configure:{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_cuda_main" >&5
packages/amuse-framework/src/amuse/community/etics/src/configure:$as_echo "$ac_cv_lib_cuda_main" >&6; }
packages/amuse-framework/src/amuse/community/etics/src/configure:if test "x$ac_cv_lib_cuda_main" = xyes; then :
packages/amuse-framework/src/amuse/community/etics/src/configure:#define HAVE_LIBCUDA 1
packages/amuse-framework/src/amuse/community/etics/src/configure:  LIBS="-lcuda $LIBS"
packages/amuse-framework/src/amuse/community/etics/src/configure:  as_fn_error $? "Error while checking for libcuda" "$LINENO" 5
packages/amuse-framework/src/amuse/community/etics/src/configure:{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for main in -lcudart" >&5
packages/amuse-framework/src/amuse/community/etics/src/configure:$as_echo_n "checking for main in -lcudart... " >&6; }
packages/amuse-framework/src/amuse/community/etics/src/configure:if ${ac_cv_lib_cudart_main+:} false; then :
packages/amuse-framework/src/amuse/community/etics/src/configure:LIBS="-lcudart  $LIBS"
packages/amuse-framework/src/amuse/community/etics/src/configure:  ac_cv_lib_cudart_main=yes
packages/amuse-framework/src/amuse/community/etics/src/configure:  ac_cv_lib_cudart_main=no
packages/amuse-framework/src/amuse/community/etics/src/configure:{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_cudart_main" >&5
packages/amuse-framework/src/amuse/community/etics/src/configure:$as_echo "$ac_cv_lib_cudart_main" >&6; }
packages/amuse-framework/src/amuse/community/etics/src/configure:if test "x$ac_cv_lib_cudart_main" = xyes; then :
packages/amuse-framework/src/amuse/community/etics/src/configure:#define HAVE_LIBCUDART 1
packages/amuse-framework/src/amuse/community/etics/src/configure:  LIBS="-lcudart $LIBS"
packages/amuse-framework/src/amuse/community/etics/src/configure:  as_fn_error $? "Error while checking for libcudart" "$LINENO" 5
packages/amuse-framework/src/amuse/community/etics/src/configure:{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for main in -lcudadevrt" >&5
packages/amuse-framework/src/amuse/community/etics/src/configure:$as_echo_n "checking for main in -lcudadevrt... " >&6; }
packages/amuse-framework/src/amuse/community/etics/src/configure:if ${ac_cv_lib_cudadevrt_main+:} false; then :
packages/amuse-framework/src/amuse/community/etics/src/configure:LIBS="-lcudadevrt  $LIBS"
packages/amuse-framework/src/amuse/community/etics/src/configure:  ac_cv_lib_cudadevrt_main=yes
packages/amuse-framework/src/amuse/community/etics/src/configure:  ac_cv_lib_cudadevrt_main=no
packages/amuse-framework/src/amuse/community/etics/src/configure:{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_cudadevrt_main" >&5
packages/amuse-framework/src/amuse/community/etics/src/configure:$as_echo "$ac_cv_lib_cudadevrt_main" >&6; }
packages/amuse-framework/src/amuse/community/etics/src/configure:if test "x$ac_cv_lib_cudadevrt_main" = xyes; then :
packages/amuse-framework/src/amuse/community/etics/src/configure:#define HAVE_LIBCUDADEVRT 1
packages/amuse-framework/src/amuse/community/etics/src/configure:  LIBS="-lcudadevrt $LIBS"
packages/amuse-framework/src/amuse/community/etics/src/configure:  as_fn_error $? "Error while checking for cudadevrt" "$LINENO" 5
packages/amuse-framework/src/amuse/community/etics/src/configure:                  CUDA compiler: $NVCC
packages/amuse-framework/src/amuse/community/etics/src/configure:                           cuda: yes
packages/amuse-framework/src/amuse/community/etics/src/configure:              GPU architechture: $GPU_ARCH
packages/amuse-framework/src/amuse/community/etics/src/configure:                  CUDA compiler: $NVCC
packages/amuse-framework/src/amuse/community/etics/src/configure:                           cuda: yes
packages/amuse-framework/src/amuse/community/etics/src/configure:              GPU architechture: $GPU_ARCH
packages/amuse-framework/src/amuse/community/etics/src/common.hpp:#ifndef __CUDACC__
packages/amuse-framework/src/amuse/community/etics/src/common.hpp:#ifdef __CUDACC__
packages/amuse-framework/src/amuse/community/etics/src/common.hpp:    cudaEvent_t StartTime, StopTime;
packages/amuse-framework/src/amuse/community/etics/src/common.hpp:        cudaEventCreate(&StartTime);
packages/amuse-framework/src/amuse/community/etics/src/common.hpp:        cudaEventCreate(&StopTime);
packages/amuse-framework/src/amuse/community/etics/src/common.hpp:        cudaEventDestroy(StartTime);
packages/amuse-framework/src/amuse/community/etics/src/common.hpp:        cudaEventDestroy(StopTime);
packages/amuse-framework/src/amuse/community/etics/src/common.hpp:        cudaEventRecord(StartTime);
packages/amuse-framework/src/amuse/community/etics/src/common.hpp:        cudaEventRecord(StopTime);
packages/amuse-framework/src/amuse/community/etics/src/common.hpp:        cudaEventSynchronize(StopTime);
packages/amuse-framework/src/amuse/community/etics/src/common.hpp:        cudaEventElapsedTime(&TimeDiff, StartTime, StopTime);
packages/amuse-framework/src/amuse/community/mi6/interface.py:    MODE_GPU = 'gpu'
packages/amuse-framework/src/amuse/community/mi6/interface.py:        elif mode == self.MODE_GPU:
packages/amuse-framework/src/amuse/community/mi6/interface.py:            return 'mi6_worker_gpu'
packages/amuse-framework/src/amuse/community/mi6/Makefile:CUDA_LIBS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcudart
packages/amuse-framework/src/amuse/community/mi6/Makefile:CODELIB_GPU = src/libmi6_gpu.a
packages/amuse-framework/src/amuse/community/mi6/Makefile:	rm -f *~ mi6_worker mi6_worker_gpu
packages/amuse-framework/src/amuse/community/mi6/Makefile:	rm -f worker_code-sockets.cc mi6_worker_sockets mi6_worker_gpu_sockets
packages/amuse-framework/src/amuse/community/mi6/Makefile:$(CODELIB_GPU):
packages/amuse-framework/src/amuse/community/mi6/Makefile:	make -C src gpulib
packages/amuse-framework/src/amuse/community/mi6/Makefile:mi6_worker_gpu: worker_code.cc worker_code.h $(CODELIB_GPU) $(OBJS)
packages/amuse-framework/src/amuse/community/mi6/Makefile:	$(MPICXX) $(CXXFLAGS) $(SC_FLAGS) -I./src  $< $(OBJS) $(CODELIB_GPU) -o $@ -L./src -lmi6_gpu $(SC_CLIBS) $(SAPPORO_LIBS) $(CUDA_LIBS)  $(LIBS)
packages/amuse-framework/src/amuse/community/mi6/src/6thorder.h:  Initialize the GPU library
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:CUDA_LIBS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcudart
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:GPU_OBJS = $(OBJS) evolve_gpu.o
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:all: Nbody_emu.out Nbody_gpu.out Nbody_gpu_pec2.out Nbody_emu_pec2.out libmi6.a libmi6_gpu.a
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:gpulib:  libmi6_gpu.a
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:libmi6_gpu.a: $(GPU_OBJS) # Nbody_gpu.o
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:	$(AR) $@ $(GPU_OBJS) # Nbody_gpu.o
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:#~Nbody_gpu.o:  Nbody.cc
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:evolve_gpu.o:  evolve.cc evolve.h
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:evolve_gpu_pec2.o:  evolve.cc evolve.h
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:Nbody_gpu.out:  Nbody.cc  $(GPU_OBJS)
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:	$(MPICXX) $(CXXFLAGS) -DSAP -o $@ $^ -lcuda -fopenmp $(SAPPORO_LIBS) $(CUDA_LIBS)
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:Nbody_gpu_pec2.out:  Nbody.cc  evolve_gpu_pec2.o $(OBJS) 
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:	$(MPICXX) $(CXXFLAGS) -DPECEC -DSAP -o $@ $^ -lcuda -fopenmp $(SAPPORO_LIBS) $(CUDA_LIBS)
packages/amuse-framework/src/amuse/community/mi6/src/Makefile:	$(RM) *.o *.s Nbody_emu.out Nbody_gpu.out Nbody_emu_pec2.out Nbody_gpu_pec2.out libmi6.a libmi6_gpu.a
packages/amuse-framework/src/amuse/community/mi6/src/sapporo2_dummy.cc:Initialize the GPU library
packages/amuse-framework/src/amuse/community/smalln/src/stdinc.h:#endif				// on GPU: not fully tested
packages/amuse-framework/src/amuse/community/mameclot/src/mameclot.c:      // copy to temp arrays for potential calculation on GPU
packages/amuse-framework/src/amuse/community/mameclot/src/mameclot.c:  // This function is executed on the CPU (defined in pot.c) or GPU (defined in gpupot.cu)
packages/amuse-framework/src/amuse/community/mameclot/src/mameclot.c:  // This function is executed on the CPU (defined in pot.c) or GPU (defined in gpupot.cu)
packages/amuse-framework/src/amuse/community/mameclot/src/mameclot.c:    // On GPU the specific potential of the 2nd cluster is not computed, that is why the
packages/amuse-framework/src/amuse/community/mameclot/src/Makefile:CUDAPATH = /usr/local/cuda/bin/
packages/amuse-framework/src/amuse/community/mameclot/src/Makefile:CUDAFLAGS = -L/usr/local/cuda/lib64 -I/usr/local/cuda/include -lcudart -lcuda
packages/amuse-framework/src/amuse/community/mameclot/src/Makefile:NVCC = $(CUDAPATH)/nvcc
packages/amuse-framework/src/amuse/community/mameclot/src/Makefile:CUDASOURCE = pot.cu
packages/amuse-framework/src/amuse/community/mameclot/src/Makefile:CUDAOBJ = gpupot.o
packages/amuse-framework/src/amuse/community/mameclot/src/Makefile:gpu:	$(OBJ)
packages/amuse-framework/src/amuse/community/mameclot/src/Makefile:	$(NVCC) -c -m64 -arch sm_20  gpupot.cu
packages/amuse-framework/src/amuse/community/mameclot/src/Makefile:	$(CC)  $(CUDAFLAGS)  -o $(EXE).gpu $(CUDAOBJ) $(OBJ) $(LIBS)
packages/amuse-framework/src/amuse/community/mameclot/src/Makefile:	rm -f *.o $(EXE) $(EXE).gpu
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:#include <cuda.h>
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:__global__ void compute_potential_gpu(float *m, 
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&m_d  , sizeof(float)*N); 
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&x_d  , sizeof(float)*N); 
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&y_d  , sizeof(float)*N);
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&z_d  , sizeof(float)*N); 
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&phi_d, sizeof(float)*N);
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(m_d,m    , sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(x_d,x    , sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(y_d,y    , sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(z_d,z    , sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(phi_d,phi, sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  compute_potential_gpu <<<((N+BLOCKSIZE-1))/BLOCKSIZE,BLOCKSIZE >>>(m_d,x_d, y_d, z_d, phi_d,N,N1);
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(phi,phi_d, sizeof(float)*N, cudaMemcpyDeviceToHost); // Host -> Device
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(m_d);
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(x_d);
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(y_d);
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(z_d);
packages/amuse-framework/src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(phi_d);
packages/amuse-framework/src/amuse/community/mameclot/src/COMPILE:For CUDA enabled GPU support compile as
packages/amuse-framework/src/amuse/community/mameclot/src/COMPILE:make gpu
packages/amuse-framework/src/amuse/community/mameclot/src/COMPILE:This creates the executable mameclot.gpu for fast energy scaling on a GPU 
packages/amuse-framework/src/amuse/community/mameclot/src/COMPILE:Perhaps necessary to change the paths of cuda and cuda libs in the Makefile
packages/amuse-framework/src/amuse/community/higpus/interface.py:class HiGPUsInterface(CodeInterface, 
packages/amuse-framework/src/amuse/community/higpus/interface.py:    HiGPUs is a parallel direct N-body code based on a 6th order Hermite integrator. It uses, at the same time, MPI, OpenMP and CUDA 
packages/amuse-framework/src/amuse/community/higpus/interface.py:        CodeInterface.__init__(self, name_of_the_worker="higpus_worker_gpu", **keyword_arguments)
packages/amuse-framework/src/amuse/community/higpus/interface.py:    def set_number_of_GPU():
packages/amuse-framework/src/amuse/community/higpus/interface.py:        function.addParameter('number_of_GPU', dtype='int32', direction=function.IN, description = "number of GPU.")
packages/amuse-framework/src/amuse/community/higpus/interface.py:    def get_number_of_GPU():
packages/amuse-framework/src/amuse/community/higpus/interface.py:        function.addParameter('number_of_GPU', dtype='int32', direction=function.OUT, description = "number of GPU.")
packages/amuse-framework/src/amuse/community/higpus/interface.py:    def set_gpu_name():
packages/amuse-framework/src/amuse/community/higpus/interface.py:        function.addParameter('gpu_name', dtype='string', direction=function.IN, description = "name of the GPU used.")
packages/amuse-framework/src/amuse/community/higpus/interface.py:    def get_gpu_name():
packages/amuse-framework/src/amuse/community/higpus/interface.py:        function.addParameter('gpu_name', dtype='string', direction=function.OUT, description = "name of the GPU used.")
packages/amuse-framework/src/amuse/community/higpus/interface.py:        function.addParameter('output_path_name', dtype='string', direction=function.IN, description = "name of the path where higpus output will be stored.")
packages/amuse-framework/src/amuse/community/higpus/interface.py:        function.addParameter('output_path_name', dtype='string', direction=function.OUT, description = "name of the path where higpus output will be stored.")
packages/amuse-framework/src/amuse/community/higpus/interface.py:class HiGPUs(GravitationalDynamics):
packages/amuse-framework/src/amuse/community/higpus/interface.py:        legacy_interface = HiGPUsInterface(**keyword_arguments)
packages/amuse-framework/src/amuse/community/higpus/interface.py:            "get_gpu_name",                       
packages/amuse-framework/src/amuse/community/higpus/interface.py:            "set_gpu_name",                       
packages/amuse-framework/src/amuse/community/higpus/interface.py:            "gpu_name",                           
packages/amuse-framework/src/amuse/community/higpus/interface.py:            "gpu name",                           
packages/amuse-framework/src/amuse/community/higpus/interface.py:            "get_number_of_GPU",                  
packages/amuse-framework/src/amuse/community/higpus/interface.py:            "set_number_of_GPU",                  
packages/amuse-framework/src/amuse/community/higpus/interface.py:            "n_gpu",                              
packages/amuse-framework/src/amuse/community/higpus/interface.py:            "number of gpus per node",            
packages/amuse-framework/src/amuse/community/higpus/interface.py:            "set_number_of_GPU",
packages/amuse-framework/src/amuse/community/higpus/interface.py:            "get_number_of_GPU",
packages/amuse-framework/src/amuse/community/higpus/interface.py:            "set_gpu_name",
packages/amuse-framework/src/amuse/community/higpus/interface.py:            "get_gpu_name",
packages/amuse-framework/src/amuse/community/higpus/interface.py:            raise Exception(f"Higpus needs a power of two number of particles not {n}, try padding with zero mass particles")
packages/amuse-framework/src/amuse/community/higpus/interface.py:Higpus = HiGPUs
packages/amuse-framework/src/amuse/community/higpus/Makefile:# for most users (most users have no gpu).
packages/amuse-framework/src/amuse/community/higpus/Makefile:ALL	 = higpus_worker_gpu
packages/amuse-framework/src/amuse/community/higpus/Makefile:CUDA_INSTALL_PATH := /usr/local/cuda
packages/amuse-framework/src/amuse/community/higpus/Makefile:NVCC ?= /usr/local/cuda/bin/nvcc
packages/amuse-framework/src/amuse/community/higpus/Makefile:#possible options : -DCHECK_ERRORS -DCHECK_TIMES -DPLUMMER -DUNROLL -DGPUCORR -DGALAXY
packages/amuse-framework/src/amuse/community/higpus/Makefile:CUDAINCLUDE := -I$(CUDA_INSTALL_PATH)/include
packages/amuse-framework/src/amuse/community/higpus/Makefile:CUDALIB := -L$(CUDA_INSTALL_PATH)/lib64 -lcuda -lcudart
packages/amuse-framework/src/amuse/community/higpus/Makefile:## LIBS := -lcuda -lcudart -lmpi -lmpi_cxx -lm -fopenmp
packages/amuse-framework/src/amuse/community/higpus/Makefile:LIBS := -lm $(OPENMP_CFLAGS) $(MPI_CXXLIBS) $(CUDALIB)
packages/amuse-framework/src/amuse/community/higpus/Makefile:NVCCFLAGS := -O3 --compiler-bindir=/usr/bin/$(CXX) -Xcompiler "$(GXXOPTS) $(MYOPTS)" $(CUDAINCLUDE) $(MPI_CXXFLAGS) $(MYINCLUDE) $(NVCC_FLAGS)
packages/amuse-framework/src/amuse/community/higpus/Makefile:CXXFLAGS += $(GXXOPTS) $(MYOPTS) $(CUDAINCLUDE) $(MPI_CXXFLAGS) $(MYINCLUDE)
packages/amuse-framework/src/amuse/community/higpus/Makefile:LDFLAGS = $(LIBS) $(CUDALIB) 
packages/amuse-framework/src/amuse/community/higpus/Makefile:CODELIB = src/libhigpus.a
packages/amuse-framework/src/amuse/community/higpus/Makefile:code: higpus_worker_gpu
packages/amuse-framework/src/amuse/community/higpus/Makefile:	$(CODE_GENERATOR) --type=c interface.py HiGPUsInterface -o $@
packages/amuse-framework/src/amuse/community/higpus/Makefile:	$(CODE_GENERATOR) --type=H interface.py HiGPUsInterface -o $@
packages/amuse-framework/src/amuse/community/higpus/Makefile:higpus_worker_gpu: worker_code.cc worker_code.h $(CODELIB) $(OBJS)
packages/amuse-framework/src/amuse/community/higpus/Makefile:	$(RM) *~ higpus_worker higpus_worker_gpu worker_code.cc
packages/amuse-framework/src/amuse/community/higpus/interface.cc:int size_higpus, rank_higpus, particle_id_counter;
packages/amuse-framework/src/amuse/community/higpus/interface.cc:unsigned int         N, M, NGPU, TPB, FMAX, BFMAX, MAXDIM, GPUMINTHREADS;
packages/amuse-framework/src/amuse/community/higpus/interface.cc:string               FINP, GPUNAME, warm_start_file, temp, argument = " ", path = "./";
packages/amuse-framework/src/amuse/community/higpus/interface.cc:	HostSafeCall(__MPIstart(&rank_higpus, &size_higpus, &mpi_float4, &mpi_double4));
packages/amuse-framework/src/amuse/community/higpus/interface.cc:	GPUNAME="";
packages/amuse-framework/src/amuse/community/higpus/interface.cc:	if(rank_higpus == 0){
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   if(rank_higpus == 0){
packages/amuse-framework/src/amuse/community/higpus/interface.cc:	HostSafeCall(isDivisible(&N, &M,size_higpus, NGPU, TPB, &BFMAX));
packages/amuse-framework/src/amuse/community/higpus/interface.cc:		HostSafeCall(InitBlocks(pos_PH, vel_PH, TPB, N, M, BFMAX, ETA4, DTMIN, DTMAX, NGPU, EPS, &MAXDIM, &GPUMINTHREADS, GPUNAME, rank_higpus, size_higpus, pos_CH, vel_CH, a_H0, step, local_time, &ATIME, VIR, ratio, warm_start, setdev, dev, plummer_core, plummer_mass, rscale, mscale, path));
packages/amuse-framework/src/amuse/community/higpus/interface.cc:	if(rank_higpus == 0){
packages/amuse-framework/src/amuse/community/higpus/interface.cc:		temp = path + "HiGPUslog.dat";
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   HostSafeCall(Hermite6th(TTIME, &GTIME, &ATIME, local_time, step, N, M, pos_PH, vel_PH, pos_CH, vel_CH, a_H0, MAXDIM, NGPU, TPB, rank_higpus, size_higpus, BFMAX, ETA6, ETA4, DTMAX, DTMIN, EPS, DTPRINT, FMAX, warm_start, GTW, GPUMINTHREADS, plummer_core, plummer_mass, rscale, mscale, dev, &cleanstop, path));
packages/amuse-framework/src/amuse/community/higpus/interface.cc:	unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
packages/amuse-framework/src/amuse/community/higpus/interface.cc:	unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
packages/amuse-framework/src/amuse/community/higpus/interface.cc:int set_number_of_GPU(int number_of_GPU){
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   NGPU = number_of_GPU;
packages/amuse-framework/src/amuse/community/higpus/interface.cc:int get_number_of_GPU(int * number_of_GPU){
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   *number_of_GPU = NGPU;
packages/amuse-framework/src/amuse/community/higpus/interface.cc:int get_gpu_name(char ** gpu_name){
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   *gpu_name = to_char(GPUNAME);
packages/amuse-framework/src/amuse/community/higpus/interface.cc:int set_gpu_name(char *gpu_name){
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   GPUNAME = to_string(gpu_name);
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
packages/amuse-framework/src/amuse/community/higpus/interface.cc:	if(rank_higpus == 0) cout<<"time steps are printed in the file 'Blocks', see README file to obtain more information"<<endl;  
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   HostSafeCall(isDivisible(&N, &M,size_higpus, NGPU, TPB, &BFMAX));
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
packages/amuse-framework/src/amuse/community/higpus/interface.cc:	if( rank_higpus == 0) cout<<"accelerations are stored only on GPU, you can't get it"<<endl;
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
packages/amuse-framework/src/amuse/community/higpus/interface.cc:   unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
packages/amuse-framework/src/amuse/community/higpus/__init__.py:from .interface import Higpus
packages/amuse-framework/src/amuse/community/higpus/src/exec/input_param.txt:1       // number of gpus to use !
packages/amuse-framework/src/amuse/community/higpus/src/exec/input_param.txt:64     // gpus threads per block !
packages/amuse-framework/src/amuse/community/higpus/src/exec/input_param.txt:GeForce GTX 480#  // GPU to use (the name must be terminated with the character #) !
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:CODELIB = libhigpus.a
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:NVCC ?= /usr/local/cuda/bin/nvcc
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:CUDAINCLUDE ?= -I$(CUDA_TK)/include
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:NVCCFLAGS := -O3 -Xcompiler "$(GXXOPTS) $(MYOPTS) $(MPI_FCFLAGS) $(MPI_CFLAGS)" $(CUDAINCLUDE) $(MYINCLUDE) $(NVCC_FLAGS)
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:CXXFLAGS += $(GXXOPTS) $(MYOPTS) $(CUDAINCLUDE) $(MYINCLUDE) $(MPI_CLIBS) $(MPI_CFLAGS)
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:CUDAOBJS = 	./src/cuda/main.cu.o \
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:                ./src/cuda/cpu_func.cu.o \
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:                ./src/cuda/corrector.cu.o \
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:                ./src/cuda/cudainit.cu.o \
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:                ./src/cuda/hermite6.cu.o \
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:                ./src/cuda/warmstart.cu.o \
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:                ./src/cuda/selectactive.cu.o \
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:                ./src/cuda/initblocks.cu.o \
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:                ./src/cuda/allreduce.cu.o \
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:                ./src/cuda/energy.cu.o \
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:                ./src/cuda/cuda_kernels.cu.o
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:CODEOBJS = $(CUDAOBJS) $(CXXOBJS)
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:TARGET = ./exec/HiGPUs.x
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:LINKLINE = $(CXX) -o $(TARGET) $(CODEOBJS) $(CUDA_LIBS) $(LIBS) $(MPI_CLIBS)
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:$(TARGET): $(CUDAOBJS) $(CXXOBJS) Makefile 
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:	/bin/rm -rf ./src/cuda/*.o ./src/cxx/*.o ./exec/HiGPUs.x ./exec/nohup.out ./exec/times.dat
packages/amuse-framework/src/amuse/community/higpus/src/Makefile:	/bin/rm -rf ./exec/data/energy.dat ./exec/data/Blocks.dat ./exec/data/HiGPUslog.dat ./exec/data/*memory*
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:#include <cuda_runtime_api.h>
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:#define DeviceSafeCall(err)    __myCudaSafeCall( err, __FILE__, __LINE__ )
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:#define DeviceCheckErrors()    __myCudaLastError(__FILE__, __LINE__)
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:			error_string = " Invalid number of particles : it must be divisible by : \n 1) Number of computational nodes\n 2) Number of GPUs per node\n 3) Number of threads per block\n";
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:			error_string = " Not enough memory on one of the available GPUs \n";
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:		case(HNoGpus):
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:			error_string = " Not enough (or already tested) gpus available on the computational node \n";
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:			error_string = " The gpu choosen does not support Double-precision floating-point numbers \n";
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:			error_string = " The name of the gpu in the input file must be terminated with the # character \n";
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:			error_string = " The number of GPUs specified with the option -d must be equal to that specified in the file 'input_param.txt' \n ";
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:inline void __myCudaSafeCall(cudaError err __attribute__((unused)), const char *file __attribute__((unused)), const int line __attribute__((unused))){
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:		if ( cudaSuccess != err ){
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:			std::cout<<" cudaSafeCall() FAILED at :"<<file<<"::"<<line<<":: "<<cudaGetErrorString(err)<<std::endl;
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:inline void __myCudaLastError(const char *file __attribute__((unused)), const int line __attribute__((unused))){
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:		cudaError_t err = cudaGetLastError();
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:		if( cudaSuccess != err ){
packages/amuse-framework/src/amuse/community/higpus/src/lib/my_errors.h:			std::cout<<" cudaCheckError() FAILED at :"<<file<<"::"<<line<<":: "<<cudaGetErrorString(err)<<std::endl;
packages/amuse-framework/src/amuse/community/higpus/src/lib/utilis.h:      cudaDeviceSynchronize();
packages/amuse-framework/src/amuse/community/higpus/src/lib/types.h:typedef enum { HNoError, HNoFile, HInvalidArgv, HNoLines, HInvalidFormat, HBcastFailed, HInvalidN, HNoMemory, HInvalidMeminfo, HNoGpus, HNoDouble, HNotFound, HInvalidBlocks, HNoDefPlummer, HNoDefPlummer2, HNoSpace, HNoNumber, HNoDefGalaxy, HNoDefGalaxy2} HostError; //new type
packages/amuse-framework/src/amuse/community/higpus/src/lib/types.h:struct HiGPUsTimes {
packages/amuse-framework/src/amuse/community/higpus/src/lib/functions.h:HostError getEnergyLine_HiGPUslog(string *lastLine, string path);
packages/amuse-framework/src/amuse/community/higpus/src/lib/functions.h:HostError CudaInit(unsigned int *M, int NGPU, int rank, string gpu_name, const bool setdev, vector<unsigned int> &dev, string path);
packages/amuse-framework/src/amuse/community/higpus/src/lib/functions.h:HostError Hermite6th(const double TTIME, double* GTIME, double* ATIME, double* local_time, double* step, const unsigned int N, const unsigned int M, double4* pos_PH, float4* vel_PH, double4* pos_CH, double4* vel_CH, double4* a_H0, const unsigned int MAXDIM, unsigned int NGPU, unsigned int TPB, int rank, int size, unsigned int BFMAX, double ETA6, double ETA4, double DTMAX, double DTMIN, double EPS, double DTPRINT, unsigned int FMAX, const bool warm, double GTW, unsigned int GPUMINTHREADS, double plummer_core, double plummer_mass, double rscale, double mscale, vector<unsigned int> devices, bool *cleanstop, string path);
packages/amuse-framework/src/amuse/community/higpus/src/lib/functions.h:HostError InitBlocks(double4 *pos_PH, float4 *vel_PH, unsigned int TPB, unsigned int N, unsigned int M, unsigned int BFMAX, double ETA4, double DTMIN, double DTMAX, unsigned int NGPU, double EPS, unsigned int *MAXDIM, unsigned int *GPUMINTHREADS, string gpu_name, int rank, int nodes, double4* pos_CH, double4* vel_CH, double4* a_H0, double* step, double* local_time, double* ACTUAL_TIME, const bool vir, const double ratio, const bool warm, const bool setdev, vector<unsigned int>& devices, double plummer_core, double plummer_mass, double rscale, double mscale, string path);
packages/amuse-framework/src/amuse/community/higpus/src/lib/functions.h:HostError Calculate_Energy(double4 **pos_CD, double4 **vel_CD, unsigned int N, double EPS, unsigned int TPB, unsigned int NGPU, int rank, unsigned int ppG, double *kin, double *pot, double plummer_core, double plummer_mass, double rscale, double mscale, vector<unsigned int> devices);
packages/amuse-framework/src/amuse/community/higpus/src/lib/functions.h:HostError Calculate_potential_Energy(double4 *pos_CH, double4 *vel_CH, unsigned int N, double EPS, unsigned int TPB, unsigned int NGPU, int rank, unsigned int *devices, unsigned int ppG, double *Energy, double plummer_core, double plummer_mass);
packages/amuse-framework/src/amuse/community/higpus/src/lib/functions.h:HostError isDivisible(unsigned int *N, unsigned int *M, int size, unsigned int NGPU, unsigned int TPB, unsigned int *BFMAX);
packages/amuse-framework/src/amuse/community/higpus/src/lib/functions.h:HostError ReduceAll(unsigned int cpy_size, unsigned int N, unsigned int NGPU, unsigned long nextsize, double4* a_H, double4 *a_H0, double *mpi_red_aux, double *mpi_red, int *);
packages/amuse-framework/src/amuse/community/higpus/src/lib/functions.h:HostError Max_dimension(unsigned int TPB, unsigned int BFMAX, unsigned int N, unsigned int *dim_max, unsigned int GPUMINTHREADS);
packages/amuse-framework/src/amuse/community/higpus/src/lib/functions.h:      unsigned int *gpus,
packages/amuse-framework/src/amuse/community/higpus/src/lib/functions.h:      string       *gpu_name,
packages/amuse-framework/src/amuse/community/higpus/src/lib/functions.h:HostError __MPIbcastParam(unsigned int *N, unsigned int *M, unsigned int *NGPU, unsigned int *TPB, double *TTIME,  double *DTMAX, double *DTMIN, double *EPS, double *ETA6, double *ETA4, double *DTPRINT, unsigned int *BMAX, string *gpu_name, int rank, int size);
packages/amuse-framework/src/amuse/community/higpus/src/lib/kernel.h:__global__ void Corrector_gpu(double GTIME,
packages/amuse-framework/src/amuse/community/higpus/src/lib/kernel.h:                				int ppgpus,
packages/amuse-framework/src/amuse/community/higpus/src/lib/kernel.h:                            int ppGpus,
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/main.cu:	unsigned int			N, M, NGPU, TPB, FMAX, BFMAX, MAXDIM, GPUMINTHREADS;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/main.cu:	string					FINP, GPUNAME, warm_start_file, argument = " ", path = "./";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/main.cu:	      HostSafeCall(cpu_read_params(param, &N, &NGPU, &TPB, &TTIME, &DTMAX, &DTMIN, &EPS,
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/main.cu:	                                    &ETA6, &ETA4, &DTPRINT, &FMAX, &CDM, &CDV, &FINP, &GPUNAME, path));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/main.cu:	      HostSafeCall(isDivisible(&N, &M, size, NGPU, TPB, &BFMAX));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/main.cu:	HostSafeCall(__MPIbcastParam(&N, &M, &NGPU, &TPB, &TTIME, &DTMAX, &DTMIN, &EPS, &ETA6, &ETA4, &DTPRINT, &BFMAX, &GPUNAME, rank, size));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/main.cu:   HostSafeCall(InitBlocks(pos_PH, vel_PH, TPB, N, M, BFMAX, ETA4, DTMIN, DTMAX, NGPU, EPS, &MAXDIM, &GPUMINTHREADS, GPUNAME, rank, size, pos_CH, vel_CH, a_H0, step, local_time, &ATIME, VIR, ratio, warm_start, setdev, dev, plummer_core, plummer_mass, rscale, mscale, path));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/main.cu:   HostSafeCall(Hermite6th(TTIME, &GTIME, &ATIME, local_time, step, N, M, pos_PH, vel_PH, pos_CH, vel_CH, a_H0, MAXDIM, NGPU, TPB, rank, size, BFMAX, ETA6, ETA4, DTMAX, DTMIN, EPS, DTPRINT, FMAX, warm_start, GTIME_WARM, GPUMINTHREADS, plummer_core, plummer_mass, rscale, mscale, dev, &cleanstop, path));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:HostError InitBlocks(double4 *pos_PH, float4 *vel_PH, unsigned int TPB, unsigned int N, unsigned int M, unsigned int BFMAX, double ETA4, double DTMIN, double DTMAX, unsigned int NGPU, double EPS, unsigned int *MAXDIM, unsigned int *GPUMINTHREADS, string gpu_name, int rank, int nodes, double4* pos_CH, double4* vel_CH, double4* a_H0, double* step, double* local_time, double* ACTUAL_TIME, const bool vir, const double ratio, const bool warm, const bool setdev, vector<unsigned int>& devices, double plummer_core, double plummer_mass, double rscale, double mscale, string path){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   HostSafeCall(CudaInit(GPUMINTHREADS, NGPU, rank, gpu_name, setdev, devices, path));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	HostSafeCall(Max_dimension(TPB, BFMAX, N, MAXDIM, *GPUMINTHREADS));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:    double4 **a_D    = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a1_D   = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a2_D   = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a_tot_D = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a1_tot_D = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a2_tot_D = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **pos_PD = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double  **loc_D  = new double*  [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   float4  **vel_PD = new float4*  [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   float4  **acc_PD = new float4*  [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **pos_CD = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **vel_CD = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a3_D    = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a_temp_Dev = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 *a_H = new double4 [NGPU*3*N];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	int **next_D = new int* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   while(threads*BL < *GPUMINTHREADS && threads > 32){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   while(threads*BL < *GPUMINTHREADS && Bfactor < bfmax){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu: 		DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a_D[i],    malloc_size));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a1_D[i],    malloc_size));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a2_D[i],    malloc_size));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a_tot_D[i], malloc_db4_N));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a1_tot_D[i], malloc_db4_N));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a2_tot_D[i], malloc_db4_N));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&pos_PD[i], malloc_db4));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&pos_CD[i], malloc_db4));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&vel_CD[i], malloc_db4));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&vel_PD[i], malloc_fl4));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&acc_PD[i], malloc_fl4));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&next_D[i], malloc_ui));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&loc_D[i],  malloc_db));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a3_D[i],   malloc_db4_N));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a_temp_Dev[i], 3*malloc_db4_N));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy( pos_PD[i], pos_PH, malloc_db4, cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy( vel_PD[i], vel_PH, malloc_fl4, cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy( pos_CD[i], pos_CH, malloc_db4, cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy( vel_CD[i], vel_CH, malloc_db4, cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   int ppG = N/(NGPU*nodes);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      HostSafeCall(Calculate_Energy(pos_CD, vel_CD, N, EPS, TPB, NGPU, rank, ppG, &kk, &pp, plummer_core, plummer_mass, rscale, mscale, devices));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:		temp = path + "HiGPUslog.dat";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:		DeviceSafeCall(cudaMemcpy( vel_PD[i], vel_PH, malloc_fl4, cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:		DeviceSafeCall(cudaMemcpy( vel_CD[i], vel_CH, malloc_db4, cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy( next_D[i], next, malloc_ui, cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      int istart = ppG*(i+rank*NGPU);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:		 DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy(&a_H[i*cpy_size], a_temp_Dev[i], cpy_size*sizeof(double4), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   HostSafeCall(ReduceAll(cpy_size, N, NGPU, nextsize, a_H, a_H0, mpi_red_aux, mpi_red, next));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy(a_tot_D[i], a_H0, N*sizeof(double4), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy(a1_tot_D[i], &a_H0[N], N*sizeof(double4), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy(a2_tot_D[i], &a_H0[2*N], N*sizeof(double4), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      int istart = ppG*(i+rank*NGPU);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:    for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      int istart = ppG*(i+rank*NGPU);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:       DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	   for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy(&a_H[i*cpy_size], a_temp_Dev[i], cpy_size*sizeof(double4), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:   HostSafeCall(ReduceAll(cpy_size, N, NGPU, nextsize,  a_H, a_H1, mpi_red_aux, mpi_red, next));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a_D[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a1_D[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a2_D[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a_tot_D[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a1_tot_D[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a2_tot_D[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(pos_PD[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(pos_CD[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(vel_CD[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(vel_PD[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(acc_PD[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(next_D[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(loc_D[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a3_D[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:HostError Hermite6th(const double TTIME, double* GTIME, double* ATIME, double* local_time, double* step, const unsigned int N, const unsigned int M, double4* pos_PH, float4* vel_PH, double4* pos_CH, double4* vel_CH, double4* a_H0, const unsigned int MAXDIM, unsigned int NGPU, unsigned int TPB, int rank, int size, unsigned int BFMAX, double ETA6, double ETA4, double DTMAX, double DTMIN, double EPS, double DTPRINT, unsigned int FMAX, const bool warm, double GTW, unsigned int GPUMINTHREADS, double plummer_core, double plummer_mass, double rscale, double mscale, vector<unsigned int> devices, bool *cleanstop, string path){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **pos_PD = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	float4  **vel_PD = new float4*  [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	float4  **acc_PD = new float4*  [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **pos_CD = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **vel_CD = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	int **next_D = new int* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double  **loc_D  = new double*  [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double **step_D  = new double* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:#ifdef GPUCORR
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double **step_D  = new double* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **a_D    = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:   double4 **a1_D   = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:   double4 **a2_D   = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:   double4 **a_tot_D = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:   double4 **a1_tot_D = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:   double4 **a2_tot_D = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **a3_D    = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **p_v_a3_Dev = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **a_temp_Dev = new double4* [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:   for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:#ifdef GPUCORR
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaHostAlloc((void**)&step_D[i], malloc_db, cudaHostAllocMapped));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMalloc((void **)&a_D[i],    malloc_size));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&a1_D[i],    malloc_size));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&a2_D[i],    malloc_size));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&a_tot_D[i], malloc_db4_N));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&a1_tot_D[i], malloc_db4_N));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&a2_tot_D[i], malloc_db4_N));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&pos_PD[i],  malloc_db4));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&pos_CD[i],  malloc_db4));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&vel_CD[i],  malloc_db4));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&vel_PD[i],  malloc_fl4));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&acc_PD[i],  malloc_fl4));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&next_D[i],  malloc_ui));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&loc_D[i],   malloc_db));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMalloc((void **)&step_D[i],   malloc_db));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&a3_D[i],    malloc_db4_N));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMalloc((void **)&p_v_a3_Dev[i], 3*malloc_db4_N));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMalloc((void **)&a_temp_Dev[i], 3*malloc_db4_N));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMemcpy( pos_PD[i], pos_PH,     malloc_db4,    cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMemcpy( vel_PD[i], vel_PH,     malloc_fl4,    cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMemcpy( pos_CD[i], pos_CH,     malloc_db4,    cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMemcpy( vel_CD[i], vel_CH,     malloc_db4,    cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMemcpy(a_tot_D[i], a_H0,        malloc_db4_N,  cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMemcpy(a1_tot_D[i], &a_H0[N],   malloc_db4_N,  cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMemcpy(a2_tot_D[i], &a_H0[2*N], malloc_db4_N,  cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMemcpy(  loc_D[i], local_time, malloc_db,     cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMemcpy(  step_D[i], step, malloc_db,     cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int j = 0; j < NGPU; j++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:				DeviceSafeCall(cudaDeviceEnablePeerAccess(devices[j], 0));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:#ifdef GPUCORR
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	unsigned int ppG = N/(NGPU*size);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 *a_H = new double4 [NGPU*3*N];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	   HostSafeCall(Calculate_Energy(pos_CD, vel_CD, N, EPS, TPB, NGPU, rank, ppG, &kk0, &pp0, plummer_core, plummer_mass, rscale, mscale, devices));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		temp = path + "HiGPUslog.dat";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	HiGPUsTimes *Times;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	Times = new HiGPUsTimes [N+1];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu://	HostSafeCall(GPU_memcheck(NGPU, devices, __FILE__, __LINE__));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			   temp = path + "HiGPUslog.dat";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:#ifdef GPUCORR
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:				DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:				DeviceSafeCall(cudaMemcpy(next_D[i], next,  dim2 * sizeof( int ), cudaMemcpyHostToDevice));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:				int istart = ppG*(i+rank*NGPU);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		while(THREADS*BLOCKS < GPUMINTHREADS && THREADS > 32){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		while(THREADS*BLOCKS < GPUMINTHREADS && Bfactor < bfmax){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:         DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		      int istart = ppG*(i+rank*NGPU);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		  DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		  DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		      for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		      for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		         DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:       DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 1; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaSetDevice(devices[0]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaMemcpyPeer(p_v_a3_Dev[0], devices[0], a_temp_Dev[i], devices[i], cpy_size*sizeof(double4)));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		// QUI VA AGGIUNTA LA FUNZIONE CHE RIDUCE A_TEMP_DEV SU TUTTE LE GPU 0 E LO DAI POI A TUTTE LE GPU DI TUTTI I NODI : not yet implemented
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	   for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaMemcpy(&a_H[i*cpy_size], a_temp_Dev[i], cpy_size*sizeof(double4), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	   HostSafeCall(ReduceAll(cpy_size, N, NGPU, nextsize, a_H, a_H1, mpi_red_aux, mpi_red, next));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:#ifdef GPUCORR
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaMemcpy(a_temp_Dev[i], a_H, 3*nextsize*sizeof( double4 ), cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:         Corrector_gpu<<<DIMENSION/THREADS, THREADS>>>(*GTIME, loc_D[i], step_D[i], next_D[i], nextsize, pos_CD[i], vel_CD[i], 
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaSetDevice(devices[0]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:         Corrector_gpu<<<DIMENSION/THREADS, THREADS>>>(*GTIME, loc_D[i], step_D[i], next_D[i], nextsize, pos_CD[i], vel_CD[i],
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaSetDevice(devices[0]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMemcpy(step, step_D[0], N*sizeof(double), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:#ifndef GPUCORR
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:				DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:				DeviceSafeCall(cudaMemcpy(p_v_a3_Dev[i], p_v_a3, 3*nextsize*sizeof( double4 ), cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:				DeviceSafeCall(cudaMemcpy(a_temp_Dev[i], a_H,    3*nextsize*sizeof( double4 ), cudaMemcpyHostToDevice ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaSetDevice(devices[0]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaMemcpy( pos_CH, pos_CD[0],     malloc_db4,    cudaMemcpyDeviceToHost ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaMemcpy( vel_CH, vel_CD[0],     malloc_db4,    cudaMemcpyDeviceToHost ));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/hermite6.cu:				HostSafeCall(Calculate_Energy(pos_CD, vel_CD, N, EPS, TPB, NGPU, rank, ppG, &kk, &pp, plummer_core, plummer_mass, rscale, mscale, devices));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/warmstart.cu:	out<<" This file shows the state of your Hard Disk while HiGPUs is running. "<<endl;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/warmstart.cu:HostError getEnergyLine_HiGPUslog(string *lastLine, string path)
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/warmstart.cu:    temp = path + "HiGPUslog.dat";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/warmstart.cu:   HostSafeCall(getEnergyLine_HiGPUslog(&last_line, path));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:__global__ void Corrector_gpu(double GTIME, 
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:                				int ppgpus,
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:int cost = ppgpus+istart;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:	int totgpus = N/ppG;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:      kin = 0.5/totgpus * myposition.w *(myvelocity.x*myvelocity.x +
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:	AddPlummerEnergy(myposition, &pE, &plummer_core, &plummer_mass, totgpus);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:	AddGalacticEnergy(myposition, &pE, mscale, rscale, totgpus);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:                            int ppGpus,
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:int particles = ppGpus/Bfactor;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:double tot_mul = 1.0/(N/ppGpus * Bfactor);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:HostError CudaInit(unsigned int *M, int NGPU, int rank, string gpu_name, const bool setdev, vector<unsigned int> &dev, string path){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:	cudaDeviceProp *properties;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:	DeviceSafeCall(cudaGetDeviceCount(&count));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:	properties = new cudaDeviceProp [count];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:	unsigned int *to_use = new unsigned int [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:	if((unsigned)NGPU != dev.size() && setdev) return HNoNumber;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:	   temp = path + "HiGPUslog.dat";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:	if(count < NGPU || count <= 0)
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:		return HNoGpus;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:		DeviceSafeCall(cudaGetDeviceProperties(&properties[i], i));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:	    if(gpu_name.length()>0 && to_string(properties[i].name) != gpu_name) { 
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:		if(k >= NGPU) {break;} 
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:          if(to_string(properties[dev[i]].name) != gpu_name)
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:  if(k<NGPU)
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:     return HNoGpus;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:		for(int i = 0; i < NGPU; i++)
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:		cout<<" Maximum number of parallel threads on the gpu : "<<*M<<endl;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:	dev.resize(NGPU);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cudainit.cu:	for(int i = 0; i < NGPU; i++)
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:HostError Calculate_Energy(double4 **pos_CD, double4 **vel_CD, unsigned int N, double EPS, unsigned int THREADS, unsigned int NGPU, int rank, unsigned int ppG, double *kinetic, double *potential, double plummer_core, double plummer_mass, double rscale, double mscale, vector<unsigned int> devices){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:   double *KH = new double [N*NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:   double *PH = new double [N*NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:   double *K [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:   double *P [NGPU];
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaMalloc(( void**)&K[i], N*sizeof(double)));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:		DeviceSafeCall(cudaMalloc(( void**)&P[i], N*sizeof(double)));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:	for(unsigned int i = 0; i < NGPU; i++)
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:		DeviceSafeCall(cudaThreadSynchronize());
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:      int istart = ppG*(i+rank*NGPU);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaMemcpy(&KH[i*N], K[i], N*sizeof(double), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:		DeviceSafeCall(cudaMemcpy(&PH[i*N], P[i], N*sizeof(double), cudaMemcpyDeviceToHost));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:      for(unsigned int dev = 1; dev < NGPU; dev++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:	for(unsigned int i = 0; i < NGPU; i++){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaFree(P[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/energy.cu:		DeviceSafeCall(cudaFree(K[i]));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      temp = path + "gpu_memory.dat";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      temp = path + "HiGPUslog.dat";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      temp = path + "gpu_memory.dat";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      temp = path + "HiGPUslog.dat";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      temp = path + "HiGPUslog.dat";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:		temp = path + "HiGPUslog.dat";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:            cout<<" ----------------------Help of HiGPUs------------------- "<<endl;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:            cout<<" Usage : mpirun -np [#nodes] ./HiGPUs.x [options] "<<endl;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:            cout<<"           -r [file] = restart the simulation from the specified file (HiGPUslog.dat is necessary !!)"<<endl;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:				cout<<"           -d [id]:[id]: ... = enable manual selection of the available gpu devices "<<endl;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:HostError isDivisible(unsigned int *N, unsigned int *M, int size, unsigned int NGPU, unsigned int TPB, unsigned int *BFMAX){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:   int product = size*NGPU*TPB;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:HostError Max_dimension(unsigned int TPB, unsigned int BFMAX, unsigned int N, unsigned int *dim_max, unsigned int GPUMINTHREADS){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      while(threads*BL < GPUMINTHREADS && threads > 32){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      while(threads*BL < GPUMINTHREADS && Bfactor < bfmax){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      unsigned int *gpus,
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      string       *gpu_name,
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:		temp = path + "HiGPUslog.dat";
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:     fin_data >> *gpus;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:     getline(fin_data, *gpu_name);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:     getline(fin_data, *gpu_name);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:     size_t found = gpu_name->find('#');
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:     gpu_name->resize(int(found));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:     hlog<<" Gpus                : "<<*gpus<<endl;
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:HostError __MPIbcastParam(unsigned int *N, unsigned int *M, unsigned int *NGPU, unsigned int *TPB, double *TTIME,  double *DTMAX,
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:                           double *DTMIN, double *EPS, double *ETA6, double *ETA4, double *DTPRINT, unsigned int *BFMAX, string *gpu_name, int rank, int size){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      value = to_char(*gpu_name);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:	MPISafeCall(MPI_Bcast( NGPU,  1, MPI_INT,    0, MPI_COMM_WORLD));
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:   *gpu_name = to_string(value);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/cpu_func.cu:   return random_check_Bcast(rank, size, "4i-6d", *N, *NGPU, *TPB, *BFMAX, *TTIME, *DTMAX, *DTMIN, *EPS, *ETA6, *ETA4, *DTPRINT);
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/allreduce.cu:HostError ReduceAll(unsigned int cpy_size, unsigned int N, unsigned int NGPU, unsigned long nextsize, double4* a_H, double4 *a_H0, double *mpi_red_aux, double *mpi_red, int *next){
packages/amuse-framework/src/amuse/community/higpus/src/src/cuda/allreduce.cu:      for(unsigned int dev = 1; dev < NGPU; dev++){
packages/amuse-framework/src/amuse/community/bhtree/interface.py:        elif mode == "gpu":
packages/amuse-framework/src/amuse/community/bhtree/interface.py:            return 'bhtree_worker_gpu'
packages/amuse-framework/src/amuse/community/bhtree/Makefile:GPU_BUILDDIR = build_gpu
packages/amuse-framework/src/amuse/community/bhtree/Makefile:GPUCODELIB = $(GPU_BUILDDIR)/libbhtree.a
packages/amuse-framework/src/amuse/community/bhtree/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
packages/amuse-framework/src/amuse/community/bhtree/Makefile:CUDA_LIBS ?= $(CUDA_LIBDIRS) -lcudart
packages/amuse-framework/src/amuse/community/bhtree/Makefile:GPULIBS  =  $(CUDA_LIBS) $(SAPPORO_LIBS) -lpthread
packages/amuse-framework/src/amuse/community/bhtree/Makefile:$(GPU_BUILDDIR)/Makefile: $(BHTCDIR)/Makefile 
packages/amuse-framework/src/amuse/community/bhtree/Makefile:	-mkdir $(GPU_BUILDDIR) 
packages/amuse-framework/src/amuse/community/bhtree/Makefile:	cp $(BHTCDIR)/Makefile $(GPU_BUILDDIR)/Makefile
packages/amuse-framework/src/amuse/community/bhtree/Makefile:$(GPUCODELIB): $(GPU_BUILDDIR)/Makefile src/*.c src/*.h src/*.C
packages/amuse-framework/src/amuse/community/bhtree/Makefile:	make -C $(GPU_BUILDDIR) libbhtree.a CPPFLAGS=-DGPU VPATH=../src
packages/amuse-framework/src/amuse/community/bhtree/Makefile:	$(RM) -Rf $(BUILDDIR) $(GPU_BUILDDIR)
packages/amuse-framework/src/amuse/community/bhtree/Makefile:	$(RM) -f bhtree_worker_g6 bhtree_worker_gpu
packages/amuse-framework/src/amuse/community/bhtree/Makefile:#bhtree_worker_g6: worker_code.cc worker_code.h $(GPUCODELIB) $(OBJS)
packages/amuse-framework/src/amuse/community/bhtree/Makefile:#	$(MPICXX) $(CXXFLAGS) $(SC_FLAGS) worker_code.cc $(OBJS) $(GPUCODELIB) -o $@ $(SC_LIBS) $(G6LIBS)
packages/amuse-framework/src/amuse/community/bhtree/src/gravity.C:#ifdef GPU
packages/amuse-framework/src/amuse/community/bhtree/src/BHtree.C:#ifdef GPU
packages/amuse-framework/src/amuse/community/bhtree/src/BHtree.C:#ifdef GPU   
packages/amuse-framework/src/amuse/community/bhtree/src/BHtree.C:#ifndef GPU
packages/amuse-framework/src/amuse/community/bhtree/src/README:*** BHTC, while in the original release (and in the GPU version) it is
packages/amuse-framework/src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_read_grppar_usht  ffggpui
packages/amuse-framework/src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_read_grppar_ulng  ffggpuj
packages/amuse-framework/src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_read_grppar_uint  ffggpuk
packages/amuse-framework/src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_write_grppar_usht ffpgpui
packages/amuse-framework/src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_write_grppar_ulng ffpgpuj
packages/amuse-framework/src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_write_grppar_uint ffpgpuk
packages/amuse-framework/src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffggpui(fitsfile *fptr, long group, long firstelem, long nelem,
packages/amuse-framework/src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffggpuj(fitsfile *fptr, long group, long firstelem, long nelem,
packages/amuse-framework/src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffggpuk(fitsfile *fptr, long group, long firstelem, long nelem,
packages/amuse-framework/src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffpgpui(fitsfile *fptr, long group, long firstelem,
packages/amuse-framework/src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffpgpuj(fitsfile *fptr, long group, long firstelem,
packages/amuse-framework/src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffpgpuk(fitsfile *fptr, long group, long firstelem,
packages/amuse-framework/src/amuse/community/bonsai2/Makefile:CUDA_TK ?= /usr/local/cuda/
packages/amuse-framework/src/amuse/community/bonsai2/Makefile:CUDA_LIBS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcuda 
packages/amuse-framework/src/amuse/community/bonsai2/Makefile:#CXXFLAGS += -I$(CUDA_TK)/include
packages/amuse-framework/src/amuse/community/bonsai2/Makefile:LIBS += $(CUDA_LIBS) $(LDFLAGS) $(CUDA_LIBDIRS) -L/usr/lib64/nvidia $(SC_MPI_CLIBS)
packages/amuse-framework/src/amuse/community/bonsai2/Makefile:INCLUDES = -I$(CUDA_TK)/include $(SC_FLAGS)
packages/amuse-framework/src/amuse/community/bonsai2/Makefile:$(CUDA_TK):
packages/amuse-framework/src/amuse/community/bonsai2/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
packages/amuse-framework/src/amuse/community/bonsai2/Makefile:	@echo "please set the CUDA_TK variable to the directory"
packages/amuse-framework/src/amuse/community/bonsai2/Makefile:	@echo "where you installed CUDA"
packages/amuse-framework/src/amuse/community/bonsai2/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
packages/amuse-framework/src/amuse/community/bonsai2/Makefile:compile: $(CUDA_TK) $(CODELIB)
packages/amuse-framework/src/amuse/community/bonsai2/Makefile:#	make -C src all CXX="$(MPICXX)" CUDA_TK="$(CUDA_TK)" LD="$(MPICXX)" LDFLAGS="$(LIBS)" INCLUDES="$(INCLUDES)"
packages/amuse-framework/src/amuse/community/bonsai2/libraryInterface.cpp:my_dev::context cudaContext;
packages/amuse-framework/src/amuse/community/bonsai2/libraryInterface.cpp:  cudaContext.create(logFile, false);
packages/amuse-framework/src/amuse/community/bonsai2/libraryInterface.cpp:  cudaContext.createQueue(devID);
packages/amuse-framework/src/amuse/community/bonsai2/libraryInterface.cpp:  cudaContext.setLogPreamble("AMUSE-run ");
packages/amuse-framework/src/amuse/community/bonsai2/libraryInterface.cpp:          &cudaContext,
packages/amuse-framework/config.mk.in:# Libraries: FFTW, GSL, HDF5, CUDA, SAPPORO
packages/amuse-framework/config.mk.in:CUDA_ENABLED=@WITH_CUDA@
packages/amuse-framework/config.mk.in:CUDA_TK=@CUDA_TK@
packages/amuse-framework/config.mk.in:CUDA_LIBS=@CUDA_LIBS@
packages/amuse-framework/config.mk.in:export NVCC CUDA_TK CUDA_LIBS CUDA_ENABLED
packages/amuse-huayno/support/config.py:class cuda(object):
packages/amuse-huayno/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-huayno/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-huayno/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-huayno/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-huayno/support/setup_codes.py:        self.found_cuda = False
packages/amuse-huayno/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-huayno/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-huayno/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-huayno/support/setup_codes.py:            self.found_cuda = True
packages/amuse-huayno/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-huayno/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-huayno/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-huayno/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-huayno/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-huayno/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-huayno/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-huayno/support/setup_codes.py:            self.found_cuda = True
packages/amuse-huayno/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-huayno/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-huayno/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-huayno/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-huayno/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-huayno/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-huayno/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-huayno/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-huayno/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-huayno/support/setup_codes.py:            self.found_cuda = False
packages/amuse-huayno/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-huayno/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-huayno/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-huayno/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-huayno/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-huayno/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-huayno/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-huayno/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-huayno/support/setup_codes.py:        self.found_cuda = True
packages/amuse-huayno/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-huayno/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-huayno/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-huayno/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-huayno/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-huayno/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-huayno/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-huayno/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-huayno/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-huayno/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-huayno/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-huayno/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-huayno/support/setup_codes.py:            or is_cuda_needed
packages/amuse-huayno/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-huayno/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-huayno/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-huayno/src/amuse/community/huayno/readme.txt:  AMUSE environment. It can make use of GPUs - for this an OpenCL 
packages/amuse-huayno/src/amuse/community/huayno/readme.txt:  OpenCL operation:
packages/amuse-huayno/src/amuse/community/huayno/readme.txt:  loops to the GPU.  The implementation is based on the STDCL library
packages/amuse-huayno/src/amuse/community/huayno/readme.txt:  appropiately for the OpenCL configuration: CLCONTEXT:  stdgpu or stdcpu
packages/amuse-huayno/src/amuse/community/huayno/readme.txt:  NTHREAD:  64 for GPU, 2 for CPU (actually 64 will also work for CPU just
packages/amuse-huayno/src/amuse/community/huayno/readme.txt:  starting guess) evolve_kern.cl contains the OpenCL kernels. Precision of
packages/amuse-huayno/src/amuse/community/huayno/interface.py:    AMUSE environment. It can make use of GPUs - for this an OpenCL
packages/amuse-huayno/src/amuse/community/huayno/interface.py:    MODE_OPENCL='opencl'
packages/amuse-huayno/src/amuse/community/huayno/interface.py:        if mode==self.MODE_OPENCL:
packages/amuse-huayno/src/amuse/community/huayno/interface.py:    def get_opencl_device_type():
packages/amuse-huayno/src/amuse/community/huayno/interface.py:        function.addParameter('opencl_device_type', dtype='i', direction=function.OUT)
packages/amuse-huayno/src/amuse/community/huayno/interface.py:    def set_opencl_device_type():
packages/amuse-huayno/src/amuse/community/huayno/interface.py:        function.addParameter('opencl_device_type', dtype='i', direction=function.IN)
packages/amuse-huayno/src/amuse/community/huayno/interface.py:            "get_opencl_device_type",
packages/amuse-huayno/src/amuse/community/huayno/interface.py:            "set_opencl_device_type",
packages/amuse-huayno/src/amuse/community/huayno/interface.py:            "opencl_device_type",
packages/amuse-huayno/src/amuse/community/huayno/interface.py:            "set preferred OpenCL device type (0=default, 1=cpu, 2=gpu)",
packages/amuse-huayno/src/amuse/community/huayno/Makefile:OPENCL_BUILDDIR = build_cl
packages/amuse-huayno/src/amuse/community/huayno/Makefile:	rm -Rf $(OPENCL_BUILDDIR)
packages/amuse-huayno/src/amuse/community/huayno/Makefile:$(OPENCL_BUILDDIR)/Makefile: $(SRCDIR)/Makefile 
packages/amuse-huayno/src/amuse/community/huayno/Makefile:	-mkdir $(OPENCL_BUILDDIR) 
packages/amuse-huayno/src/amuse/community/huayno/Makefile:	cp $(SRCDIR)/Makefile $(OPENCL_BUILDDIR)/Makefile
packages/amuse-huayno/src/amuse/community/huayno/Makefile:$(OPENCL_BUILDDIR)/libhuayno_cl.a: $(OPENCL_BUILDDIR)/Makefile $(LIBFILES) src/Makefile
packages/amuse-huayno/src/amuse/community/huayno/Makefile:	make -C $(OPENCL_BUILDDIR) libhuayno_cl.a VPATH=../src CFLAGS="$(CFLAGS)" CXXFLAGS="$(CXXFLAGS)" LIBS="$(LIBS)" INCLUDE="$(INCLUDE)"
packages/amuse-huayno/src/amuse/community/huayno/Makefile:huayno_worker_cl: CFLAGS   += -DEVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/Makefile:huayno_worker_cl: CXXFLAGS   += -DEVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/Makefile:huayno_worker_cl: __init__.py worker_code.cc worker_code.h $(OPENCL_BUILDDIR)/libhuayno_cl.a $(OPENCL_BUILDDIR)/interface.o 
packages/amuse-huayno/src/amuse/community/huayno/Makefile:	$(MPICXX) $(CXXFLAGS) $(INCLUDE) $(LDFLAGS) worker_code.cc $(OPENCL_BUILDDIR)/interface.o $(OPENCL_BUILDDIR)/libhuayno_cl.a -o $@ $(LIBS) $(SC_CLIBS)
packages/amuse-huayno/src/amuse/community/huayno/Makefile:$(OPENCL_BUILDDIR)/%.o: %.c
packages/amuse-huayno/src/amuse/community/huayno/interface.c:  opencl_device_type=0;
packages/amuse-huayno/src/amuse/community/huayno/interface.c:int get_opencl_device_type(int *i)
packages/amuse-huayno/src/amuse/community/huayno/interface.c:  *i=opencl_device_type;
packages/amuse-huayno/src/amuse/community/huayno/interface.c:int set_opencl_device_type(int i)
packages/amuse-huayno/src/amuse/community/huayno/interface.c:  opencl_device_type=i;
packages/amuse-huayno/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/evolve.c:int opencl_device_type=0;
packages/amuse-huayno/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/universal_kepler_solver.h:    #ifndef CONFIG_USE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/universal_kepler_solver.h:        #ifndef CONFIG_USE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/universal_kepler_solver.h:    #ifndef CONFIG_USE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:#ifdef EVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:#define CL_TARGET_OPENCL_VERSION 200
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:    #include "OpenCL/opencl.h"
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:static cl_mem _ipos, _ivel, _jpos, _jvel, _acc, _pot, _timestep; // opencl buffer objects
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:  err = clGetDeviceIDs(NULL, SELECT(opencl_device_type,CL_DEVICE_TYPE_DEFAULT,CL_DEVICE_TYPE_CPU,CL_DEVICE_TYPE_GPU), 1, &device_id, NULL);
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:  if (err != CL_SUCCESS) ENDRUN("OpenCL could not get device of requested type %s", SELECT(opencl_device_type,"default","cpu","gpu"));
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:  if (!context || err!=CL_SUCCESS) ENDRUN("OpenCL failed to create context");
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:  if (!queue || err!=CL_SUCCESS) ENDRUN("OpenCL failed to create command queue");
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:  if (!program || err!=CL_SUCCESS) ENDRUN("OpenCL failed to create program")
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:        printf("OpenCL failed to build program executable!\n");
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:  if(err!= CL_SUCCESS) ENDRUN("OpenCL failed to create kick_kernel"); 
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:  if(err!= CL_SUCCESS) ENDRUN("OpenCL failed to create timestep_kernel"); 
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:  if(err!= CL_SUCCESS) ENDRUN("OpenCL failed to create potential_kernel"); 
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_cl.c:  printf("OpenCL initialized using device %s\n", name);
packages/amuse-huayno/src/amuse/community/huayno/src/evolve.h:extern int opencl_device_type;
packages/amuse-huayno/src/amuse/community/huayno/src/evolve.h:#ifdef EVOLVE_OPENCL
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_kern.cl:    #pragma OPENCL EXTENSION cl_khr_fp64 : enable
packages/amuse-huayno/src/amuse/community/huayno/src/evolve_kern.cl:    #pragma OPENCL EXTENSION cl_amd_fp64 : enable
packages/amuse-galactics/support/config.py:class cuda(object):
packages/amuse-galactics/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-galactics/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-galactics/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-galactics/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-galactics/support/setup_codes.py:        self.found_cuda = False
packages/amuse-galactics/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-galactics/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-galactics/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-galactics/support/setup_codes.py:            self.found_cuda = True
packages/amuse-galactics/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-galactics/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-galactics/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-galactics/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-galactics/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-galactics/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-galactics/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-galactics/support/setup_codes.py:            self.found_cuda = True
packages/amuse-galactics/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-galactics/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-galactics/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-galactics/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-galactics/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-galactics/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-galactics/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-galactics/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-galactics/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-galactics/support/setup_codes.py:            self.found_cuda = False
packages/amuse-galactics/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-galactics/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-galactics/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-galactics/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-galactics/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-galactics/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-galactics/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-galactics/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-galactics/support/setup_codes.py:        self.found_cuda = True
packages/amuse-galactics/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-galactics/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-galactics/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-galactics/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-galactics/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-galactics/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-galactics/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-galactics/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-galactics/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-galactics/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-galactics/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-galactics/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-galactics/support/setup_codes.py:            or is_cuda_needed
packages/amuse-galactics/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-galactics/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-galactics/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-mesa-r15140/support/config.py:class cuda(object):
packages/amuse-mesa-r15140/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-mesa-r15140/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-mesa-r15140/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-mesa-r15140/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-mesa-r15140/support/setup_codes.py:        self.found_cuda = False
packages/amuse-mesa-r15140/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-mesa-r15140/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-mesa-r15140/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-mesa-r15140/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-mesa-r15140/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-mesa-r15140/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-mesa-r15140/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-mesa-r15140/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-mesa-r15140/support/setup_codes.py:            self.found_cuda = True
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-mesa-r15140/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-mesa-r15140/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mesa-r15140/support/setup_codes.py:            self.found_cuda = False
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-mesa-r15140/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-mesa-r15140/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-mesa-r15140/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-mesa-r15140/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-mesa-r15140/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-mesa-r15140/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-mesa-r15140/support/setup_codes.py:        self.found_cuda = True
packages/amuse-mesa-r15140/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-mesa-r15140/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-mesa-r15140/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-mesa-r15140/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-mesa-r15140/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-mesa-r15140/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-mesa-r15140/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-mesa-r15140/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-mesa-r15140/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mesa-r15140/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-mesa-r15140/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-mesa-r15140/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-mesa-r15140/support/setup_codes.py:            or is_cuda_needed
packages/amuse-mesa-r15140/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-mesa-r15140/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-mesa-r15140/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-bse/support/config.py:class cuda(object):
packages/amuse-bse/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-bse/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-bse/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-bse/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-bse/support/setup_codes.py:        self.found_cuda = False
packages/amuse-bse/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-bse/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-bse/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-bse/support/setup_codes.py:            self.found_cuda = True
packages/amuse-bse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-bse/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-bse/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-bse/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-bse/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-bse/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-bse/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-bse/support/setup_codes.py:            self.found_cuda = True
packages/amuse-bse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-bse/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-bse/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-bse/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-bse/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-bse/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-bse/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-bse/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-bse/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-bse/support/setup_codes.py:            self.found_cuda = False
packages/amuse-bse/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-bse/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-bse/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-bse/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-bse/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-bse/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-bse/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-bse/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-bse/support/setup_codes.py:        self.found_cuda = True
packages/amuse-bse/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-bse/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-bse/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-bse/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-bse/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-bse/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-bse/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-bse/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-bse/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-bse/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-bse/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-bse/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-bse/support/setup_codes.py:            or is_cuda_needed
packages/amuse-bse/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-bse/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-bse/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-phigrape/support/config.py:class cuda(object):
packages/amuse-phigrape/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-phigrape/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-phigrape/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-phigrape/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-phigrape/support/setup_codes.py:        self.found_cuda = False
packages/amuse-phigrape/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-phigrape/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-phigrape/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-phigrape/support/setup_codes.py:            self.found_cuda = True
packages/amuse-phigrape/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-phigrape/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-phigrape/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-phigrape/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-phigrape/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-phigrape/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-phigrape/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-phigrape/support/setup_codes.py:            self.found_cuda = True
packages/amuse-phigrape/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-phigrape/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-phigrape/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-phigrape/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-phigrape/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-phigrape/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-phigrape/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-phigrape/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-phigrape/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-phigrape/support/setup_codes.py:            self.found_cuda = False
packages/amuse-phigrape/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-phigrape/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-phigrape/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-phigrape/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-phigrape/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-phigrape/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-phigrape/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-phigrape/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-phigrape/support/setup_codes.py:        self.found_cuda = True
packages/amuse-phigrape/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-phigrape/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-phigrape/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-phigrape/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-phigrape/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-phigrape/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-phigrape/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-phigrape/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-phigrape/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-phigrape/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-phigrape/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-phigrape/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-phigrape/support/setup_codes.py:            or is_cuda_needed
packages/amuse-phigrape/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-phigrape/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-phigrape/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-phigrape/src/amuse/community/phigrape/sapporo.config:1    // total number of CUDA devices to use. WARNING: It is not fool proof!
packages/amuse-phigrape/src/amuse/community/phigrape/sapporo.config:0    // which CUDA devices to use,     pls, double check the values.
packages/amuse-phigrape/src/amuse/community/phigrape/interface.py:    MODE_GPU = 'gpu'
packages/amuse-phigrape/src/amuse/community/phigrape/interface.py:            elif mode == self.MODE_GPU:
packages/amuse-phigrape/src/amuse/community/phigrape/interface.py:                return 'phigrape_worker_gpu'
packages/amuse-phigrape/src/amuse/community/phigrape/interface.py:            elif mode == self.MODE_GPU:
packages/amuse-phigrape/src/amuse/community/phigrape/interface.py:                return 'phigrape_worker_gpu'
packages/amuse-phigrape/src/amuse/community/phigrape/interface.py:        Sets the initialize GPU/GRAPE once parameter. When
packages/amuse-phigrape/src/amuse/community/phigrape/interface.py:        set the GPU will be initialized during the
packages/amuse-phigrape/src/amuse/community/phigrape/interface.py:        if mode == self.MODE_GPU:
packages/amuse-phigrape/src/amuse/community/phigrape/interface.py:            return 'phigrape_worker_gl_gpu'
packages/amuse-phigrape/src/amuse/community/phigrape/interface.py:            "initialize_gpu_once",
packages/amuse-phigrape/src/amuse/community/phigrape/interface.py:            "set to 1 if the gpu must only be initialized once, 0 if it can be initialized for every call\nIf you want to run multiple instances of the code on the same gpu this parameter needs to be 0 (default)",
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:CUDA_SDK ?= /disks/koppoel1/CUDA23/cudasdk/C
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:CUDA_TK  ?= /disks/koppoel1/CUDA23/cuda
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:CUDA_LIBS ?= -lcudart
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:GPULIBS  =  $(SAPPORO_LIBS)  $(CUDA_LIBDIRS) $(CUDA_LIBS) -lpthread -L/usr/lib64 -lstdc++
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:phigrape_worker_gpu: worker_code.f90 interface.o $(CODELIB)
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:	$(MPIF90) $(FFLAGS) -DNOMPI $(SC_FLAGS) $(FS_FLAGS) $(LDFLAGS) $^ $(CODELIB) -o $@ $(OBJECTS) $(LIBRARIES) $(GPULIBS) $(SC_MPI_CLIBS) $(FS_LIBS)  $(LIBS)
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:phigrape_worker_gl_gpu: glworker_code.f90 interface.o $(CODELIB)
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:	$(GLOBJECTS) $(GLLIB)  $(X11LIB) $(THREADLIB) $(LIBS) $(GPULIBS) $(SC_MPI_CLIBS) $(FS_LIBS)  $(LIBS)
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:	rm -f worker_code_gpu worker_code_grape
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:	rm -f glworker_code_gpu glworker_code_grape
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:	rm -f phigrape_worker phigrape_worker_gl phigrape_worker_gl_gpu phigrape_worker_gpu
packages/amuse-phigrape/src/amuse/community/phigrape/Makefile:	rm -f phigrape_worker_gpu_sockets
packages/amuse-phigrape/src/amuse/community/phigrape/src/Makefile:CUDA_LIBDIRS ?= -L/data1/pelupes/programs/cuda/lib 
packages/amuse-phigrape/src/amuse/community/phigrape/src/Makefile:CUDA_LIBS ?= -lcudart
packages/amuse-phigrape/src/amuse/community/phigrape/src/Makefile:LLIBSDIR = $(SAPPORO_LIBDIRS) $(CUDA_LIBDIRS)
packages/amuse-phigrape/src/amuse/community/phigrape/src/Makefile:LIBS     =  $(CUDA_LIBS) -lsapporo -lm -lboost_thread-mt -lpthread
packages/amuse-kepler/support/config.py:class cuda(object):
packages/amuse-kepler/support/config.py:    is_enabled   = configmk["CUDA_ENABLED"]=='yes'
packages/amuse-kepler/support/config.py:    toolkit_path = configmk["CUDA_TK"]
packages/amuse-kepler/support/config.py:    cuda_libs = configmk["CUDA_LIBS"]
packages/amuse-kepler/support/setup_codes.py:         "build variants of the codes (gpu versions etc)"),
packages/amuse-kepler/support/setup_codes.py:        self.found_cuda = False
packages/amuse-kepler/support/setup_codes.py:        self.set_cuda_variables()
packages/amuse-kepler/support/setup_codes.py:    def set_cuda_variables(self):
packages/amuse-kepler/support/setup_codes.py:        if self.config and self.config.cuda.is_enabled:
packages/amuse-kepler/support/setup_codes.py:            self.found_cuda = True
packages/amuse-kepler/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+self.config.cuda.toolkit_path+'/lib' + ' -L'+self.config.cuda.toolkit_path+'/lib64'
packages/amuse-kepler/support/setup_codes.py:            self.environment['CUDA_TK'] = self.config.cuda.toolkit_path
packages/amuse-kepler/support/setup_codes.py:            self.environment['CUDA_SDK'] = self.config.cuda.sdk_path
packages/amuse-kepler/support/setup_codes.py:            if hasattr(self.config.cuda, 'cuda_libs'):
packages/amuse-kepler/support/setup_codes.py:                self.environment['CUDA_LIBS'] = self.config.cuda.cuda_libs
packages/amuse-kepler/support/setup_codes.py:                raise DistutilsError("configuration is not up to date for cuda, please reconfigure amuse by running 'configure --enable-cuda'")
packages/amuse-kepler/support/setup_codes.py:        if self.config and not self.config.cuda.is_enabled:
packages/amuse-kepler/support/setup_codes.py:            self.found_cuda = True
packages/amuse-kepler/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L/NOCUDACONFIGURED/lib' + ' -LNOCUDACONFIGURED/lib64'
packages/amuse-kepler/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lnocuda'
packages/amuse-kepler/support/setup_codes.py:            self.environment['CUDART_LIBS'] = '-lnocudart'
packages/amuse-kepler/support/setup_codes.py:            self.environment['CUDA_TK'] = '/NOCUDACONFIGURED'
packages/amuse-kepler/support/setup_codes.py:            self.environment['CUDA_SDK'] = '/NOCUDACONFIGURED'
packages/amuse-kepler/support/setup_codes.py:        for x in ['CUDA_TK', 'CUDA_SDK']:
packages/amuse-kepler/support/setup_codes.py:            cuda_dir = self.environment['CUDA_TK']
packages/amuse-kepler/support/setup_codes.py:            self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-kepler/support/setup_codes.py:            self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-kepler/support/setup_codes.py:            self.found_cuda = False
packages/amuse-kepler/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-kepler/support/setup_codes.py:            self.environment_notset['CUDA_TK'] = '<directory>'
packages/amuse-kepler/support/setup_codes.py:        cuda_dir = os.path.dirname(os.path.dirname(directory))
packages/amuse-kepler/support/setup_codes.py:        self.environment['CUDA_LIBDIRS'] = '-L'+cuda_dir+'/lib' + ' -L'+cuda_dir+'/lib64'
packages/amuse-kepler/support/setup_codes.py:        self.environment['CUDA_LIBS'] = '-lcudart'
packages/amuse-kepler/support/setup_codes.py:        self.environment['CUDA_TK'] = cuda_dir
packages/amuse-kepler/support/setup_codes.py:        if not 'CUDA_SDK' in self.environment:
packages/amuse-kepler/support/setup_codes.py:            self.environment_notset['CUDA_SDK'] = '<directory>'
packages/amuse-kepler/support/setup_codes.py:        self.found_cuda = True
packages/amuse-kepler/support/setup_codes.py:            if self.config and hasattr(self.config.cuda, 'sapporo_version'):
packages/amuse-kepler/support/setup_codes.py:                if self.config.cuda.sapporo_version == '2':
packages/amuse-kepler/support/setup_codes.py:            if line.startswith('muse_worker_gpu:'):
packages/amuse-kepler/support/setup_codes.py:                result.append(('muse_worker_gpu', 'GPU',))
packages/amuse-kepler/support/setup_codes.py:    def is_cuda_needed(self, string):
packages/amuse-kepler/support/setup_codes.py:            if 'CUDA_TK variable is not set' in line:
packages/amuse-kepler/support/setup_codes.py:            if 'CUDA_SDK variable is not set' in line:
packages/amuse-kepler/support/setup_codes.py:        is_cuda_needed = list()
packages/amuse-kepler/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-kepler/support/setup_codes.py:                    is_cuda_needed.append(x[len(self.lib_dir) + 1:])
packages/amuse-kepler/support/setup_codes.py:                elif self.is_cuda_needed(outputlog):
packages/amuse-kepler/support/setup_codes.py:                    is_cuda_needed.append(shortname)
packages/amuse-kepler/support/setup_codes.py:            or is_cuda_needed
packages/amuse-kepler/support/setup_codes.py:            if is_cuda_needed:
packages/amuse-kepler/support/setup_codes.py:                self.announce("Optional builds skipped, need CUDA/GPU libraries:", level=level)
packages/amuse-kepler/support/setup_codes.py:                for x in is_cuda_needed:
packages/amuse-kepler/src/amuse/community/kepler/src/Makefile:GPU	  = -DGPU
packages/amuse-kepler/src/amuse/community/kepler/src/stdinc.h:#endif				// on GPU: not fully tested
configure.ac:AC_ARG_VAR([NVCC], [CUDA compiler command])
configure.ac:AC_ARG_VAR([NVCC_FLAGS], [Extra flags for the CUDA nvcc compiler])
configure.ac:AX_CUDA()
configure.ac:    AS_IF([test x$WITH_CUDA  =="xno"], [
CITATION.cff:    affiliation: "Nvidia"
doc/install/install-ubuntu-1804-virtualenv-python2.rst:Then, change to the AMUSE directory and run configure, enabling optional GPU features if present/required::
doc/install/install-ubuntu-1804-virtualenv-python2.rst:  > ./configure [--enable-cuda] [--enable-sapporo2]
doc/install/configuration.rst:MPI, GPU (CUDA) and openmp. In this document we will provide a short 
doc/install/configuration.rst:channel, does not build any GPU enabled codes (or GPU enabled 
doc/install/configuration.rst:.. _configuration-gpu-label:
doc/install/configuration.rst:GPU
doc/install/configuration.rst:Currently all codes in AMUSE capable of using the GPU are based 
doc/install/configuration.rst:on CUDA. To run these codes you will need CUDA libraries and drivers.
doc/install/configuration.rst:    > ./configure --enable-cuda
doc/install/configuration.rst:cuda libraries, in well known paths. Unfortunately it often will not find
doc/install/configuration.rst:the cuda tools and you have to specify the some environment variables or
doc/install/configuration.rst:    > ./configure --enable-cuda NVCC=/path/to/nvcc
doc/install/configuration.rst:```$CUDA_TK/bin``` directory::
doc/install/configuration.rst:    > ./configure --enable-cuda CUDA_TK=/opt/nvidia
doc/install/configuration.rst:The configure script looks for cuda and cudart libraries in 
doc/install/configuration.rst:    > ./configure --enable-cuda --with-cuda-libdir=/path/to/cuda/lib
doc/install/configuration.rst:Using ```--with-cuda-libdir``` will always override the local 
doc/install/configuration.rst:search paths and should also work if you have an old version of cuda 
doc/install/configuration.rst: * CUDA_ENABLED, valid values are "yes" or "no".
doc/install/configuration.rst: * CUDA_TK, directory of the cuda toolkit installation
doc/install/configuration.rst: * CUDA_LIBS, library flags the add in the linking stage (-L/path -lcuda -lcudart)
doc/install/configuration.rst:The Sapporo library will be build when CUDA is enabled. The Sapporo 
doc/install/configuration.rst:library implements the GRAPE6 API on GPU hardware. AMUSE is shipped 
doc/install/configuration.rst: * An older version ```sapporo_light``` that runs on most CUDA devices but is not maintained any longer
doc/install/configuration.rst: * The latests version ```sapporo``` that runs on modern GPU hardware. This version should also run on 
doc/install/configuration.rst:   OpenCL devices but this is still a work in progress.
doc/install/configuration.rst:    > ./configure --enable-cuda --enable-sapporo2
doc/install/install-macos-highsierra-virtualenv-python3.rst:Then, change to the AMUSE directory and run configure, enabling optional GPU features if present/required::
doc/install/install-macos-highsierra-virtualenv-python3.rst:  > ./configure [--enable-cuda] [--enable-sapporo2]
doc/install/install-ubuntu-1804-virtualenv-python3.rst:Then, change to the AMUSE directory and run configure, enabling optional GPU features if present/required::
doc/install/install-ubuntu-1804-virtualenv-python3.rst:  > ./configure [--enable-cuda] [--enable-sapporo2]
doc/install/install-macos-highsierra-virtualenv-python2.rst:Then, change to the AMUSE directory and run configure, enabling optional GPU features if present/required::
doc/install/install-macos-highsierra-virtualenv-python2.rst:  > ./configure [--enable-cuda] [--enable-sapporo2]
doc/reference/distributed.rst:For instance, say a simulation uses a number of workers running on a CPU, and a single GPU worker.
doc/reference/distributed.rst:The following code will put all the cpu workers on one machine, and the single gpu worker on another.
doc/reference/distributed.rst:    >>> gpu_pilot = Pilot()
doc/reference/distributed.rst:    >>> gpu_pilot.resource_name='machine2'
doc/reference/distributed.rst:    >>> gpu_pilot.node_count=1
doc/reference/distributed.rst:    >>> gpu_pilot.time= 2|units.hour
doc/reference/distributed.rst:    >>> gpu_pilot.slots_per_node=1
doc/reference/distributed.rst:    >>> gpu_pilot.label='GPU'
doc/reference/distributed.rst:    >>> instance.pilots.add_pilot(gpu_pilot)
doc/reference/distributed.rst:    >>> worker2 = Bonsai(label='GPU')
doc/reference/distributed.rst:    >>> worker3 = Bonsai(label='GPU')
doc/reference/index.rst:   cuda-setup
doc/reference/available-codes.rst:* HiGPUs_
doc/reference/available-codes.rst:|name     |approximation scheme |timestep scheme  |CPU     |GPU      |GRAPE |language |stopcond (1)  |parallel (2) |
doc/reference/available-codes.rst:|HiGPUs   |direct               |block time steps |N       |Y        |N     |C/C++    |              |Y (on gpus   |
doc/reference/available-codes.rst:|huayno   |Approx symplectic    |                 |Y       |Y(opencl)|N     |C        |              |N            |
doc/reference/available-codes.rst:    for some codes it can be used to parallelize the calculations. Some codes (GPU) 
doc/reference/available-codes.rst:    GRAPE hardware and uses the GPU to execute the force calculations [#gaburov]_.
doc/reference/available-codes.rst:    GPU device per application!
doc/reference/available-codes.rst:* MODE_GPU   = 'gpu'
doc/reference/available-codes.rst:    Using sapporo, CUDA needed.
doc/reference/available-codes.rst:   >>> instance = PhiGRAPE(PhiGRAPE.NBODY, PhiGRAPEInterface.MODE_GPU)
doc/reference/available-codes.rst:|initialize_gpu_once                 |0              |none           |set to 1 if the gpu|
doc/reference/available-codes.rst:|                                    |               |               |same gpu this      |
doc/reference/available-codes.rst:Tree-code which runs on GPUs with NVIDIA CUDA architecture. [#oct]_
doc/reference/available-codes.rst:.. [#oct] Gaburov, E., Bedorf, J., Portegies Zwart S., 2010, "Gravitational tree-code on graphics processing units: implementations in CUDA", *ICCS*
doc/reference/available-codes.rst:  AMUSE environment. It can make use of GPUs - for this an OpenCL 
doc/reference/available-codes.rst:  OpenCL operation:
doc/reference/available-codes.rst:  loops to the GPU.  The implementation is based on the STDCL library
doc/reference/available-codes.rst:  appropiately for the OpenCL configuration: CLCONTEXT:  stdgpu or stdcpu
doc/reference/available-codes.rst:  NTHREAD:  64 for GPU, 2 for CPU (actually 64 will also work for CPU just
doc/reference/available-codes.rst:  starting guess) evolve_kern.cl contains the OpenCL kernels. Precision of
doc/reference/available-codes.rst:HiGPUs
doc/reference/available-codes.rst:HiGPUs is a parallel direct N-body code based on a 6th order Hermite 
doc/reference/available-codes.rst:see astrowww.phys.uniroma1.it/dolcetta/HPCcodes/HiGPUs.html) and uses, at 
doc/reference/available-codes.rst:the same time, MPI, OpenMP and CUDA libraries to fully exploit all 
doc/reference/available-codes.rst:|n_gpu                               |2              |none           |number of GPUs per | 
doc/reference/available-codes.rst:|gpu_name                            |GeForce GTX 480|none           |GPUs to use        | 
doc/reference/available-codes.rst:|Threads                             |128            |none           |number of gpus     | 
doc/reference/available-codes.rst:|output_path_name                    |../../test_re  |none           |path where HiGPUs  |
doc/reference/available-codes.rst:These are the maximum performance (in Gflops) reached using different single GPUs installed, one at a time, 
doc/reference/available-codes.rst:To use the code with AMP GPUs you can download the OpenCL version from the website
doc/reference/available-codes.rst:.. automodule:: amuse.community.higpus.interface
doc/reference/available-codes.rst:    .. autoclass:: HiGPUs
doc/reference/cuda-setup.rst:.. _cuda-setup-label:
doc/reference/cuda-setup.rst:Setting up GPGPU with CUDA
doc/reference/cuda-setup.rst:Here we provide help for setting up general-purpose computing on graphics processing units (GPGPU)
doc/reference/cuda-setup.rst:using CUDA. Performing (part of) the calculations on a graphics card can result 
doc/reference/cuda-setup.rst:in a significant speed-up. Several codes in AMUSE support or require GPGPU: 
doc/reference/cuda-setup.rst:phi-GRAPE (using Sapporo), ph4 (using Sapporo), Octgrav, Bonsai, HiGPUs.
doc/reference/cuda-setup.rst:From a command line run the bash script `cuda_self_help`:
doc/reference/cuda-setup.rst:    > ./amuse-x.0/cuda_self_help
doc/reference/cuda-setup.rst:* :ref:`CUDA-capable`
doc/reference/cuda-setup.rst:* :ref:`CUDA_SDK`
doc/reference/cuda-setup.rst:* :ref:`configure-with-cuda`
doc/reference/cuda-setup.rst:.. _CUDA-capable:
doc/reference/cuda-setup.rst:Check that your computer has a CUDA-capable Nvidia graphics card
doc/reference/cuda-setup.rst:First determine the model of your GPU.
doc/reference/cuda-setup.rst:    > nvidia-settings -q gpus
doc/reference/cuda-setup.rst:Check whether your GPU model is listed among 
doc/reference/cuda-setup.rst:`Nvidia's CUDA-enabled GPUs <https://www.nvidia.com/object/cuda_gpus>`_.
doc/reference/cuda-setup.rst:.. _CUDA_SDK:
doc/reference/cuda-setup.rst:Check that you have installed the CUDA Toolkit (TK) and software development kit (SDK)
doc/reference/cuda-setup.rst:If not, download and install it from `CUDA Development Tools <https://developer.nvidia.com/cuda-downloads>`_.
doc/reference/cuda-setup.rst:Set the CUDA_TK and CUDA_SDK environment variables
doc/reference/cuda-setup.rst:After installing the CUDA TK and SDK, make sure the environment variables CUDA_TK and CUDA_SDK are set correctly.
doc/reference/cuda-setup.rst:   export CUDA_TK=/path/to/cuda_tk
doc/reference/cuda-setup.rst:   export CUDA_SDK=/path/to/cuda_sdk
doc/reference/cuda-setup.rst:'/path/to/cuda_tk' should hold directories named 'include', 'lib', and 'lib64' (where libcudart.so is located)
doc/reference/cuda-setup.rst:'/path/to/cuda_sdk' should hold a directory named 'common/inc' (where various header files are located)
doc/reference/cuda-setup.rst:.. _configure-with-cuda:
doc/reference/cuda-setup.rst:Configure AMUSE with CUDA enabled
doc/reference/cuda-setup.rst:AMUSE needs to be configured with the option ``--enable-cuda``. See :ref:`configuration-gpu-label`.
doc/design/architecture.rst:            label="Application, running on a GPU";
doc/design/amuse-mindmap.mm:<node CREATED="1246287489298" ID="Freemind_Link_684618214" MODIFIED="1246287491022" TEXT="GPU"/>
doc/design/amuse-mindmap.mm:<node CREATED="1246286275692" ID="Freemind_Link_171919207" MODIFIED="1246286283993" TEXT="CUDA library for GPU"/>
m4/cuda.m4:# AX_CUDA
m4/cuda.m4:# set up for CUDA
m4/cuda.m4:# CUDA_SDK
m4/cuda.m4:# CUDA_TK
m4/cuda.m4:# CUDA_LIBS
m4/cuda.m4:# CUDA_FLAGS
m4/cuda.m4:# CUDART_LIBS
m4/cuda.m4:# CUDART_FLAGS
m4/cuda.m4:AC_DEFUN([AX_CUDA],[
m4/cuda.m4:    AC_ARG_ENABLE(cuda,
m4/cuda.m4:        [AS_HELP_STRING([--enable-cuda],[Enable CUDA for codes])],
m4/cuda.m4:        [WITH_CUDA=no
m4/cuda.m4:        AS_IF([test "x$enable_cuda" != "xno"], [
m4/cuda.m4:        WITH_CUDA=yes
m4/cuda.m4:        [WITH_CUDA=no
m4/cuda.m4:        CUDA_TK=/NOCUDACONFIGURED
m4/cuda.m4:        CUDA_LIBS="-L$CUDA_TK cuda cudart"	
m4/cuda.m4:        cuda-libdir, 
m4/cuda.m4:        [   --with-cuda-libdir=PFX   Directory where libcuda.so is installed (optional)],
m4/cuda.m4:        cuda_libdir="$withval", 
m4/cuda.m4:        cuda_libdir="no")
m4/cuda.m4:    AC_ARG_VAR([CUDA_TK], [CUDA toolkit directory])
m4/cuda.m4:    AS_IF([test x"$WITH_CUDA" != xno],[
m4/cuda.m4:        WITH_CUDA=yes
m4/cuda.m4:        $CUDA_TK/bin:$PATH:/usr/local/cuda/cuda/bin:/usr/local/cuda/bin:/opt/cuda/cuda/bin:/opt/cuda/bin
m4/cuda.m4:        AS_IF([test x"$CUDA_TK" = x],
m4/cuda.m4:            [AC_MSG_ERROR([CUDA_TK path is not set, and could not find nvcc in path, please set CUDA_TK variable])]
m4/cuda.m4:        CUDA_TK_BIN=`AS_DIRNAME("$NVCC")`
m4/cuda.m4:        CUDA_TK=`AS_DIRNAME("$CUDA_TK_BIN")`
m4/cuda.m4:        AC_CHECK_FILE([$CUDA_TK/lib], [],
m4/cuda.m4:        [AC_CHECK_FILE([$CUDA_TK/lib64], [],
m4/cuda.m4:        [AC_MSG_ERROR([cuda toolkit path is incorrect, must have $CUDA_TK/lib or $CUDA_TK/lib64 directory])])])
m4/cuda.m4:        CUDART_LIBS=''
m4/cuda.m4:            [cudart],
m4/cuda.m4:            [$CUDA_TK/lib64 $CUDA_TK/lib],
m4/cuda.m4:            [CUDART_LIBS=$LIBS],
m4/cuda.m4:            [AC_MSG_ERROR([cannot find cuda runtime libraries in $CUDA_TK/lib $CUDA_TK/lib64])]
m4/cuda.m4:        CUDA_PATH=[]
m4/cuda.m4:        CUDA_LIBS=''
m4/cuda.m4:	AS_IF([test x"$cuda_libdir" != xno],[
m4/cuda.m4:            CUDA_LIBS="-L$cuda_libdir -lcuda $CUDART_LIBS"
m4/cuda.m4:            [cuda],
m4/cuda.m4:            [$CUDA_TK/lib64 $CUDA_TK/lib /usr/lib64 /usr/lib /usr/lib64/nvidia /usr/lib/nvidia /usr/lib/nvidia-current /usr/lib64/nvidia-current ],
m4/cuda.m4:            [CUDA_LIBS="$LIBS $CUDART_LIBS"],
m4/cuda.m4:            [AC_MSG_ERROR([cannot find cuda library])]
m4/cuda.m4:    AC_SUBST(WITH_CUDA)
m4/cuda.m4:    AC_SUBST(CUDA_TK)
m4/cuda.m4:    AC_SUBST(CUDA_LIBS)
m4/opencl.m4:# Check for an OpenCL implementation.  If CL is found, the required compiler
m4/opencl.m4:# "OpenCL/cl.h" is found, HAVE_OPENCL_CL_H is defined.  These preprocessor
m4/opencl.m4:AC_ARG_WITH(opencl,
m4/opencl.m4:             AS_HELP_STRING([--with-opencl=PFX],[Prefix where OpenCl has been installed ]),
m4/opencl.m4:                test "$withval" = no && AC_MSG_WARN([opencl is an optional package for sapporo2 ])
m4/opencl.m4:                   opencl_prefix="$withval" 
m4/opencl.m4:                    with_opencl=yes
m4/opencl.m4:                   with_opencl=no
m4/opencl.m4:             [ with_opencl=yes ] 
m4/opencl.m4:        AS_IF([test "x$with_opencl" != xno ],
m4/opencl.m4:if test x$opencl_prefix == x; then
m4/opencl.m4:        opencl_prefix=$PREFIX 
m4/opencl.m4:if test x$opencl_prefix != x; then
m4/opencl.m4:    CL_CFLAGS="-I$opencl_prefix/include"
m4/opencl.m4:    CL_LIBS_TRY="-L$opencl_prefix/lib -L$opencl_prefix/lib64 -L$opencl_prefix/lib/x86_64 -L$opencl_prefix/lib/x86"
m4/opencl.m4:AC_CHECK_HEADERS([CL/cl.h OpenCL/cl.h])
m4/opencl.m4:# elif defined(HAVE_OPENCL_CL_H)
m4/opencl.m4:#   include <OpenCL/cl.h>
m4/opencl.m4:AC_CACHE_CHECK([for OpenCL library], [ax_cv_check_cl_libcl],
m4/opencl.m4:ax_check_libs="-lOpenCL -lCL"
m4/opencl.m4:                   [ax_check_cl_nvidia_flags="-L/usr/$ax_check_cl_libdir/nvidia" LIBS="$ax_try_lib $ax_check_cl_nvidia_flags $cl_libflags $ax_save_LIBS"
m4/opencl.m4:                                  [ax_cv_check_cl_libcl="$ax_try_lib $ax_check_cl_nvidia_flags"; break],
m4/opencl.m4:                                  [ax_check_cl_dylib_flag='-dylib_file /System/Library/Frameworks/OpenCL.framework/Versions/A/Libraries/libCL.dylib:/System/Library/Frameworks/OpenCL.framework/Versions/A/Libraries/libCL.dylib' LIBS="$ax_try_lib $ax_check_cl_dylib_flag $cl_libflags $ax_save_LIBS"
m4/opencl.m4:      [LIBS='-framework OpenCL'
configure:CUDA_LIBS
configure:WITH_CUDA
configure:CUDA_TK
configure:enable_cuda
configure:with_cuda_libdir
configure:with_opencl
configure:CUDA_TK
configure:  --enable-cuda           Enable CUDA for codes
configure:   --with-cuda-libdir=PFX   Directory where libcuda.so is installed (optional)
configure:  --with-opencl=PFX       Prefix where OpenCl has been installed
configure:  NVCC        CUDA compiler command
configure:  NVCC_FLAGS  Extra flags for the CUDA nvcc compiler
configure:  CUDA_TK     CUDA toolkit directory
configure:    # Check whether --enable-cuda was given.
configure:if test ${enable_cuda+y}
configure:  enableval=$enable_cuda; WITH_CUDA=no
configure:        if test "x$enable_cuda" != "xno"
configure:        WITH_CUDA=yes
configure:  WITH_CUDA=no
configure:        CUDA_TK=/NOCUDACONFIGURED
configure:        CUDA_LIBS="-L$CUDA_TK cuda cudart"
configure:# Check whether --with-cuda-libdir was given.
configure:if test ${with_cuda_libdir+y}
configure:  withval=$with_cuda_libdir; cuda_libdir="$withval"
configure:  cuda_libdir="no"
configure:    if test x"$WITH_CUDA" != xno
configure:        WITH_CUDA=yes
configure:as_dummy="$CUDA_TK/bin:$PATH:/usr/local/cuda/cuda/bin:/usr/local/cuda/bin:/opt/cuda/cuda/bin:/opt/cuda/bin
configure:        if test x"$CUDA_TK" = x
configure:  as_fn_error $? "CUDA_TK path is not set, and could not find nvcc in path, please set CUDA_TK variable" "$LINENO" 5
configure:        CUDA_TK_BIN=`$as_dirname -- "$NVCC" ||
configure:        CUDA_TK=`$as_dirname -- "$CUDA_TK_BIN" ||
configure:$as_expr X"$CUDA_TK_BIN" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
configure:	 X"$CUDA_TK_BIN" : 'X\(//\)[^/]' \| \
configure:	 X"$CUDA_TK_BIN" : 'X\(//\)$' \| \
configure:	 X"$CUDA_TK_BIN" : 'X\(/\)' \| . 2>/dev/null ||
configure:printf "%s\n" X"$CUDA_TK_BIN" |
configure:        as_ac_File=`printf "%s\n" "ac_cv_file_$CUDA_TK/lib" | $as_tr_sh`
configure:{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CUDA_TK/lib" >&5
configure:printf %s "checking for $CUDA_TK/lib... " >&6; }
configure:if test -r "$CUDA_TK/lib"; then
configure:  as_ac_File=`printf "%s\n" "ac_cv_file_$CUDA_TK/lib64" | $as_tr_sh`
configure:{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CUDA_TK/lib64" >&5
configure:printf %s "checking for $CUDA_TK/lib64... " >&6; }
configure:if test -r "$CUDA_TK/lib64"; then
configure:  as_fn_error $? "cuda toolkit path is incorrect, must have $CUDA_TK/lib or $CUDA_TK/lib64 directory" "$LINENO" 5
configure:        CUDART_LIBS=''
configure:        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking directories for -lcudart" >&5
configure:printf %s "checking directories for -lcudart... " >&6; }
configure:    ac_lib_var=`echo cudart'_'main | tr './+\055' '__p_'`
configure:  for dir in "" $CUDA_TK/lib64 $CUDA_TK/lib
configure:            LIBS="$LIBS -lcudart "
configure:            LIBS="$LIBS -L$dir -lcudart "
configure:          LIBS="$LIBS -lcudart"
configure:          LIBS="$LIBS -L$dir -lcudart"
configure:        CUDART_LIBS=$LIBS
configure:      as_fn_error $? "cannot find cuda runtime libraries in $CUDA_TK/lib $CUDA_TK/lib64" "$LINENO" 5
configure:        CUDA_PATH=
configure:        CUDA_LIBS=''
configure:	if test x"$cuda_libdir" != xno
configure:            CUDA_LIBS="-L$cuda_libdir -lcuda $CUDART_LIBS"
configure:        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking directories for -lcuda" >&5
configure:printf %s "checking directories for -lcuda... " >&6; }
configure:    ac_lib_var=`echo cuda'_'main | tr './+\055' '__p_'`
configure:  for dir in "" $CUDA_TK/lib64 $CUDA_TK/lib /usr/lib64 /usr/lib /usr/lib64/nvidia /usr/lib/nvidia /usr/lib/nvidia-current /usr/lib64/nvidia-current
configure:            LIBS="$LIBS -lcuda "
configure:            LIBS="$LIBS -L$dir -lcuda "
configure:          LIBS="$LIBS -lcuda"
configure:          LIBS="$LIBS -L$dir -lcuda"
configure:        CUDA_LIBS="$LIBS $CUDART_LIBS"
configure:      as_fn_error $? "cannot find cuda library" "$LINENO" 5
configure:# Check whether --with-opencl was given.
configure:if test ${with_opencl+y}
configure:  withval=$with_opencl;
configure:                test "$withval" = no && { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: opencl is an optional package for sapporo2 " >&5
configure:printf "%s\n" "$as_me: WARNING: opencl is an optional package for sapporo2 " >&2;}
configure:                   opencl_prefix="$withval"
configure:                    with_opencl=yes
configure:                   with_opencl=no
configure:   with_opencl=yes
configure:        if test "x$with_opencl" != xno
configure:if test x$opencl_prefix == x; then
configure:        opencl_prefix=$PREFIX
configure:if test x$opencl_prefix != x; then
configure:    CL_CFLAGS="-I$opencl_prefix/include"
configure:    CL_LIBS_TRY="-L$opencl_prefix/lib -L$opencl_prefix/lib64 -L$opencl_prefix/lib/x86_64 -L$opencl_prefix/lib/x86"
configure:ac_fn_c_check_header_compile "$LINENO" "OpenCL/cl.h" "ac_cv_header_OpenCL_cl_h" "$ac_includes_default"
configure:if test "x$ac_cv_header_OpenCL_cl_h" = xyes
configure:  printf "%s\n" "#define HAVE_OPENCL_CL_H 1" >>confdefs.h
configure:{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for OpenCL library" >&5
configure:printf %s "checking for OpenCL library... " >&6; }
configure:ax_check_libs="-lOpenCL -lCL"
configure:# elif defined(HAVE_OPENCL_CL_H)
configure:#   include <OpenCL/cl.h>
configure:  ax_check_cl_nvidia_flags="-L/usr/$ax_check_cl_libdir/nvidia" LIBS="$ax_try_lib $ax_check_cl_nvidia_flags $cl_libflags $ax_save_LIBS"
configure:# elif defined(HAVE_OPENCL_CL_H)
configure:#   include <OpenCL/cl.h>
configure:  ax_cv_check_cl_libcl="$ax_try_lib $ax_check_cl_nvidia_flags"; break
configure:  ax_check_cl_dylib_flag='-dylib_file /System/Library/Frameworks/OpenCL.framework/Versions/A/Libraries/libCL.dylib:/System/Library/Frameworks/OpenCL.framework/Versions/A/Libraries/libCL.dylib' LIBS="$ax_try_lib $ax_check_cl_dylib_flag $cl_libflags $ax_save_LIBS"
configure:# elif defined(HAVE_OPENCL_CL_H)
configure:#   include <OpenCL/cl.h>
configure:  LIBS='-framework OpenCL'
configure:# elif defined(HAVE_OPENCL_CL_H)
configure:#   include <OpenCL/cl.h>
configure:    if test x$WITH_CUDA  =="xno"
lib/sapporo_2/Makefile:CUDA_TK  ?= /usr/local/cuda
lib/sapporo_2/Makefile:CXXFLAGS =  -fPIC $(OFLAGS) -I$(CUDA_TK)/include  -D__INCLUDE_KERNELS__ $(CL_CFLAGS)
lib/sapporo_2/Makefile:NVCC      = $(CUDA_TK)/bin/nvcc  
lib/sapporo_2/Makefile:ifeq (yes,$(CUDA_ENABLED))
lib/sapporo_2/Makefile:	@echo "CUDA support is not enabled, sapporo 2 will not be build"
lib/sapporo_2/Makefile:	echo $(CUDA_ENABLED)
lib/sapporo_light/host_evaluate_gravity.cu:    int gpuCount = 0;
lib/sapporo_light/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaGetDeviceCount(&gpuCount));
lib/sapporo_light/host_evaluate_gravity.cu:    CUT_CHECK_ERROR("Failed to get CUDA device count\n");
lib/sapporo_light/host_evaluate_gravity.cu:    return gpuCount;
lib/sapporo_light/host_evaluate_gravity.cu:  cudaError_t host_evaluate_gravity(sapporo_multi_struct gpu) {
lib/sapporo_light/host_evaluate_gravity.cu:    int ofs = gpu.offset;
lib/sapporo_light/host_evaluate_gravity.cu:    DS t_i = (DS){gpu.t_i_x, gpu.t_i_y};
lib/sapporo_light/host_evaluate_gravity.cu:    if (gpu.nj_modified > 0) {
lib/sapporo_light/host_evaluate_gravity.cu:      int nj_scaled = n_norm(gpu.nj_modified, NTHREADS);
lib/sapporo_light/host_evaluate_gravity.cu:      dev_copy_particles<<<grid, threads>>>(gpu.nj_modified,
lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.nj_max,
lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.address_j,
lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.t_j,
lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.Ppos_j,
lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.Pvel_j,
lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.pos_j,
lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.vel_j,
lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.acc_j,
lib/sapporo_light/host_evaluate_gravity.cu:                                            gpu.jrk_j);
lib/sapporo_light/host_evaluate_gravity.cu:    if (gpu.predict) {
lib/sapporo_light/host_evaluate_gravity.cu:      int nj_scaled = n_norm(gpu.nj, NTHREADS);
lib/sapporo_light/host_evaluate_gravity.cu:      dev_predictor<<<grid_p, threads_p>>>(gpu.nj, 
lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.t_j + ofs, 
lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.Ppos_j + ofs, 
lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.Pvel_j + ofs,
lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.pos_j  + ofs,
lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.vel_j  + ofs, 
lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.acc_j  + ofs, 
lib/sapporo_light/host_evaluate_gravity.cu:                                           gpu.jrk_j  + ofs);
lib/sapporo_light/host_evaluate_gravity.cu:    int p = gpu.ni;
lib/sapporo_light/host_evaluate_gravity.cu:    int q = min(NTHREADS/gpu.ni, 32);
lib/sapporo_light/host_evaluate_gravity.cu:    int nj_scaled = n_norm(gpu.nj, q*NBLOCKS);
lib/sapporo_light/host_evaluate_gravity.cu:    #if CUDART_VERSION < 5000
lib/sapporo_light/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(
lib/sapporo_light/host_evaluate_gravity.cu:        &gpu.EPS2, 
lib/sapporo_light/host_evaluate_gravity.cu:        cudaMemcpyHostToDevice)
lib/sapporo_light/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(
lib/sapporo_light/host_evaluate_gravity.cu:        &gpu.EPS2, 
lib/sapporo_light/host_evaluate_gravity.cu:        cudaMemcpyHostToDevice)
lib/sapporo_light/host_evaluate_gravity.cu:    if (gpu.ngb)
lib/sapporo_light/host_evaluate_gravity.cu:      dev_evaluate_gravity<true><<<grid, threads, shared_mem_size>>>(gpu.nj, 
lib/sapporo_light/host_evaluate_gravity.cu:                                                                     gpu.Ppos_j+ ofs,
lib/sapporo_light/host_evaluate_gravity.cu:                                                                     gpu.Pvel_j + ofs,
lib/sapporo_light/host_evaluate_gravity.cu:                                                                     gpu.pos_i,  gpu.vel_i,
lib/sapporo_light/host_evaluate_gravity.cu:                                                                     gpu.acc_i,  gpu.jrk_i,
lib/sapporo_light/host_evaluate_gravity.cu:                                                                     gpu.ngb_list);
lib/sapporo_light/host_evaluate_gravity.cu:      dev_evaluate_gravity<false><<<grid, threads, shared_mem_size>>>(gpu.nj, 
lib/sapporo_light/host_evaluate_gravity.cu:                                                                      gpu.Ppos_j + ofs, 
lib/sapporo_light/host_evaluate_gravity.cu:                                                                      gpu.Pvel_j + ofs,
lib/sapporo_light/host_evaluate_gravity.cu:                                                                      gpu.pos_i,  gpu.vel_i,
lib/sapporo_light/host_evaluate_gravity.cu:                                                                      gpu.acc_i,  gpu.jrk_i,
lib/sapporo_light/host_evaluate_gravity.cu:                                                                      gpu.ngb_list);
lib/sapporo_light/host_evaluate_gravity.cu:    dim3 grid_r(gpu.ni, 1, 1);
lib/sapporo_light/host_evaluate_gravity.cu:    dev_reduce_forces<<<grid_r, threads_r, shared_mem_size_r>>>(gpu.acc_i, 
lib/sapporo_light/host_evaluate_gravity.cu:                                                                gpu.jrk_i, 
lib/sapporo_light/host_evaluate_gravity.cu:                                                                gpu.ds_i,
lib/sapporo_light/host_evaluate_gravity.cu:                                                                gpu.vel_i,
lib/sapporo_light/host_evaluate_gravity.cu:                                                                gpu.ngb_list);
lib/sapporo_light/host_evaluate_gravity.cu:    return cudaSuccess;
lib/sapporo_light/Makefile:CUDA_TK  ?= /disks/koppoel1/CUDA23/cuda
lib/sapporo_light/Makefile:CUDAPATH    ?= $(CUDA_TK)
lib/sapporo_light/Makefile:CUDAINCLUDE ?= -I$(CUDAPATH)/include 
lib/sapporo_light/Makefile:NVCC ?= $(CUDAPATH)/bin/nvcc
lib/sapporo_light/Makefile:NVCCFLAGS :=  $(NVCC_FLAGS) -D_CONSOLE -D_DEBUG  -maxrregcount=32 $(CUDAINCLUDE)
lib/sapporo_light/Makefile:CXXFLAGS  := -g -DNGB $(CUDAINCLUDE)
lib/sapporo_light/Makefile:all:  $(CUDA_TK) $(TARGET) $(PROG)
lib/sapporo_light/Makefile:$(CUDA_TK):
lib/sapporo_light/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
lib/sapporo_light/Makefile:	@echo "please set the CUDA_TK variable to the directory"
lib/sapporo_light/Makefile:	@echo "where you installed CUDA"
lib/sapporo_light/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
lib/sapporo_light/sapporo.cpp:sapporo_multi_struct sapporo_multi_data[MAXCUDADEVICES];
lib/sapporo_light/sapporo.cpp:  nCUDAdevices = get_device_count();
lib/sapporo_light/sapporo.cpp:  if (nCUDAdevices > 0) {
lib/sapporo_light/sapporo.cpp:    fprintf(stderr, "sapporo::open - found %d CUDA device(s)\n",
lib/sapporo_light/sapporo.cpp:            nCUDAdevices);
lib/sapporo_light/sapporo.cpp:    fprintf(stderr, "sapporo::open - FATAL! No CUDA device found\n");
lib/sapporo_light/sapporo.cpp:  if(cluster_id >= nCUDAdevices) {
lib/sapporo_light/sapporo.cpp:    fprintf(stderr, "sapporo::open - FATAL! Cluster id is too high, no cuda device with given id\n");
lib/sapporo_light/sapporo.cpp:  cudaSetDevice(device_id);
lib/sapporo_light/sapporo.cpp:  allocate_cuda_memory(device_id);
lib/sapporo_light/sapporo.cpp:  free_cuda_memory(device_id);
lib/sapporo_light/sapporo.h: *  a multiGPU GRAPE6-like  
lib/sapporo_light/sapporo.h:#include <cuda_runtime.h>
lib/sapporo_light/sapporo.h:  cudaError_t host_evaluate_gravity(sapporo_multi_struct);
lib/sapporo_light/sapporo.h:  int nCUDAdevices;
lib/sapporo_light/sapporo.h:  void free_cuda_memory(int);
lib/sapporo_light/sapporo.h:  void allocate_cuda_memory(int);
lib/sapporo_light/sapporo.h:    acc_i.resize(n_pipes*MAXCUDADEVICES);
lib/sapporo_light/sapporo.h:    jrk_i.resize(n_pipes*MAXCUDADEVICES);
lib/sapporo_light/sapporo.h:    ds_i.resize(n_pipes*MAXCUDADEVICES);
lib/sapporo_light/sapporo.h:    ngb_list_i.resize(n_pipes*NGB_PP*MAXCUDADEVICES);
lib/sapporo_light/send_fetch_data.cpp:void sapporo::free_cuda_memory(int ignore) {
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.Ppos_j));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.Pvel_j));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.address_j));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.t_j));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.pos_j));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.vel_j));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.acc_j));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.jrk_j));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.pos_i));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.vel_i));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.acc_i));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.jrk_i));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.ds_i));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaFree( (void*)dev.ngb_list_i));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaThreadExit());
lib/sapporo_light/send_fetch_data.cpp:void sapporo::allocate_cuda_memory(int ignore) {
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.Ppos_j), nj_max * sizeof(DS4)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.Pvel_j), nj_max * sizeof(float4)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.address_j), nj_max * sizeof(int)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.t_j),   2*nj_max * sizeof(DS2)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.pos_j), 2*nj_max * sizeof(DS4)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.vel_j), 2*nj_max * sizeof(float4)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.acc_j), 2*nj_max * sizeof(float4)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.jrk_j), 2*nj_max * sizeof(float4)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.pos_i), n_pipes                 * sizeof(DS4)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.vel_i), n_pipes * (1 + NBLOCKS) * sizeof(float4)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.acc_i), n_pipes *      NBLOCKS  * sizeof(float4)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.jrk_i), n_pipes *      NBLOCKS  * sizeof(float4)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.ds_i),  n_pipes * sizeof(float)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMalloc( (void**)((void*)&dev.ngb_list_i), (n_pipes*(NGB_PP + 1) + n_pipes*NBLOCKS*(NGB_PP+1)) * sizeof(int)));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( dev.address_j,      &address_j[0], nj * sizeof(int),    cudaMemcpyHostToDevice));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &dev.t_j  [nj_max], &t_j[0],       nj * sizeof(DS2),    cudaMemcpyHostToDevice));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &dev.pos_j[nj_max], &pos_j[0],     nj * sizeof(DS4),    cudaMemcpyHostToDevice));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &dev.vel_j[nj_max], &vel_j[0],     nj * sizeof(float4), cudaMemcpyHostToDevice));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &dev.acc_j[nj_max], &acc_j[0],     nj * sizeof(float4), cudaMemcpyHostToDevice));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &dev.jrk_j[nj_max], &jrk_j[0],     nj * sizeof(float4), cudaMemcpyHostToDevice));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( dev.pos_i, &pos_i[0], ni * sizeof(DS4),    cudaMemcpyHostToDevice));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( dev.vel_i, &vel_i[0], ni * sizeof(float4), cudaMemcpyHostToDevice));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &acc_i[0], dev.acc_i, ni * sizeof(float4), cudaMemcpyDeviceToHost));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &jrk_i[0], dev.jrk_i, ni * sizeof(float4), cudaMemcpyDeviceToHost));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( &ds_i[0],  dev.ds_i,  ni * sizeof(float),  cudaMemcpyDeviceToHost));
lib/sapporo_light/send_fetch_data.cpp:    CUDA_SAFE_CALL(cudaMemcpy( 
lib/sapporo_light/send_fetch_data.cpp:               cudaMemcpyDeviceToHost
lib/sapporo_light/send_fetch_data.cpp:    sapporo_multi_struct &gpu = sapporo_multi_data[0];
lib/sapporo_light/send_fetch_data.cpp:    gpu.device = device_id;
lib/sapporo_light/send_fetch_data.cpp:    gpu.EPS2 = EPS2;
lib/sapporo_light/send_fetch_data.cpp:    gpu.ngb = ngb;
lib/sapporo_light/send_fetch_data.cpp:    gpu.nj  = dev.nj;
lib/sapporo_light/send_fetch_data.cpp:    gpu.ni  = dev.ni;
lib/sapporo_light/send_fetch_data.cpp:    gpu.nj_total = nj;
lib/sapporo_light/send_fetch_data.cpp:    gpu.nj_max = nj_max;
lib/sapporo_light/send_fetch_data.cpp:    gpu.nj_modified = nj_modified;
lib/sapporo_light/send_fetch_data.cpp:    gpu.predict     = predict;
lib/sapporo_light/send_fetch_data.cpp:    gpu.t_i_x = t_i.x;
lib/sapporo_light/send_fetch_data.cpp:    gpu.t_i_y = t_i.y;
lib/sapporo_light/send_fetch_data.cpp:    gpu.address_j = dev.address_j;
lib/sapporo_light/send_fetch_data.cpp:    gpu.offset = offset;
lib/sapporo_light/send_fetch_data.cpp:    gpu.t_j = dev.t_j;
lib/sapporo_light/send_fetch_data.cpp:    gpu.Ppos_j = dev.Ppos_j;
lib/sapporo_light/send_fetch_data.cpp:    gpu.Pvel_j = dev.Pvel_j;
lib/sapporo_light/send_fetch_data.cpp:    gpu.pos_j = dev.pos_j;
lib/sapporo_light/send_fetch_data.cpp:    gpu.vel_j = dev.vel_j;
lib/sapporo_light/send_fetch_data.cpp:    gpu.acc_j = dev.acc_j;
lib/sapporo_light/send_fetch_data.cpp:    gpu.jrk_j = dev.jrk_j;
lib/sapporo_light/send_fetch_data.cpp:    gpu.pos_i = dev.pos_i;
lib/sapporo_light/send_fetch_data.cpp:    gpu.vel_i = dev.vel_i;
lib/sapporo_light/send_fetch_data.cpp:    gpu.acc_i = dev.acc_i;
lib/sapporo_light/send_fetch_data.cpp:    gpu.jrk_i = dev.jrk_i;
lib/sapporo_light/send_fetch_data.cpp:    gpu.ds_i  = dev.ds_i;
lib/sapporo_light/send_fetch_data.cpp:    gpu.ngb_list = dev.ngb_list_i;
lib/sapporo_light/README:Sapporo Light library v1.0 to simulate GRAPE6 hardware with G80/G92 GPUs.
lib/sapporo_light/README:Testes with CUDA version 3.0
lib/sapporo_light/README:GPU device per application!
lib/sapporo_light/sapporo_defs.h:#define MAXCUDADEVICES 4
lib/sapporo_light/sapporo_defs.h:#if CUDART_VERSION >= 4000
lib/sapporo_light/sapporo_defs.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaDeviceSynchronize();
lib/sapporo_light/sapporo_defs.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaThreadSynchronize();
lib/sapporo_light/sapporo_defs.h:#  define CUDA_SAFE_CALL_NO_SYNC( call) {                                    \
lib/sapporo_light/sapporo_defs.h:    cudaError err = call;                                                    \
lib/sapporo_light/sapporo_defs.h:    if( cudaSuccess != err) {                                                \
lib/sapporo_light/sapporo_defs.h:        fprintf(stderr, "Cuda error in file '%s' in line %i : %s.\n",        \
lib/sapporo_light/sapporo_defs.h:                __FILE__, __LINE__, cudaGetErrorString( err) );              \
lib/sapporo_light/sapporo_defs.h:#  define CUDA_SAFE_CALL( call)     CUDA_SAFE_CALL_NO_SYNC(call);                        
lib/sapporo_light/sapporo_defs.h:    //! Check for CUDA error
lib/sapporo_light/sapporo_defs.h:    cudaError_t err = cudaGetLastError();                                    \
lib/sapporo_light/sapporo_defs.h:    if( cudaSuccess != err) {                                                \
lib/sapporo_light/sapporo_defs.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
lib/sapporo_light/sapporo_defs.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
lib/sapporo_light/sapporo_defs.h:    if( cudaSuccess != err) {                                                \
lib/sapporo_light/sapporo_defs.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
lib/sapporo_light/sapporo_defs.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
lib/sapporo_light/sapporo_defs.h:    cudaError_t err = cudaGetLastError();                                    \
lib/sapporo_light/sapporo_defs.h:    if( cudaSuccess != err) {                                                \
lib/sapporo_light/sapporo_defs.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
lib/sapporo_light/sapporo_defs.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
examples/textbook/plot_Nbody_performance.py:Integrator = ["Hermite", "MI6", "ph4", "Huayno", "ph4_GPU",
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 4 M= 1.0 mass E=  0.0551646941579 mass * length**2 * time**-2 Q=  -1.95374527559 dE= -3.58323716385e-07 Time= 0.0985610485077 0.0198631286621
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 8 M= 1.0 mass E=  -0.329077130029 mass * length**2 * time**-2 Q=  -0.453364176379 dE= -1.02870735086e-05 Time= 0.442950963974 0.370394945145
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 16 M= 1.0 mass E=  -0.224797170844 mass * length**2 * time**-2 Q=  -0.613130635487 dE= -2.0245100683e-05 Time= 0.860652923584 0.787577867508
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 32 M= 1.0 mass E=  -0.2418432712 mass * length**2 * time**-2 Q=  -0.541815554938 dE= -8.65226223438e-06 Time= 1.0237698555 0.951004981995
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 64 M= 1.0 mass E=  -0.220249816579 mass * length**2 * time**-2 Q=  -0.506506717053 dE= -1.15395565137e-05 Time= 1.65881514549 1.58524012566
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 128 M= 1.0 mass E=  -0.228876972557 mass * length**2 * time**-2 Q=  -0.512081882254 dE= -1.66436628451e-06 Time= 1.91911697388 1.84554791451
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 512 M= 1.0 mass E=  -0.246219107352 mass * length**2 * time**-2 Q=  -0.494988644459 dE= -3.46723773461e-07 Time= 4.92146110535 4.84469199181
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 1024 M= 1.0 mass E=  -0.264194748864 mass * length**2 * time**-2 Q=  -0.488521225931 dE= -1.25366184156e-08 Time= 9.73910093307 9.65603995323
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 2048 M= 1.0 mass E=  -0.254481352849 mass * length**2 * time**-2 Q=  -0.490721288382 dE= 1.41179529022e-07 Time= 17.9847381115 17.8897960186
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 4096 M= 1.0 mass E=  -0.252684314778 mass * length**2 * time**-2 Q=  -0.496909053 dE= 4.51799221812e-07 Time= 39.7396519184 39.615598917
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 8192 M= 1.0 mass E=  -0.24832960374 mass * length**2 * time**-2 Q=  -0.50090924939 dE= 5.42252869567e-07 Time= 98.262845993 98.0603530407
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 16384 M= 1.0 mass E=  -0.252074708123 mass * length**2 * time**-2 Q=  -0.502100902446 dE= 1.62794979404e-06 Time= 305.197857857 304.762439966
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 32768 M= 1.0 mass E=  -0.252423617456 mass * length**2 * time**-2 Q=  -0.496629000468 dE= 2.6454239e-06 Time= 1074.24563193 1073.00779295
examples/textbook/NbodyAMUSE.test:I= ph4_GPU T= 10 time N= 65536 M= 1.0 mass E=  -0.251761914714 mass * length**2 * time**-2 Q=  -0.499013475616 dE= 1.14062069569e-05 Time= 4168.028126 4163.92405701
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 4 M= 1.0 mass E=  -0.175339834249 mass * length**2 * time**-2 Q=  -0.570940423527 dE= -5.68993431437e-06 Time= 0.485782146454 0.172539949417
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 8 M= 1.0 mass E=  -0.10425760836 mass * length**2 * time**-2 Q=  -0.260468313163 dE= -1.88457014188e-05 Time= 0.522456884384 0.215067863464
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 16 M= 1.0 mass E=  -0.211394455747 mass * length**2 * time**-2 Q=  -0.506186772479 dE= -4.11216094375e-06 Time= 0.737056016922 0.428088903427
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 32 M= 1.0 mass E=  -0.232521136117 mass * length**2 * time**-2 Q=  -0.503059644304 dE= -4.56829402998e-06 Time= 1.09833407402 0.791905879974
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 64 M= 1.0 mass E=  -0.225378194243 mass * length**2 * time**-2 Q=  -0.540051197623 dE= -1.11858924671e-05 Time= 1.89999508858 1.59369111061
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 128 M= 1.0 mass E=  -0.267571595263 mass * length**2 * time**-2 Q=  -0.481690181036 dE= -3.41256027992e-06 Time= 2.51867604256 2.21100902557
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 512 M= 1.0 mass E=  -0.243165576961 mass * length**2 * time**-2 Q=  -0.4844842183 dE= -5.62899130514e-06 Time= 7.56311392784 7.25375819206
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 1024 M= 1.0 mass E=  -0.262265675507 mass * length**2 * time**-2 Q=  -0.511640062605 dE= 8.26693469384e-08 Time= 9.70127391815 9.38077807426
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 2048 M= 1.0 mass E=  -0.256323261162 mass * length**2 * time**-2 Q=  -0.509027342528 dE= 1.13436556722e-07 Time= 17.7313668728 17.3954658508
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 4096 M= 1.0 mass E=  -0.2468531056 mass * length**2 * time**-2 Q=  -0.505246090344 dE= 4.1816594141e-07 Time= 38.1998491287 37.8247280121
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 8192 M= 1.0 mass E=  -0.25042672001 mass * length**2 * time**-2 Q=  -0.501888398983 dE= 5.25378740916e-07 Time= 99.2618608475 98.763324976
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 16384 M= 1.0 mass E=  -0.249765211622 mass * length**2 * time**-2 Q=  -0.501038143537 dE= 6.06251791157e-07 Time= 300.972173929 300.085115194
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 32768 M= 1.0 mass E=  -0.250283159759 mass * length**2 * time**-2 Q=  -0.500499616577 dE= 6.30981397291e-07 Time= 1049.06455803 1046.82770514
examples/textbook/NbodyAMUSE.test:I= PhiGPU T= 10 time N= 65536 M= 1.0 mass E=  -0.250853032846 mass * length**2 * time**-2 Q=  -0.500716495951 dE= 8.16418230846e-07 Time= 4102.66465807 4095.54456711
examples/applications/validate_bridge.py:                            eps_clu, usegl=False, mode="gpu")
examples/applications/test_plummer_sphere_on_grid.py:        nbodycode = PhiGRAPE(mode="gpu")
examples/applications/test_plummer_sphere_on_grid.py:        # nbodycode = Octgrav(mode="gpu")
examples/applications/test_plummer_sphere_on_grid.py:        nbodycode = PhiGRAPE(mode="gpu")
examples/applications/test_plummer_sphere_on_grid.py:        # nbodycode = Octgrav(mode="gpu")
examples/validation/particles_and_multiples.py:        result = PhiGRAPE(mode="gpu")
examples/validation/particles_and_multiples.py:        result.parameters.initialize_gpu_once = 1
examples/validation/particles_and_multiples.py:        result = ph4(mode="gpu")
examples/validation/particles_and_gas_in_cluster.py:        result = PhiGRAPE(self.converter, mode="gpu")
examples/validation/particles_and_gas_in_cluster.py:        result.parameters.initialize_gpu_once = 1
cuda_self_help:# setting up GPGPU with CUDA, required for executing code on a GPU.
cuda_self_help:# Note that nvidia-settings may not exist in all implementations
cuda_self_help:echo "Welcome to the AMUSE self-help for setting up GPGPU with CUDA."
cuda_self_help:echo -n "Checking whether you have the NVIDIA graphics driver... "
cuda_self_help:which nvidia-settings >& /dev/null
cuda_self_help:    echo -n "Checking the NVIDIA graphics driver version... "
cuda_self_help:    echo `nvidia-settings -q NvidiaDriverVersion | gawk '{ORS = " " ; print $4}'`
cuda_self_help:    echo "    Couldn't find the nvidia-settings utility (used to configure "
cuda_self_help:    echo "    the NVIDIA graphics driver). Do you have an NVIDIA GPU card?"
cuda_self_help:    if [ -e $one_path/libcudart.so ]; then
cuda_self_help:        echo "found libcudart.so in directory " $one_path
cuda_self_help:    echo "libcudart.so not found in LD_LIBRARY_PATH. Do either of:"
cuda_self_help:    echo "   bash> export LD_LIBRARY_PATH=/path/to/cudalib:\$LD_LIBRARY_PATH"
cuda_self_help:    echo "   csh> setenv LD_LIBRARY_PATH /path/to/cudalib:\$LD_LIBRARY_PATH"
cuda_self_help:echo -n "Checking CUDA_SDK...         "
cuda_self_help:if [ -n "$CUDA_SDK" ]; then
cuda_self_help:    if [ -d $CUDA_SDK/common/inc ]; then
cuda_self_help:        echo "set, but unable to find CUDA SDK path. please set the CUDA_SDK "
cuda_self_help:        echo "    typically: /path/to/cudasdk/C"
cuda_self_help:    if [ -d /disks/koppoel1/CUDA23/cudasdk/C/common/inc ]; then
cuda_self_help:        echo "not set, but default CUDA SDK path exists: ok"
cuda_self_help:        echo "unable to find CUDA SDK path. Please set the CUDA_SDK variable "
cuda_self_help:        echo "  to the directory where you installed the CUDA SDK. Do either of:"
cuda_self_help:        echo "     bash> export CUDA_SDK=/path/to/cudasdk"
cuda_self_help:        echo "     csh> setenv CUDA_SDK /path/to/cudasdk"
cuda_self_help:echo -n "Checking CUDA_TK...          "
cuda_self_help:if [ -n "$CUDA_TK" ]; then
cuda_self_help:    if [ -d $CUDA_TK/include ]; then
cuda_self_help:        echo "set, but unable to find CUDA TK path. please set the CUDA_TK "
cuda_self_help:        echo "    typically: /path/to/cuda"
cuda_self_help:    if [ -d /disks/koppoel1/CUDA23/cuda/include ]; then
cuda_self_help:        echo "not set, but default CUDA TK path exists: ok"
cuda_self_help:        CUDA_TK=/disks/koppoel1/CUDA23/cuda
cuda_self_help:        echo "unable to find CUDA TK path. Please set the CUDA_TK variable "
cuda_self_help:        echo "  to the directory where you installed the CUDA TK. Do either of:"
cuda_self_help:        echo "     bash> export CUDA_TK=/path/to/cuda"
cuda_self_help:        echo "     csh> setenv CUDA_TK /path/to/cuda"
cuda_self_help:echo -n "Checking CUDA_LIBDIRS...     "
cuda_self_help:if [ -n "$CUDA_LIBDIRS" ]; then
cuda_self_help:    if [ -e $CUDA_LIBDIRS/libcudart.so ]; then
cuda_self_help:        echo "set, but unable to find the libraries. please set the CUDA_LIBDIRS "
cuda_self_help:        echo "    variable to the directory that holds the libcudart.so library, "
cuda_self_help:        echo "    typically: /path/to/cuda/$X_BITS_LIB"
cuda_self_help:    if [ -e $CUDA_TK/$X_BITS_LIB/libcudart.so ]; then
cuda_self_help:        echo "unable to find the CUDA libraries. Please set the CUDA_LIBDIRS variable "
cuda_self_help:        echo "  to the directory where the CUDA libraries reside. Do either of:"
cuda_self_help:        echo "     bash> export CUDA_LIBDIRS=/path/to/cuda/$X_BITS_LIB"
cuda_self_help:        echo "     csh> setenv CUDA_LIBDIRS /path/to/cuda/$X_BITS_LIB"
cuda_self_help:echo -n "Checking CUDA_LIBS...        "
cuda_self_help:if [ -n "$CUDA_LIBS" ]; then
cuda_self_help:    echo $CUDA_LIBS | grep 'lcudart' >& /dev/null
cuda_self_help:        echo "set, but cudart library not included. Add -lcudart to CUDA_LIBS"
.gitignore:src/amuse/community/fastkick/interface.gpuo
.gitignore:src/amuse/community/fastkick/fastkick_worker_gpu
.gitignore:src/amuse/community/fastkick/interface.gpuo
.gitignore:src/amuse/community/fastkick/interface.gpuo
.gitignore:src/amuse/community/higpus/worker_code.cc
.gitignore:src/amuse/community/higpus/worker_code.h
.gitignore:src/amuse/community/ph4/ph4_worker_gpu
.gitignore:src/amuse/community/ph4/src/close_encounter.gpuo
.gitignore:src/amuse/community/ph4/src/debug.gpuo
.gitignore:src/amuse/community/ph4/src/diag.gpuo
.gitignore:src/amuse/community/ph4/src/gpu.gpuo
.gitignore:src/amuse/community/ph4/src/grape.gpuo
.gitignore:src/amuse/community/ph4/src/idata.gpuo
.gitignore:src/amuse/community/ph4/src/jdata.gpuo
.gitignore:src/amuse/community/ph4/src/scheduler.gpuo
.gitignore:src/amuse/community/ph4/src/two_body.gpuo
.gitignore:src/amuse/community/ph4/src/util.gpuo
src/amuse/data/AMUSE.bib:        title = "{GPU-enabled particle-particle particle-tree scheme for simulating dense stellar cluster system}",
src/amuse/data/AMUSE.bib:        title = "{24.77 Pflops on a Gravitational Tree-Code to Simulate the Milky Way Galaxy with 18600 GPUs}",
src/amuse/data/AMUSE.bib:        title = "{A sparse octree gravitational N-body code that runs entirely on the GPU processor}",
src/amuse/data/AMUSE.bib:        title = "{Gravitational tree-code on graphics processing units: implementation in CUDA}",
src/amuse/data/AMUSE.bib:     keywords = {Gravity, Tree-code, GPU, Parallel, CUDA, Astrophysics - Instrumentation and Methods for Astrophysics, Computer Science - Distributed, Parallel, and Cluster Computing},
src/amuse/test/suite/core_tests/test_options.py:    mode=gpu
src/amuse/test/suite/codes_tests/test_higpus.py:from amuse.community.higpus.interface import HiGPUsInterface, HiGPUs
src/amuse/test/suite/codes_tests/test_higpus.py:class HiGPUsInterfaceTests(TestWithMPI):
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_gpu_name("GeForce GTX 480")
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_gpu_name("GeForce GTX 480")
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUsInterface)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_number_of_GPU(1)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance.set_gpu_name("GeForce GTX 480")
src/amuse/test/suite/codes_tests/test_higpus.py:class TestHiGPUs(TestWithMPI):
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs, convert_nbody)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs, convert_nbody)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
src/amuse/test/suite/codes_tests/test_higpus.py:        self.skip("Need to implement get_gravity_at_point for HiGPUs")
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
src/amuse/test/suite/codes_tests/test_higpus.py:        self.assertEqual(instance.parameters.gpu_name,  "")
src/amuse/test/suite/codes_tests/test_higpus.py:        self.assertEqual(instance.parameters.n_gpu,  1)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
src/amuse/test/suite/codes_tests/test_higpus.py:        instance = self.new_instance_of_an_optional_code(HiGPUs)
src/amuse/test/suite/codes_tests/test_gravity_codes.py:        instance = self.new_instance_of_an_optional_code(factory, mode='gpu')
src/amuse/test/suite/codes_tests/test_gravity_codes.py:            instance.parameters.initialize_gpu_once = 1
src/amuse/test/suite/codes_tests/test_phigrape.py:# ~default_test_options = dict(mode='gpu')
src/amuse/test/suite/codes_tests/test_phigrape.py:        for current_mode in ['g6lib', 'gpu', 'grape']:
src/amuse/test/suite/codes_tests/test_phigrape.py:        instance.parameters.initialize_gpu_once = 1
src/amuse/test/suite/codes_tests/test_fastkick.py:class TestFastKickGPU(TestFastKick):
src/amuse/test/suite/codes_tests/test_fastkick.py:    mode = "gpu"
src/amuse/test/suite/codes_tests/test_huayno.py:        for mode in ["cpu", "openmp", "opencl"]:
src/amuse/test/suite/codes_tests/test_ph4.py:        for current_mode in ['gpu']:
src/amuse/test/suite/codes_tests/test_ph4.py:        self.assertAlmostRelativeEquals(instance.parameters.use_gpu, 0)
src/amuse/test/suite/codes_tests/test_ph4.py:            instance = ph4(mode="gpu")
src/amuse/test/suite/codes_tests/test_ph4.py:            self.skip("gpu mode is not available")
src/amuse/test/suite/codes_tests/test_ph4.py:        gpu_potential = instance.get_potential_at_point(zero, x, zero, zero)
src/amuse/test/suite/codes_tests/test_ph4.py:        nogpu_potential = instance.get_potential_at_point(zero, x, zero, zero)
src/amuse/test/suite/codes_tests/test_ph4.py:        self.assertAlmostRelativeEquals(nogpu_potential, gpu_potential, 5)
src/amuse/config.py:    class cuda:
src/amuse/config.py:        is_enabled = configmk["CUDA_ENABLED"] == "yes"
src/amuse/config.py:        toolkit_path = configmk["CUDA_TK"]
src/amuse/config.py:        cuda_libs = configmk["CUDA_LIBS"]
src/amuse/lab.py:    "HiGPUs",
src/amuse/community/octgrav/interface.py:        .. [#] ... "A gravitational tree code on graphics processing units: Implementation in CUDA"
src/amuse/community/octgrav/Makefile:CUDA_TK  ?= /disks/koppoel1/CUDA23/cuda
src/amuse/community/octgrav/Makefile:MUSE_INCLUDE_DIR = -I$(CODEPATH) -I$(CUDA_TK)/include 
src/amuse/community/octgrav/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
src/amuse/community/octgrav/Makefile:CUDA_LIBS ?= -lcudart
src/amuse/community/octgrav/Makefile:LIBS += $(CUDA_LIBDIRS) $(CUDA_LIBS) 
src/amuse/community/octgrav/Makefile:$(CUDA_TK):
src/amuse/community/octgrav/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
src/amuse/community/octgrav/Makefile:	@echo "please set the CUDA_TK variable to the directory"
src/amuse/community/octgrav/Makefile:	@echo "where you installed CUDA"
src/amuse/community/octgrav/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
src/amuse/community/octgrav/Makefile:compile: $(CUDA_TK) octgrav 
src/amuse/community/octgrav/README:GPU to calculate gravitational accelerations & potentials.
src/amuse/community/octgrav/README:Basic requirement is to have CUDA Toolkit & SDK ver >= 1.1. The
src/amuse/community/octgrav/README:CUDA-enabled GPU is not required for test, but a must for production
src/amuse/community/octgrav/README:enable use of CUDA device, "--device-emulation" has to be removed from
src/amuse/community/octgrav/README:Implementation in CUDA", in preparetion; and main MUSE paper,
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_interaction_list_len;
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_interaction_node_len;
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_interaction_leaf_len;
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_interaction_node_list;
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_interaction_leaf_list;
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_n_node;
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:  extern int  cuda_n_leaf;
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:#if CUDART_VERSION >= 4000
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaDeviceSynchronize();
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaThreadSynchronize();
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:#  define CUDA_SAFE_CALL_NO_SYNC( call) {                                    \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    cudaError err = call;                                                    \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:        fprintf(stderr, "Cuda error in file '%s' in line %i : %s.\n",        \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:                __FILE__, __LINE__, cudaGetErrorString( err) );              \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:#  define CUDA_SAFE_CALL( call)     CUDA_SAFE_CALL_NO_SYNC(call);                        
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    //! Check for CUDA error
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    cudaError_t err = cudaGetLastError();                                    \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    cudaError_t err = cudaGetLastError();                                    \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/octgrav/src/octgrav_v1.7d/n_per_cell.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:void octgrav::allocate_cuda_memory() {
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.bodies_pos,  n_bodies * sizeof(float4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.bodies_grav, n_norm(n_bodies, 256) * sizeof(float4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.children, children_list.size() * sizeof(int4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.node_Qu,      node_list.size() * sizeof(float4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.node_Qd,      node_list.size() * sizeof(float4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.Oct1,      node_list.size() * sizeof(float4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.Oct2,      node_list.size() * sizeof(float4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.Oct3,      node_list.size() * sizeof(float2));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.node_pos,      node_list.size() * sizeof(float4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.node_com,      node_list.size() * sizeof(float4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.n_in_node,     node_list.size() * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.node_bodies_offset, node_list.size() * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://   allocateCUDAarray((void**)&dev.leaf_pos,  leaf_list.size() * sizeof(float4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://   allocateCUDAarray((void**)&dev.leaf_com,  leaf_list.size() * sizeof(float4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://   allocateCUDAarray((void**)&dev.n_in_leaf, leaf_list.size() * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://   allocateCUDAarray((void**)&dev.leaf_bodies_offset, leaf_list.size() * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.cell_pos,  cell_list.size() * sizeof(float4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.cell_com,  cell_list.size() * sizeof(float4));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.n_in_cell, cell_list.size() * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:  allocateCUDAarray((void**)&dev.cell_bodies_offset, cell_list.size() * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:void octgrav::free_cuda_memory() {
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.bodies_pos);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.bodies_grav);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.children);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.node_Qu);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.node_Qd);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.Oct1);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.Oct2);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.Oct3);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.node_pos);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.node_com);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.n_in_node);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.node_bodies_offset);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://    deleteCUDAarray((void*)dev.leaf_pos);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://    deleteCUDAarray((void*)dev.leaf_com);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://    deleteCUDAarray((void*)dev.n_in_leaf);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp://    deleteCUDAarray((void*)dev.leaf_bodies_offset);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.cell_pos);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.cell_com);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.n_in_cell);
src/amuse/community/octgrav/src/octgrav_v1.7d/memory.cpp:   deleteCUDAarray((void*)dev.cell_bodies_offset);
src/amuse/community/octgrav/src/octgrav_v1.7d/CUDA_evaluate_gravity.cpp:double octgrav::CUDA_evaluate_gravity() 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_interaction_list_len;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_interaction_node_len;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_interaction_leaf_len;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_interaction_node_list;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_interaction_leaf_list;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_n_node;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  int    cuda_n_leaf;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  void initCUDA() {   
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  void allocateCUDAarray(void** pos, int n) {
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMalloc((void**)pos, n));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUT_CHECK_ERROR("cudaMalloc failed!\n");
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  void deleteCUDAarray(void* pos) {
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaFree((void*)pos));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUT_CHECK_ERROR("cudaFree failed!\n");
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpy(device, host, n, cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUT_CHECK_ERROR("cudaMemcpy (host->device) failed!\n");
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpy(host, device, n, cudaMemcpyDeviceToHost));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUT_CHECK_ERROR("cudaMemcpy (device->host) failed!\n");
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:  void threadSync() { cudaThreadSynchronize(); }
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:	deleteCUDAarray((void*)(what)); \
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      allocateCUDAarray((void**)&(what),  max(int(1.3*(oldv)), (int)(newv)) ); \
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    bodies_pos_tex.addressMode[0] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    bodies_pos_tex.addressMode[1] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    bodies_pos_tex.filterMode     = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, bodies_pos_tex, bodies_pos, n_bodies_in * sizeof(float4)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    children_tex.addressMode[0] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    children_tex.addressMode[1] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    children_tex.filterMode     = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, children_tex, children, n_children * sizeof(int4)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_bodies_offset_tex.addressMode[0] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_bodies_offset_tex.addressMode[1] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_bodies_offset_tex.filterMode     = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, node_bodies_offset_tex, node_bodies_offset, n_nodes_in * sizeof(int)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_bodies_offset_tex.addressMode[0] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_bodies_offset_tex.addressMode[1] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_bodies_offset_tex.filterMode     = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, cell_bodies_offset_tex, cell_bodies_offset, n_cells_in * sizeof(int)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_pos_tex.addressMode[0] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_pos_tex.addressMode[1] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_pos_tex.filterMode     = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, node_pos_tex, node_pos, n_nodes_in * sizeof(float4)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_com_tex.addressMode[0] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_com_tex.addressMode[1] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_com_tex.filterMode     = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, node_com_tex, node_com, n_nodes_in * sizeof(float4)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_Qu_tex.addressMode[0]  = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_Qu_tex.addressMode[1]  = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_Qu_tex.filterMode      = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, node_Qu_tex,  node_Qu,  n_nodes_in * sizeof(float4)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_Qd_tex.addressMode[0]  = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_Qd_tex.addressMode[1]  = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    node_Qd_tex.filterMode      = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, node_Qd_tex,  node_Qd,  n_nodes_in * sizeof(float4)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct1_tex.addressMode[0]  = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct1_tex.addressMode[1]  = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct1_tex.filterMode      = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, Oct1_tex,  Oct1,  n_nodes_in * sizeof(float4)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct2_tex.addressMode[0]  = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct2_tex.addressMode[1]  = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct2_tex.filterMode      = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, Oct2_tex,  Oct2,  n_nodes_in * sizeof(float4)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct3_tex.addressMode[0]  = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct3_tex.addressMode[1]  = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    Oct3_tex.filterMode      = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, Oct3_tex,  Oct3,  n_nodes_in * sizeof(float2)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    n_in_node_tex.addressMode[0] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    n_in_node_tex.addressMode[1] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    n_in_node_tex.filterMode     = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, n_in_node_tex, n_in_node, n_nodes_in * sizeof(int)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_pos_tex.addressMode[0] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_pos_tex.addressMode[1] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_pos_tex.filterMode     = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, cell_pos_tex, cell_pos, n_cells_in * sizeof(float4)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_com_tex.addressMode[0] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_com_tex.addressMode[1] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    cell_com_tex.filterMode     = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, cell_com_tex, cell_com, n_cells_in * sizeof(float4)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    n_in_cell_tex.addressMode[0] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    n_in_cell_tex.addressMode[1] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    n_in_cell_tex.filterMode     = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaBindTexture(0, n_in_cell_tex, n_in_cell, n_cells_in * sizeof(int)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:#if CUDART_VERSION < 5000
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("inv_opening_angle", &inv_opening_angle_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("softening_squared", &softening_squared_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("root_pos", &root_pos_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("root_com", &root_com_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("n_nodes", &n_nodes_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("n_cells", &n_cells_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("n_bodies", &n_bodies_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(inv_opening_angle, &inv_opening_angle_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(softening_squared, &softening_squared_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(root_pos, &root_pos_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(root_com, &root_com_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(n_nodes, &n_nodes_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(n_cells, &n_cells_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol(n_bodies, &n_bodies_in, 
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:				      cudaMemcpyHostToDevice));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_interaction_list_len, cuda_interaction_list_len, n_cells_in * sizeof(int3));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_interaction_list_len,  n_cells_in * sizeof(int3));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_interaction_node_len, cuda_interaction_node_len, n_cells_in * sizeof(int2));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_interaction_leaf_len, cuda_interaction_leaf_len, n_cells_in * sizeof(int2));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_interaction_node_len,  n_cells_in * sizeof(int2));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_interaction_leaf_len,  n_cells_in * sizeof(int2));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_interaction_node_list,  n_interacting_nodes_max  * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_interaction_leaf_list,  n_interacting_leaves_max * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_interaction_node_list, cuda_interaction_node_list, n_interacting_nodes_max  * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_interaction_leaf_list, cuda_interaction_leaf_list, n_interacting_leaves_max * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_n_node, cuda_n_node, n_bodies_in * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    SAFE_ALLOC(dev_n_leaf, cuda_n_leaf, n_bodies_in * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_n_node,  n_bodies_in * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     allocateCUDAarray((void**)&dev_n_leaf,  n_bodies_in * sizeof(int));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      interaction_node_tex.addressMode[0] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      interaction_node_tex.addressMode[1] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      interaction_node_tex.filterMode     = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      CUDA_SAFE_CALL(cudaBindTexture(0, interaction_node_tex, dev_interaction_node_list, n_interacting_nodes_max * sizeof(int)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      interaction_leaf_tex.addressMode[0] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      interaction_leaf_tex.addressMode[1] = cudaAddressModeWrap;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      interaction_leaf_tex.filterMode     = cudaFilterModePoint;
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      CUDA_SAFE_CALL(cudaBindTexture(0, interaction_leaf_tex, dev_interaction_leaf_list, n_interacting_leaves_max * sizeof(int)));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      CUDA_SAFE_CALL(cudaUnbindTexture(interaction_leaf_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:      CUDA_SAFE_CALL(cudaUnbindTexture(interaction_node_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(n_in_cell_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(cell_pos_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(cell_com_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(n_in_node_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(node_Qu_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(node_Qd_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(Oct1_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(Oct2_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(Oct3_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(node_com_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(node_pos_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(cell_bodies_offset_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(node_bodies_offset_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(children_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu:    CUDA_SAFE_CALL(cudaUnbindTexture(bodies_pos_tex));
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_n_node);
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_n_leaf);
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_interaction_list_len);
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_interaction_node_len);
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_interaction_leaf_len);
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_interaction_node_list);
src/amuse/community/octgrav/src/octgrav_v1.7d/host_evaluate_gravity.cu://     deleteCUDAarray((void*)dev_interaction_leaf_list);
src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:CUDA_TK  ?= /disks/koppoel1/CUDA23/cuda
src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:CFLAGS ?= $(OFLAGS)  -I$(CUDA_TK)/include
src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:NVCC      ?= $(CUDA_TK)/bin/nvcc
src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:#		--maxrregcount=32 -O0 -g -I$(CUDA_SDK)/common/inc
src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:#	 -Xcompiler "-fPIC" --maxrregcount=32  -O3 -I$(CUDA_SDK)/common/inc
src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:	CUDA_evaluate_gravity.o
src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib64 -L$(CUDA_TK)/lib
src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:CUDA_LIBS ?= -lcudart
src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:LIBS = $(CUDA_LIBDIRS) $(CUDA_LIBS)
src/amuse/community/octgrav/src/octgrav_v1.7d/Makefile:CUDA_evaluate_gravity.o: octgrav.h
src/amuse/community/octgrav/src/octgrav_v1.7d/nbint.cpp:// nbint: simple integrator to be linked with GPU-TreeCode octgrav
src/amuse/community/octgrav/src/octgrav_v1.7d/evaluate_gravity.cpp:      initCUDA();
src/amuse/community/octgrav/src/octgrav_v1.7d/evaluate_gravity.cpp:  allocate_cuda_memory();
src/amuse/community/octgrav/src/octgrav_v1.7d/evaluate_gravity.cpp:  double dt_cuda = CUDA_evaluate_gravity();
src/amuse/community/octgrav/src/octgrav_v1.7d/evaluate_gravity.cpp:  //fprintf(stderr, "dt_cuda= %lf\n", dt_cuda);
src/amuse/community/octgrav/src/octgrav_v1.7d/evaluate_gravity.cpp:  free_cuda_memory();
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> bodies_pos_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int4,   1, cudaReadModeElementType> children_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> cell_pos_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> cell_com_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int,    1, cudaReadModeElementType> n_in_cell_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> node_pos_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> node_com_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> node_Qu_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> node_Qd_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> Oct1_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float4, 1, cudaReadModeElementType> Oct2_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<float2, 1, cudaReadModeElementType> Oct3_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int,    1, cudaReadModeElementType> n_in_node_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int,    1, cudaReadModeElementType> node_bodies_offset_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int,    1, cudaReadModeElementType> cell_bodies_offset_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int,    1, cudaReadModeElementType> interaction_node_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/dev_octgrav_tex.cuh:texture<int,    1, cudaReadModeElementType> interaction_leaf_tex;
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:#include <cuda.h>
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:#if CUDA_VERSION < 3020
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:  void initCUDA();
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:  void allocateCUDAarray(void** pos, int n);
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:  void deleteCUDAarray(void* pos);
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:  double CUDA_evaluate_gravity();
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:  void allocate_cuda_memory();
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:  void free_cuda_memory();
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_interaction_list_len = 0;
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_interaction_node_len = 0;
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_interaction_leaf_len = 0;
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_interaction_node_list = 0;
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_interaction_leaf_list = 0;
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_n_node = 0;
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    cuda_n_leaf = 0;
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_interaction_list_len > 0) deleteCUDAarray((void*)dev_interaction_list_len);
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_interaction_node_len > 0) deleteCUDAarray((void*)dev_interaction_node_len);
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_interaction_leaf_len > 0) deleteCUDAarray((void*)dev_interaction_leaf_len);
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_interaction_node_list > 0) deleteCUDAarray((void*)dev_interaction_node_list);
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_interaction_leaf_list > 0) deleteCUDAarray((void*)dev_interaction_leaf_list);
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_n_node > 0) deleteCUDAarray((void*)dev_n_node);
src/amuse/community/octgrav/src/octgrav_v1.7d/octgrav.h:    if (cuda_n_leaf > 0) deleteCUDAarray((void*)dev_n_leaf);
src/amuse/community/bonsai/Makefile:CUDA_TK ?= /usr/local/cuda/
src/amuse/community/bonsai/Makefile:CUDA_LIBS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcuda 
src/amuse/community/bonsai/Makefile:#CXXFLAGS += -I$(CUDA_TK)/include
src/amuse/community/bonsai/Makefile:LIBS += $(CUDA_LIBS) $(LDFLAGS) $(CUDA_LIBDIRS) -L/usr/lib64/nvidia $(SC_MPI_CLIBS)
src/amuse/community/bonsai/Makefile:INCLUDES = -I$(CUDA_TK)/include $(SC_FLAGS)
src/amuse/community/bonsai/Makefile:$(CUDA_TK):
src/amuse/community/bonsai/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
src/amuse/community/bonsai/Makefile:	@echo "please set the CUDA_TK variable to the directory"
src/amuse/community/bonsai/Makefile:	@echo "where you installed CUDA"
src/amuse/community/bonsai/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
src/amuse/community/bonsai/Makefile:compile: $(CUDA_TK) $(CODELIB) 
src/amuse/community/bonsai/Makefile:	make -C src all CXX="$(MPICXX)" CUDA_TK="$(CUDA_TK)" LD="$(MPICXX)" LDFLAGS="$(LIBS)" INCLUDES="$(INCLUDES)"
src/amuse/community/bonsai/deviceQuery.txt:/home/jbedorf/NVIDIA_GPU_Computing_SDK/C/bin/linux/release/deviceQuery Starting...
src/amuse/community/bonsai/deviceQuery.txt: CUDA Device Query (Runtime API) version (CUDART static linking)
src/amuse/community/bonsai/deviceQuery.txt:Found 2 CUDA Capable device(s)
src/amuse/community/bonsai/deviceQuery.txt:  CUDA Driver Version / Runtime Version          4.0 / 4.0
src/amuse/community/bonsai/deviceQuery.txt:  CUDA Capability Major/Minor version number:    2.0
src/amuse/community/bonsai/deviceQuery.txt:  (15) Multiprocessors x (32) CUDA Cores/MP:     480 CUDA Cores
src/amuse/community/bonsai/deviceQuery.txt:  GPU Clock Speed:                               1.40 GHz
src/amuse/community/bonsai/deviceQuery.txt:  Integrated GPU sharing Host Memory:            No
src/amuse/community/bonsai/deviceQuery.txt:     < Default (multiple host threads can use ::cudaSetDevice() with device simultaneously) >
src/amuse/community/bonsai/deviceQuery.txt:  CUDA Driver Version / Runtime Version          4.0 / 4.0
src/amuse/community/bonsai/deviceQuery.txt:  CUDA Capability Major/Minor version number:    2.0
src/amuse/community/bonsai/deviceQuery.txt:  (15) Multiprocessors x (32) CUDA Cores/MP:     480 CUDA Cores
src/amuse/community/bonsai/deviceQuery.txt:  GPU Clock Speed:                               1.40 GHz
src/amuse/community/bonsai/deviceQuery.txt:  Integrated GPU sharing Host Memory:            No
src/amuse/community/bonsai/deviceQuery.txt:     < Default (multiple host threads can use ::cudaSetDevice() with device simultaneously) >
src/amuse/community/bonsai/deviceQuery.txt:deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 4.0, CUDA Runtime Version = 4.0, NumDevs = 2, Device = GeForce GTX 480, Device = GeForce GTX 480
src/amuse/community/bonsai/SdkMasterLog.csv:deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 4.0, CUDA Runtime Version = 4.0, NumDevs = 2, Device = GeForce GTX 480, Device = GeForce GTX 480
src/amuse/community/bonsai/SdkMasterLog.csv:deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 4.0, CUDA Runtime Version = 4.0, NumDevs = 2, Device = GeForce GTX 480, Device = GeForce GTX 480
src/amuse/community/bonsai/src/Makefile-full:CUDA_TK  = /usr/local/cuda
src/amuse/community/bonsai/src/Makefile-full:CXXFLAGS =  -fPIC $(OFLAGS) -I$(CUDA_TK)/include 
src/amuse/community/bonsai/src/Makefile-full:# NVCC      = $(CUDA_TK)/bin/nvcc  --device-emulation
src/amuse/community/bonsai/src/Makefile-full:# NVCCFLAGS = -D_DEBUG -O0 -g -I$(CUDA_SDK)/common/inc -arch=sm_12 --maxrregcount=64  --opencc-options -OPT:Olimit=0 -I$(CUDPP)/cudpp/include
src/amuse/community/bonsai/src/Makefile-full:NVCC      = $(CUDA_TK)/bin/nvcc  
src/amuse/community/bonsai/src/Makefile-full:LDFLAGS = -lcuda -lOpenCL  
src/amuse/community/bonsai/src/Makefile-full:CUDAKERNELSPATH = CUDAkernels
src/amuse/community/bonsai/src/Makefile-full:CUDAKERNELS = build_tree.cu \
src/amuse/community/bonsai/src/Makefile-full:CUDAPTX = $(CUDAKERNELS:%.cu=%.ptx)
src/amuse/community/bonsai/src/Makefile-full:SRC = main.cpp octree.cpp load_kernels.cpp build.cpp compute_properties.cpp sort_bodies_gpu.cpp gpu_iterate.cpp parallel.cpp
src/amuse/community/bonsai/src/Makefile-full:all:	  $(OBJ) $(CUDAPTX) $(PROG)
src/amuse/community/bonsai/src/Makefile-full:kernels:  $(CUDAPTX)
src/amuse/community/bonsai/src/Makefile-full:%.ptx: $(CUDAKERNELSPATH)/%.cu
src/amuse/community/bonsai/src/Makefile-full:build_tree.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile-full:compute_properties.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile-full:compute_propertiesD.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile-full:dev_approximate_gravity.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile-full:dev_approximate_gravity_let.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile-full:timestep.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile-full:sortKernels.ptx: $(CUDAKERNELSPATH)/scanKernels.cu  $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile:CUDA_TK  ?= /usr/local/cuda
src/amuse/community/bonsai/src/Makefile:CXXFLAGS =  -fPIC $(OFLAGS) -I$(CUDA_TK)/include 
src/amuse/community/bonsai/src/Makefile:# NVCC      = $(CUDA_TK)/bin/nvcc  --device-emulation
src/amuse/community/bonsai/src/Makefile:# NVCCFLAGS = -D_DEBUG -O0 -g -I$(CUDA_SDK)/common/inc -arch=sm_12 --maxrregcount=64  --opencc-options -OPT:Olimit=0 -I$(CUDPP)/cudpp/include
src/amuse/community/bonsai/src/Makefile:NVCC      = $(CUDA_TK)/bin/nvcc  
src/amuse/community/bonsai/src/Makefile:LDFLAGS = -lcuda
src/amuse/community/bonsai/src/Makefile:CUDAKERNELSPATH = CUDAkernels
src/amuse/community/bonsai/src/Makefile:CUDAKERNELS = build_tree.cu \
src/amuse/community/bonsai/src/Makefile:CUDAPTX = $(CUDAKERNELS:%.cu=%.ptx)
src/amuse/community/bonsai/src/Makefile:SRC = main.cpp octree.cpp load_kernels.cpp build.cpp compute_properties.cpp sort_bodies_gpu.cpp gpu_iterate.cpp parallel.cpp libraryInterface.cpp
src/amuse/community/bonsai/src/Makefile:all:	  $(OBJ) $(CUDAPTX) $(PROG) $(CODELIB)
src/amuse/community/bonsai/src/Makefile:kernels:  $(CUDAPTX)
src/amuse/community/bonsai/src/Makefile:$(CODELIB): $(OBJ) $(CUDAPTX)
src/amuse/community/bonsai/src/Makefile:%.ptx: $(CUDAKERNELSPATH)/%.cu
src/amuse/community/bonsai/src/Makefile:build_tree.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile:compute_properties.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile:compute_propertiesD.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile:dev_approximate_gravity.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile:dev_approximate_gravity_let.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile:timestep.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile:sortKernels.ptx: $(CUDAKERNELSPATH)/scanKernels.cu  $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/Makefile:parallel.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/bonsai/src/include/my_ocl.h:#define __cuda_assign_operators(tag)
src/amuse/community/bonsai/src/include/my_ocl.h:  __cuda_assign_operators(float4)
src/amuse/community/bonsai/src/include/my_ocl.h:  __cuda_assign_operators(double2)
src/amuse/community/bonsai/src/include/my_ocl.h://Function made by NVIDIA
src/amuse/community/bonsai/src/include/my_ocl.h:    // open the OpenCL source code file
src/amuse/community/bonsai/src/include/my_ocl.h:    int create(std::ofstream &log, bool disableTiming = false, cl_device_type device_type = CL_DEVICE_TYPE_GPU)
src/amuse/community/bonsai/src/include/my_ocl.h:    int create(bool disableTiming = false, cl_device_type device_type = CL_DEVICE_TYPE_GPU) {
src/amuse/community/bonsai/src/include/my_ocl.h:      printf("Creating OpenCL context \n");
src/amuse/community/bonsai/src/include/my_ocl.h:      //Events work different in openCL than in CUDA
src/amuse/community/bonsai/src/include/my_ocl.h:      assert(pinned == false);  //Until we fix the mapped memory in openCL!
src/amuse/community/bonsai/src/include/my_ocl.h:      assert(pinned == false);  //TODO Until we fix the mapped memory in openCL!
src/amuse/community/bonsai/src/include/my_ocl.h:      assert(pinned == false);  //Until we fix the mapped memory in openCL!
src/amuse/community/bonsai/src/include/my_ocl.h:      //#pragma OPENCL EXTENSION cl_khr_fp64 : enable
src/amuse/community/bonsai/src/include/octree.h:#define USE_CUDA
src/amuse/community/bonsai/src/include/octree.h:#ifdef USE_CUDA
src/amuse/community/bonsai/src/include/octree.h:  #include "my_cuda.h"
src/amuse/community/bonsai/src/include/octree.h:  // OpenCL context
src/amuse/community/bonsai/src/include/octree.h:  //GPU kernels and functions
src/amuse/community/bonsai/src/include/octree.h:  void gpuCompact(my_dev::context&, my_dev::dev_mem<uint> &srcValues,
src/amuse/community/bonsai/src/include/octree.h:  void gpuSplit(my_dev::context&, my_dev::dev_mem<uint> &srcValues,
src/amuse/community/bonsai/src/include/octree.h:  void gpuSort(my_dev::context &devContext,
src/amuse/community/bonsai/src/include/octree.h:  void gpuSort_32b(my_dev::context &devContext,
src/amuse/community/bonsai/src/include/octree.h:  void gpu_collect_sample_particles(int nSample, real4 *sampleParticles);
src/amuse/community/bonsai/src/include/octree.h:  void gpu_updateDomainDistribution(double timeLocal);
src/amuse/community/bonsai/src/include/octree.h:  void gpu_updateDomainOnly();
src/amuse/community/bonsai/src/include/octree.h:  int  gpu_exchange_particles_with_overflow_check(tree_structure &tree, bodyStruct *particlesToSend, my_dev::dev_mem<uint> &extractList, int nToSend);
src/amuse/community/bonsai/src/include/octree.h:  void gpuRedistributeParticles();
src/amuse/community/bonsai/src/include/octree.h:    devID = procId % getNumberOfCUDADevices();
src/amuse/community/bonsai/src/include/my_cuda.h:#ifndef _MY_CUDA_H_
src/amuse/community/bonsai/src/include/my_cuda.h:#define _MY_CUDA_H_
src/amuse/community/bonsai/src/include/my_cuda.h://   __cuda_assign_operators(float4)
src/amuse/community/bonsai/src/include/my_cuda.h:#include <cuda.h>
src/amuse/community/bonsai/src/include/my_cuda.h://Function made by NVIDIA
src/amuse/community/bonsai/src/include/my_cuda.h:    // open the OpenCL source code file
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_SUCCESS : return "CUDA_SUCCESS";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_INVALID_VALUE : return "CUDA_ERROR_INVALID_VALUE";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_OUT_OF_MEMORY : return "CUDA_ERROR_OUT_OF_MEMORY";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_NOT_INITIALIZED : return "CUDA_ERROR_NOT_INITIALIZED";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_DEINITIALIZED : return "CUDA_ERROR_DEINITIALIZED";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_NO_DEVICE : return "CUDA_ERROR_NO_DEVICE";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_INVALID_DEVICE : return "CUDA_ERROR_INVALID_DEVICE";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_INVALID_IMAGE : return "CUDA_ERROR_INVALID_IMAGE";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_INVALID_CONTEXT : return "CUDA_ERROR_INVALID_CONTEXT";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_CONTEXT_ALREADY_CURRENT : return "CUDA_ERROR_CONTEXT_ALREADY_CURRENT";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_MAP_FAILED : return "CUDA_ERROR_MAP_FAILED";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_UNMAP_FAILED : return "CUDA_ERROR_UNMAP_FAILED";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_ARRAY_IS_MAPPED : return "CUDA_ERROR_ARRAY_IS_MAPPED";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_ALREADY_MAPPED : return "CUDA_ERROR_ALREADY_MAPPED";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_NO_BINARY_FOR_GPU : return "CUDA_ERROR_NO_BINARY_FOR_GPU";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_ALREADY_ACQUIRED : return "CUDA_ERROR_ALREADY_ACQUIRED";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_NOT_MAPPED : return "CUDA_ERROR_NOT_MAPPED";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_INVALID_SOURCE : return "CUDA_ERROR_INVALID SOURCE";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_FILE_NOT_FOUND : return "CUDA_ERROR_FILE_NOT_FOUND";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_INVALID_HANDLE : return "CASE_ERROR_INVALID_HANDLE";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_NOT_FOUND : return "CUDA_ERROR_NOT_FOUND";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_NOT_READY : return "CUDA_ERROR_NOT_READY";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_FAILED : return "CUDA_ERROR_LAUNCH_FAILED";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_OUT_OF_RESOURCES : return "CUDA_ERROR_LAUNCH_OUT_OF_RESOUCES";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_TIMEOUT : return "CUDA_ERROR_LAUNCH_TIMEOUT";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING : return "CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING";
src/amuse/community/bonsai/src/include/my_cuda.h:        case CUDA_ERROR_UNKNOWN : return "CUDA_ERROR_UNKNOWN";
src/amuse/community/bonsai/src/include/my_cuda.h:    if( CUDA_SUCCESS != err) {                                               \
src/amuse/community/bonsai/src/include/my_cuda.h:        fprintf(stderr, "Cuda driver error <%s> in file '%s' in line %i.\n",   \
src/amuse/community/bonsai/src/include/my_cuda.h:    if( CUDA_SUCCESS != err) {                                               \
src/amuse/community/bonsai/src/include/my_cuda.h:        fprintf(stderr, "Cuda driver error <%s> in file '%s' in line %i. (Kernel: %s)\n",   \
src/amuse/community/bonsai/src/include/my_cuda.h://OpenCL to CUDA macro / functions
src/amuse/community/bonsai/src/include/my_cuda.h:    static int getNumberOfCUDADevices()
src/amuse/community/bonsai/src/include/my_cuda.h:      // Get number of devices supporting CUDA
src/amuse/community/bonsai/src/include/my_cuda.h:      printf("Creating CUDA context \n");
src/amuse/community/bonsai/src/include/my_cuda.h:      // Get number of devices supporting CUDA
src/amuse/community/bonsai/src/include/my_cuda.h:      if(res != CUDA_SUCCESS)
src/amuse/community/bonsai/src/include/my_cuda.h:                if(cuCtxCreate(&hContext, ctxCreateFlags, hDevice) != CUDA_SUCCESS)
src/amuse/community/bonsai/src/include/my_cuda.h:        if(res == CUDA_SUCCESS) return true;
src/amuse/community/bonsai/src/include/my_cuda.h:        if(res == CUDA_ERROR_NOT_READY) return false;
src/amuse/community/bonsai/src/include/my_cuda.h:    void cuda_free() {      
src/amuse/community/bonsai/src/include/my_cuda.h:    } //cuda_free
src/amuse/community/bonsai/src/include/my_cuda.h:    //CUDA has no memory flags like opencl
src/amuse/community/bonsai/src/include/my_cuda.h:      cuda_free();
src/amuse/community/bonsai/src/include/my_cuda.h:        cuda_free();
src/amuse/community/bonsai/src/include/my_cuda.h:    void cmalloc_copy(bool pinned, bool flags, CUdeviceptr cudaMem, 
src/amuse/community/bonsai/src/include/my_cuda.h:      hDeviceMem   = cudaMem + offset*sizeof(uint) + allignOffset*sizeof(uint);
src/amuse/community/bonsai/src/include/my_cuda.h:      if (size > 0) cuda_free();
src/amuse/community/bonsai/src/include/my_cuda.h:      if (size > 0) cuda_free();
src/amuse/community/bonsai/src/include/my_cuda.h:      //Not implemented in CUDA
src/amuse/community/bonsai/src/include/my_cuda.h:      if (size > 0) cuda_free();
src/amuse/community/bonsai/src/include/my_cuda.h:      printf("TODO: This function does NOT copy memory in CUDA!! \n");      
src/amuse/community/bonsai/src/include/my_cuda.h:	cuda_free();
src/amuse/community/bonsai/src/include/my_cuda.h:      //In cuda version we assume that the code is already compiled into ptx
src/amuse/community/bonsai/src/include/my_cuda.h:       CUDA8 fix, do not check for Fermi anymore, it is no longer supported
src/amuse/community/bonsai/src/include/my_cuda.h:    //NVIDIA macro
src/amuse/community/bonsai/src/include/my_cuda.h:    //Cuda does not have a function like clSetKernelArg
src/amuse/community/bonsai/src/include/my_cuda.h:      //Since the values between CUDA and OpenCL differ:
src/amuse/community/bonsai/src/include/my_cuda.h:      //Cuda is specific size of each block, while OpenCL
src/amuse/community/bonsai/src/include/my_cuda.h:}     // end of namespace my_cuda
src/amuse/community/bonsai/src/include/my_cuda.h:#endif // _MY_CUDA_H_
src/amuse/community/bonsai/src/include/node_specs.h:#define TREE_WALK_BLOCKS_PER_SM    8           //Number of GPU thread-blocks used for tree-walk
src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texNodeSize;
src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texMultipole;
src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texBody;
src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity_let.cu:        if(n_nodes0 > 0){//Work around pre CUDA 4.1 compiler bug
src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity_let.cu:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
src/amuse/community/bonsai/src/CUDAkernels/build_tree.cu:// //#include "/home/jbedorf/papers/GBPZ2010/codes/jb/build_tree/CUDA/support_kernels.cu"
src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texNodeSize;
src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texMultipole;
src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texBody;
src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity.cu:  //float ids  = (1.0f / sqrtf(ds2)) * selfGrav; Slower in Pre CUDA4.1
src/amuse/community/bonsai/src/CUDAkernels/dev_approximate_gravity.cu:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
src/amuse/community/bonsai/src/src/gpu_iterate.cpp:          gpu_updateDomainDistribution(lastGravTime);          
src/amuse/community/bonsai/src/src/gpu_iterate.cpp:          gpuRedistributeParticles();
src/amuse/community/bonsai/src/src/gpu_iterate.cpp:          gpu_updateDomainOnly();
src/amuse/community/bonsai/src/src/gpu_iterate.cpp:  gpuCompact(devContext, tree.activeGrpList, tree.active_group_list,
src/amuse/community/bonsai/src/src/gpu_iterate.cpp:  gpuCompact(devContext, tree.activeGrpList, tree.active_group_list,
src/amuse/community/bonsai/src/src/gpu_iterate.cpp:    gpuCompact(devContext, pairDetectionBuffer, compactPairDetectionBuffer,
src/amuse/community/bonsai/src/src/load_kernels.cpp:#ifdef USE_CUDA
src/amuse/community/bonsai/src/src/load_kernels.cpp:  compactCount.load_source("scanKernels.cl", "OpenCLKernels");
src/amuse/community/bonsai/src/src/load_kernels.cpp:  exScanBlock.load_source("scanKernels.cl", "OpenCLKernels");
src/amuse/community/bonsai/src/src/load_kernels.cpp:  compactMove.load_source("scanKernels.cl", "OpenCLKernels");
src/amuse/community/bonsai/src/src/load_kernels.cpp:  splitMove.load_source("scanKernels.cl", "OpenCLKernels");
src/amuse/community/bonsai/src/src/load_kernels.cpp:#ifdef USE_CUDA
src/amuse/community/bonsai/src/src/load_kernels.cpp:#ifdef USE_CUDA
src/amuse/community/bonsai/src/src/load_kernels.cpp:#ifdef USE_CUDA
src/amuse/community/bonsai/src/src/load_kernels.cpp:#ifdef USE_CUDA
src/amuse/community/bonsai/src/src/load_kernels.cpp:void octree::gpuCompact(my_dev::context &devContext, 
src/amuse/community/bonsai/src/src/load_kernels.cpp:  // In the next step we associate the GPU memory with the Kernel arguments
src/amuse/community/bonsai/src/src/load_kernels.cpp:  #ifdef USE_CUDA
src/amuse/community/bonsai/src/src/load_kernels.cpp:void octree::gpuSplit(my_dev::context &devContext, 
src/amuse/community/bonsai/src/src/load_kernels.cpp:  // In the next step we associate the GPU memory with the Kernel arguments
src/amuse/community/bonsai/src/src/load_kernels.cpp:  #ifdef USE_CUDA
src/amuse/community/bonsai/src/src/load_kernels.cpp:void  octree::gpuSort(my_dev::context &devContext,
src/amuse/community/bonsai/src/src/load_kernels.cpp:  gpuSort_32b(devContext, 
src/amuse/community/bonsai/src/src/load_kernels.cpp:  gpuSort_32b(devContext, 
src/amuse/community/bonsai/src/src/load_kernels.cpp:  gpuSort_32b(devContext, 
src/amuse/community/bonsai/src/src/load_kernels.cpp:void octree::gpuSort_32b(my_dev::context &devContext, 
src/amuse/community/bonsai/src/src/load_kernels.cpp:  #ifdef USE_CUDA
src/amuse/community/bonsai/src/src/main.cpp:Bonsai V2: A parallel GPU N-body gravitational Tree-code
src/amuse/community/bonsai/src/src/main.cpp:  string logFileName    = "gpuLog.log";
src/amuse/community/bonsai/src/src/main.cpp:    cout << "\t-[gpulogfile  (gpuLog.log is default)] \n";
src/amuse/community/bonsai/src/src/main.cpp:  char *gpu_prof_log;
src/amuse/community/bonsai/src/src/main.cpp:  gpu_prof_log=getenv("CUDA_PROFILE_LOG");
src/amuse/community/bonsai/src/src/main.cpp:  if(gpu_prof_log){
src/amuse/community/bonsai/src/src/main.cpp:    sprintf(tmp,"process%d_%s",procId,gpu_prof_log);
src/amuse/community/bonsai/src/src/main.cpp:    setenv("CUDA_PROFILE_LOG",tmp,1);
src/amuse/community/bonsai/src/src/sort_bodies_gpu.cpp:  //We assume the bodies are already onthe GPU
src/amuse/community/bonsai/src/src/sort_bodies_gpu.cpp:  //Call the GPUSort function, since we made it general 
src/amuse/community/bonsai/src/src/sort_bodies_gpu.cpp:  gpuSort(devContext, srcValues, output, srcValues, tree.n, 32, 3, tree);
src/amuse/community/bonsai/src/src/parallel.cpp:void octree::gpu_collect_sample_particles(int nSample, real4 *sampleParticles)
src/amuse/community/bonsai/src/src/parallel.cpp:void octree::gpu_updateDomainOnly()
src/amuse/community/bonsai/src/src/parallel.cpp:void octree::gpu_updateDomainDistribution(double timeLocal)
src/amuse/community/bonsai/src/src/parallel.cpp:  gpu_collect_sample_particles(nSamples, &samplePositions[0]);
src/amuse/community/bonsai/src/src/parallel.cpp:  printf("Benodigde gpu malloc tijd stap 1: %lg \t Size: %d \tRank: %d \t Size: %d \n", 
src/amuse/community/bonsai/src/src/parallel.cpp:  printf("Required gpu malloc time step 2: %lg \n", get_time()-t1);
src/amuse/community/bonsai/src/src/parallel.cpp:  printf("Total GPU interaction time: %lg \n", get_time()-t2);
src/amuse/community/bonsai/src/src/parallel.cpp://Function that uses the GPU to get a set of particles that have to be 
src/amuse/community/bonsai/src/src/parallel.cpp:void octree::gpuRedistributeParticles()
src/amuse/community/bonsai/src/src/parallel.cpp:  gpuSplit(devContext, validList, compactList, localTree.n, &validCount);                 
src/amuse/community/bonsai/src/src/parallel.cpp:  this->gpu_exchange_particles_with_overflow_check(localTree, &bodyBuffer[0], compactList, validCount);  
src/amuse/community/bonsai/src/src/parallel.cpp:} //End gpuRedistributeParticles
src/amuse/community/bonsai/src/src/parallel.cpp:int octree::gpu_exchange_particles_with_overflow_check(tree_structure &tree, 
src/amuse/community/bonsai/src/src/parallel.cpp:      //Copy the data from the MPI receive buffers into the GPU-send buffer
src/amuse/community/bonsai/src/src/parallel.cpp://   printf("Benodigde gpu malloc tijd stap 1: %lg \t Size: %d \tRank: %d \t Size: %d \n", 
src/amuse/community/bonsai/src/src/parallel.cpp://   printf("Benodigde gpu malloc tijd stap 2: %lg \n", get_time()-t1);
src/amuse/community/bonsai/src/src/parallel.cpp://   printf("Totale GPU interactie tijd: %lg \n", get_time()-t2);
src/amuse/community/bonsai/src/src/parallel.cpp:      //This determines if we interrupt the exchange by starting a gravity kernel on the GPU
src/amuse/community/bonsai/src/src/build.cpp:    //gpuCompact to get number of created nodes    
src/amuse/community/bonsai/src/src/build.cpp:    gpuCompact(devContext, validList, compactList, tree.n*2, &validCount);
src/amuse/community/bonsai/src/src/build.cpp:  gpuSplit(devContext, validList, tree.leafNodeIdx, tree.n_nodes, &tree.n_leafs);     
src/amuse/community/bonsai/src/src/build.cpp:  gpuCompact(devContext, validList, tree.node_level_list, 
src/amuse/community/bonsai/src/src/build.cpp:  //gpuCompact    
src/amuse/community/bonsai/src/src/build.cpp:  gpuCompact(devContext, validList, compactList, tree.n*2, &validCount);
src/amuse/community/bonsai/src/src/compute_properties.cpp:  #ifdef USE_CUDA
src/amuse/community/bonsai/src/src/sort_keys.cpp:  // In the next step we associate the GPU memory with the Kernel arguments
src/amuse/community/kepler_orbiters/src/universal_kepler_solver.h:    #ifndef CONFIG_USE_OPENCL
src/amuse/community/kepler_orbiters/src/universal_kepler_solver.h:        #ifndef CONFIG_USE_OPENCL
src/amuse/community/kepler_orbiters/src/universal_kepler_solver.h:    #ifndef CONFIG_USE_OPENCL
src/amuse/community/kepler_orbiters/src/Makefile:GPU	  = -DGPU
src/amuse/community/sphray/src/gadget_owls_input.F90:#ifdef incCloudy
src/amuse/community/sphray/src/main_input.F90:        call read_Gpublic_particles()
src/amuse/community/sphray/src/main_input.F90:        call read_Gpubhdf5_particles()
src/amuse/community/sphray/src/gadget_vbromm_input.F90:!        call ghead%read_Gpublic_header_file(snapfile)
src/amuse/community/sphray/src/gadget_vbromm_input.F90:!        call ghead%print_Gpublic_header_lun(loglun)
src/amuse/community/sphray/src/gadget_vbromm_input.F90:!        call saved_gheads(i,j)%copy_Gpublic_header(ghead)
src/amuse/community/sphray/src/output.F90:#ifdef incCloudy
src/amuse/community/sphray/src/output.F90:#ifdef incCloudy
src/amuse/community/sphray/src/output.F90:#ifdef incCloudy
src/amuse/community/sphray/src/update_particles.F90:     call read_Gpublic_particles()
src/amuse/community/sphray/src/update_particles.F90:     call read_Gpubhdf5_particles()
src/amuse/community/sphray/src/Makefile:#OPT += -DincCloudy  # store CLOUDY eq. ionization values for particles
src/amuse/community/sphray/src/Makefile:   OPT += -DincCloudy
src/amuse/community/sphray/src/Makefile:   OPT += -DincCloudy
src/amuse/community/sphray/src/sphpar.F90:#ifdef incCloudy
src/amuse/community/sphray/src/sphpar.F90:#ifdef incCloudy
src/amuse/community/sphray/src/gadget_public_input.F90:public :: read_Gpublic_particles
src/amuse/community/sphray/src/gadget_public_input.F90:!        call ghead%read_Gpublic_header_file(snapfile)
src/amuse/community/sphray/src/gadget_public_input.F90:!        call ghead%print_Gpublic_header_lun(loglun)
src/amuse/community/sphray/src/gadget_public_input.F90:!        call saved_gheads(i,j)%copy_Gpublic_header(ghead)
src/amuse/community/sphray/src/gadget_public_input.F90:subroutine read_Gpublic_particles()
src/amuse/community/sphray/src/gadget_public_input.F90:  character(clen), parameter :: myname="read_Gpublic_particles"
src/amuse/community/sphray/src/gadget_public_input.F90:end subroutine read_Gpublic_particles
src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:public :: read_Gpubhdf5_particles
src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:  subroutine read_Gpubhdf5_particles()
src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:  end subroutine read_Gpubhdf5_particles
src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:!          call ghead%read_Gpublic_header_hdf5_file(snapfile)
src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:!          call ghead%print_Gpublic_header_lun(loglun)
src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:!          call saved_gheads(i,j)%copy_Gpublic_header(ghead)
src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:  subroutine read_Gpubhdf5_particles()
src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:    character(clen), parameter :: myname="read_Gpubhdf5_particles" 
src/amuse/community/sphray/src/gadget_public_input_hdf5.F90:  end subroutine read_Gpubhdf5_particles
src/amuse/community/sphray/src/MakefileTemplate:#OPT += -DincCloudy  # store CLOUDY eq. ionization values for particles
src/amuse/community/sphray/src/MakefileTemplate:   OPT += -DincCloudy
src/amuse/community/sphray/src/MakefileTemplate:   OPT += -DincCloudy
src/amuse/community/sphray/src/particle_system.F90:#ifdef incCloudy
src/amuse/community/sphray/src/particle_system.F90:#ifdef incCloudy
src/amuse/community/sphray/src/particle_system.F90:#ifdef incCloudy
src/amuse/community/pikachu/interface.py:    .. [#] ... "GPU-enabled particle-particle particle-tree scheme for simulating dense stellar cluster system")
src/amuse/community/pikachu/Makefile:CUDA_LIBS ?= -lcuda -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcudart
src/amuse/community/pikachu/Makefile:CUDA_INC = -I$(CUDA_TK)/include
src/amuse/community/pikachu/Makefile:CODELIB_GPU = src/libpikachu_gpu.a
src/amuse/community/pikachu/Makefile:CODELIB_GPU_LARGE_N = src/libpikachu_gpu_large_n.a
src/amuse/community/pikachu/Makefile:all: $(CUDA_TK) pikachu_worker 
src/amuse/community/pikachu/Makefile:$(CUDA_TK):
src/amuse/community/pikachu/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
src/amuse/community/pikachu/Makefile:	@echo "please set the CUDA_TK variable to the directory"
src/amuse/community/pikachu/Makefile:	@echo "where you installed CUDA"
src/amuse/community/pikachu/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
src/amuse/community/pikachu/Makefile:$(CODELIB_GPU):
src/amuse/community/pikachu/Makefile:$(CODELIB_GPU_LARGE_N): $(CODELIB_GPU)
src/amuse/community/pikachu/Makefile:pikachu_worker: worker_code.cc worker_code.h $(CODELIB_GPU) $(OBJ)
src/amuse/community/pikachu/Makefile:	$(MPICXX) $(CXXFLAGS) $(SC_FLAGS) $(LDFLAGS) -I./src $< -o $@ $(OBJ) $(CODELIB_GPU) $(SC_CLIBS) $(SEQUOIA_LIBS) $(CUDA_LIBS)  $(LIBS)
src/amuse/community/pikachu/Makefile:pikachu_worker_large_n: worker_code.cc worker_code.h $(CODELIB_GPU_LARGE_N) $(LARGE_N_OBJ)
src/amuse/community/pikachu/Makefile:	$(MPICXX) $(CXXFLAGS) $(SC_FLAGS) $(LDFLAGS) -I./src $< -o $@ $(LARGE_N_OBJ) $(CODELIB_GPU_LARGE_N) $(SC_CLIBS) $(SEQUOIA_LIBS) $(CUDA_LIBS)  $(LIBS)
src/amuse/community/pikachu/Makefile:	$(MPICXX) $(CXXFLAGS) -DSMALL $(SEQUOIA_INC) $(CUDA_INC) $(SC_FLAGS) -I./src -c -o $@ $< 
src/amuse/community/pikachu/Makefile:	$(MPICXX) $(CXXFLAGS) $(SEQUOIA_INC) $(CUDA_INC) $(SC_FLAGS) -I./src -c -o $@ $< 
src/amuse/community/pikachu/src/system.h:#include"my_cuda.h"
src/amuse/community/pikachu/src/sequoia/Makefile:CUDA_TK ?= /usr/local/cuda
src/amuse/community/pikachu/src/sequoia/Makefile:CXXFLAGS +=  -fPIC $(OFLAGS) -I$(CUDA_TK)/include 
src/amuse/community/pikachu/src/sequoia/Makefile:# NVCC      = $(CUDA_TK)/bin/nvcc  --device-emulation
src/amuse/community/pikachu/src/sequoia/Makefile:# NVCCFLAGS = -D_DEBUG -O0 -g -I$(CUDA_SDK)/common/inc -arch=sm_12 --maxrregcount=64  --opencc-options -OPT:Olimit=0 -I$(CUDPP)/cudpp/include
src/amuse/community/pikachu/src/sequoia/Makefile:NVCC ?= $(CUDA_TK)/bin/nvcc  
src/amuse/community/pikachu/src/sequoia/Makefile:#LDFLAGS = -lcuda -lOpenCL  
src/amuse/community/pikachu/src/sequoia/Makefile:LDFLAGS += -lcuda -lOpenCL -fopenmp 
src/amuse/community/pikachu/src/sequoia/Makefile:CUDAKERNELSPATH = CUDAkernels
src/amuse/community/pikachu/src/sequoia/Makefile:#CUDAKERNELSPATH = CUDA
src/amuse/community/pikachu/src/sequoia/Makefile:#CUDAKERNELS = build_tree.cu \
src/amuse/community/pikachu/src/sequoia/Makefile:CUDAKERNELS = build_tree.cu \
src/amuse/community/pikachu/src/sequoia/Makefile:CUDAPTX = $(CUDAKERNELS:%.cu=%.ptx)
src/amuse/community/pikachu/src/sequoia/Makefile:#SRC = main.cpp octree.cpp load_kernels.cpp scanFunctions.cpp build.cpp compute_properties.cpp sort_bodies_gpu.cpp gpu_iterate.cpp parallel.cpp libraryInterface.cpp
src/amuse/community/pikachu/src/sequoia/Makefile:SRC = octree.cpp load_kernels.cpp scanFunctions.cpp sort_bodies_gpu.cpp sequoiaInterface.cpp build.cpp compute_properties.cpp useTreeFunctions.cpp
src/amuse/community/pikachu/src/sequoia/Makefile:#all:	  $(OBJ) $(CUDAPTX) $(PROG) $(CODELIB)
src/amuse/community/pikachu/src/sequoia/Makefile:all:	  $(OBJ) $(CUDAPTX) $(CODELIB)
src/amuse/community/pikachu/src/sequoia/Makefile:kernels:  $(CUDAPTX)
src/amuse/community/pikachu/src/sequoia/Makefile:$(CODELIB): $(OBJ) $(CUDAPTX)
src/amuse/community/pikachu/src/sequoia/Makefile:%.ptx: $(CUDAKERNELSPATH)/%.cu
src/amuse/community/pikachu/src/sequoia/Makefile:build_tree.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/pikachu/src/sequoia/Makefile:compute_properties.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/pikachu/src/sequoia/Makefile:compute_propertiesD.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/pikachu/src/sequoia/Makefile:dev_approximate_gravity.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(CUDAKERNELSPATH)/dev_shared_traverse_functions.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/pikachu/src/sequoia/Makefile:#dev_approximate_gravity_let.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/pikachu/src/sequoia/Makefile:timestep.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/pikachu/src/sequoia/Makefile:sortKernels.ptx: $(CUDAKERNELSPATH)/scanKernels.cu  $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/pikachu/src/sequoia/Makefile:parallel.ptx: $(CUDAKERNELSPATH)/support_kernels.cu $(INCLUDEPATH)/node_specs.h
src/amuse/community/pikachu/src/sequoia/include/octree.h:#define USE_CUDA
src/amuse/community/pikachu/src/sequoia/include/octree.h:#ifdef USE_CUDA
src/amuse/community/pikachu/src/sequoia/include/octree.h:  #include "my_cuda.h"
src/amuse/community/pikachu/src/sequoia/include/octree.h:  //GPU kernels and functions
src/amuse/community/pikachu/src/sequoia/include/octree.h:  void gpuCompact(my_dev::context&, my_dev::dev_mem<uint> &srcValues,
src/amuse/community/pikachu/src/sequoia/include/octree.h:  void gpuSplit(my_dev::context&, my_dev::dev_mem<uint> &srcValues,
src/amuse/community/pikachu/src/sequoia/include/octree.h:  void gpuSort(my_dev::context &devContext,
src/amuse/community/pikachu/src/sequoia/include/octree.h:  void gpuSort_32b(my_dev::context &devContext,
src/amuse/community/pikachu/src/sequoia/include/octree.h:	//    devID = procId % getNumberOfCUDADevices();
src/amuse/community/pikachu/src/sequoia/include/octree.h:	getNumberOfCUDADevices();  //Stop compiler warnings
src/amuse/community/pikachu/src/sequoia/include/octree.h:	//    devID = procId % getNumberOfCUDADevices();
src/amuse/community/pikachu/src/sequoia/include/octree.h:	getNumberOfCUDADevices();  //Stop compiler warnings
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:#ifndef _MY_CUDA_H_
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:#define _MY_CUDA_H_
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h://   __cuda_assign_operators(float4)
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:#include <cuda.h>
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h://Function made by NVIDIA
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    // open the OpenCL source code file
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_SUCCESS : return "CUDA_SUCCESS";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_INVALID_VALUE : return "CUDA_ERROR_INVALID_VALUE";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_OUT_OF_MEMORY : return "CUDA_ERROR_OUT_OF_MEMORY";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_NOT_INITIALIZED : return "CUDA_ERROR_NOT_INITIALIZED";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_DEINITIALIZED : return "CUDA_ERROR_DEINITIALIZED";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_NO_DEVICE : return "CUDA_ERROR_NO_DEVICE";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_INVALID_DEVICE : return "CUDA_ERROR_INVALID_DEVICE";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_INVALID_IMAGE : return "CUDA_ERROR_INVALID_IMAGE";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_INVALID_CONTEXT : return "CUDA_ERROR_INVALID_CONTEXT";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_CONTEXT_ALREADY_CURRENT : return "CUDA_ERROR_CONTEXT_ALREADY_CURRENT";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_MAP_FAILED : return "CUDA_ERROR_MAP_FAILED";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_UNMAP_FAILED : return "CUDA_ERROR_UNMAP_FAILED";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_ARRAY_IS_MAPPED : return "CUDA_ERROR_ARRAY_IS_MAPPED";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_ALREADY_MAPPED : return "CUDA_ERROR_ALREADY_MAPPED";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_NO_BINARY_FOR_GPU : return "CUDA_ERROR_NO_BINARY_FOR_GPU";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_ALREADY_ACQUIRED : return "CUDA_ERROR_ALREADY_ACQUIRED";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_NOT_MAPPED : return "CUDA_ERROR_NOT_MAPPED";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_INVALID_SOURCE : return "CUDA_ERROR_INVALID SOURCE";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_FILE_NOT_FOUND : return "CUDA_ERROR_FILE_NOT_FOUND";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_INVALID_HANDLE : return "CASE_ERROR_INVALID_HANDLE";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_NOT_FOUND : return "CUDA_ERROR_NOT_FOUND";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_NOT_READY : return "CUDA_ERROR_NOT_READY";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_FAILED : return "CUDA_ERROR_LAUNCH_FAILED";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_OUT_OF_RESOURCES : return "CUDA_ERROR_LAUNCH_OUT_OF_RESOUCES";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_TIMEOUT : return "CUDA_ERROR_LAUNCH_TIMEOUT";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING : return "CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        case CUDA_ERROR_UNKNOWN : return "CUDA_ERROR_UNKNOWN";
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    if( CUDA_SUCCESS != err) {                                               \
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        fprintf(stderr, "Cuda driver error <%s> in file '%s' in line %i.\n",   \
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    if( CUDA_SUCCESS != err) {                                               \
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        fprintf(stderr, "Cuda driver error <%s> in file '%s' in line %i. (Kernel: %s)\n",   \
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h://OpenCL to CUDA macro / functions
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    static int getNumberOfCUDADevices()
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      // Get number of devices supporting CUDA
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      printf("Creating CUDA context \n");
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      // Get number of devices supporting CUDA
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      if(res != CUDA_SUCCESS)
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:                if(cuCtxCreate(&hContext, ctxCreateFlags, hDevice) != CUDA_SUCCESS)
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        if(res == CUDA_SUCCESS) return true;
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        if(res == CUDA_ERROR_NOT_READY) return false;
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    void cuda_free() {      
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    } //cuda_free
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    //CUDA has no memory flags like opencl
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      cuda_free();
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        cuda_free();
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    void cmalloc_copy(bool pinned, bool flags, CUdeviceptr cudaMem, 
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      hDeviceMem   = cudaMem + offset*sizeof(uint) + allignOffset*sizeof(uint);
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      if (size > 0) cuda_free();
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      if (size > 0) cuda_free();
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      //Not implemented in CUDA
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      if (size > 0) cuda_free();
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      printf("TODO: This function does NOT copy memory in CUDA!! \n");      
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:	cuda_free();
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      //In cuda version we assume that the code is already compiled into ptx
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:        CUDA8 fix, do not check for Fermi anymore, it is no longer supported
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    //NVIDIA macro
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:    //Cuda does not have a function like clSetKernelArg
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      //Since the values between CUDA and OpenCL differ:
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:      //Cuda is specific size of each block, while OpenCL
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:}     // end of namespace my_cuda
src/amuse/community/pikachu/src/sequoia/include/my_cuda.h:#endif // _MY_CUDA_H_
src/amuse/community/pikachu/src/sequoia/include/node_specs.h:#define TREE_WALK_BLOCKS_PER_SM    8           //Number of GPU thread-blocks used for tree-walk
src/amuse/community/pikachu/src/sequoia/include/sequoiaInterface.h:#define USE_CUDA
src/amuse/community/pikachu/src/sequoia/include/sequoiaInterface.h:#ifdef USE_CUDA
src/amuse/community/pikachu/src/sequoia/include/sequoiaInterface.h:  #include "my_cuda.h"
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texNodeSize;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texMultipole;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity_let.cu:texture<float4, 1, cudaReadModeElementType> texBody;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity_let.cu:        if(n_nodes0 > 0){//Work around pre CUDA 4.1 compiler bug
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity_let.cu:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_get_ngb.cu:texture<float4, 1, cudaReadModeElementType> texNodeSize;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_get_ngb.cu:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_get_ngb.cu:texture<float4, 1, cudaReadModeElementType> texMultipole;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_get_ngb.cu:texture<float4, 1, cudaReadModeElementType> texBody;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/build_tree.cu:// //#include "/home/jbedorf/papers/GBPZ2010/codes/jb/build_tree/CUDA/support_kernels.cu"
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ids:texture<float4, 1, cudaReadModeElementType> texNodeSize;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ids:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ids:texture<float4, 1, cudaReadModeElementType> texMultipole;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ids:texture<float4, 1, cudaReadModeElementType> texBody;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ids:  //float ids  = (1.0f / sqrtf(ds2)) * selfGrav; Slower in Pre CUDA4.1
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ids:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ori:texture<float4, 1, cudaReadModeElementType> texNodeSize;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ori:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ori:texture<float4, 1, cudaReadModeElementType> texMultipole;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ori:texture<float4, 1, cudaReadModeElementType> texBody;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ori:  //float ids  = (1.0f / sqrtf(ds2)) * selfGrav; Slower in Pre CUDA4.1
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu_ori:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.org.cu:texture<float4, 1, cudaReadModeElementType> texNodeSize;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.org.cu:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.org.cu:texture<float4, 1, cudaReadModeElementType> texMultipole;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.org.cu:texture<float4, 1, cudaReadModeElementType> texBody;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.org.cu:  //float ids  = (1.0f / sqrtf(ds2)) * selfGrav; Slower in Pre CUDA4.1
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.org.cu:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texNodeSize;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texNodeCenter;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texMultipole;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu:texture<float4, 1, cudaReadModeElementType> texBody;
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu:  //float ids  = (1.0f / sqrtf(ds2)) * selfGrav; Slower in Pre CUDA4.1
src/amuse/community/pikachu/src/sequoia/CUDAkernels/dev_approximate_gravity.cu:// 	n_total = calc_prefix<DIM2>(prefix, tid,  !split && use_node);         // for some unkown reason this does not work right on the GPU
src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    char *gpu_prof_log;
src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    gpu_prof_log=getenv("CUDA_PROFILE_LOG");
src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    if(gpu_prof_log){
src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:	sprintf(tmp,"process%d_%s",0,gpu_prof_log);
src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:	setenv("CUDA_PROFILE_LOG",tmp,1);
src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    string logFileName    = "gpuLog.log";
src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    char *gpu_prof_log;
src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    gpu_prof_log=getenv("CUDA_PROFILE_LOG");
src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    if(gpu_prof_log){
src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:	sprintf(tmp,"process%d_%s",0,gpu_prof_log);
src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:	setenv("CUDA_PROFILE_LOG",tmp,1);
src/amuse/community/pikachu/src/sequoia/src/sequoiaInterface.cpp:    string logFileName    = "gpuLog.log";
src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:#ifdef USE_CUDA
src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:  compactCount.load_source("scanKernels.cl", "OpenCLKernels");
src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:  exScanBlock.load_source("scanKernels.cl", "OpenCLKernels");
src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:  compactMove.load_source("scanKernels.cl", "OpenCLKernels");
src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:  splitMove.load_source("scanKernels.cl", "OpenCLKernels");
src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:#ifdef USE_CUDA
src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:#ifdef USE_CUDA
src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:#ifdef USE_CUDA
src/amuse/community/pikachu/src/sequoia/src/load_kernels.cpp:#ifdef USE_CUDA
src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:void octree::gpuCompact(my_dev::context &devContext, 
src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  // In the next step we associate the GPU memory with the Kernel arguments
src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  #ifdef USE_CUDA
src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:void octree::gpuSplit(my_dev::context &devContext, 
src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  // In the next step we associate the GPU memory with the Kernel arguments
src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  #ifdef USE_CUDA
src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:void  octree::gpuSort(my_dev::context &devContext,
src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  gpuSort_32b(devContext, 
src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  gpuSort_32b(devContext, 
src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  gpuSort_32b(devContext, 
src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:void octree::gpuSort_32b(my_dev::context &devContext, 
src/amuse/community/pikachu/src/sequoia/src/scanFunctions.cpp:  #ifdef USE_CUDA
src/amuse/community/pikachu/src/sequoia/src/sort_bodies_gpu.cpp:  //We assume the bodies are already onthe GPU
src/amuse/community/pikachu/src/sequoia/src/sort_bodies_gpu.cpp:  //Call the GPUSort function, since we made it general 
src/amuse/community/pikachu/src/sequoia/src/sort_bodies_gpu.cpp:  gpuSort(devContext, srcValues, output, srcValues, n_bodies, 32, 3, tree);
src/amuse/community/pikachu/src/sequoia/src/build.cpp:    //gpuCompact to get number of created nodes    
src/amuse/community/pikachu/src/sequoia/src/build.cpp:    gpuCompact(devContext, validList, compactList, n_bodies*2, &validCount);
src/amuse/community/pikachu/src/sequoia/src/build.cpp:  gpuSplit(devContext, validList, tree.leafNodeIdx, tree.n_nodes, &tree.n_leafs);     
src/amuse/community/pikachu/src/sequoia/src/build.cpp:  gpuCompact(devContext, validList, tree.node_level_list, 
src/amuse/community/pikachu/src/sequoia/src/build.cpp:    //gpuCompact to get number of created nodes    
src/amuse/community/pikachu/src/sequoia/src/build.cpp:    gpuCompact(devContext, validList, compactList, n_bodies*2, &validCount);
src/amuse/community/pikachu/src/sequoia/src/build.cpp:  gpuCompact(devContext, validList, compactList, n_bodies*2, &validCount);
src/amuse/community/pikachu/src/sequoia/src/build.cpp:  //gpuCompact    
src/amuse/community/pikachu/src/sequoia/src/build.cpp:  gpuCompact(devContext, validList, compactList, tree.n*2, &validCount);
src/amuse/community/pikachu/src/Makefile:CUDA_TK  ?= /usr/local/cuda
src/amuse/community/pikachu/src/Makefile:CUDA_LIBS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcudart -lcuda 
src/amuse/community/pikachu/src/Makefile:CFLAGS_SEQ =  -fPIC $(OFLAGS_SEQ) -I$(CUDA_TK)/include/
src/amuse/community/pikachu/src/Makefile:CODELIB_GPU = libpikachu_gpu.a
src/amuse/community/pikachu/src/Makefile:CODELIB_GPU_LARGE_N = libpikachu_gpu_large_n.a
src/amuse/community/pikachu/src/Makefile:all: copy hybrid_seq.out $(CODELIB_GPU) $(CODELIB_GPU_LARGE_N)
src/amuse/community/pikachu/src/Makefile:$(CODELIB_GPU): $(OBJS_SEQ)
src/amuse/community/pikachu/src/Makefile:$(CODELIB_GPU_LARGE_N): $(OBJS_SEQ_LARGE_N)
src/amuse/community/pikachu/src/Makefile:	$(CCC) $(INC_SEQ) $(CFLAGS_SEQ) -o $@ $<  $(OBJS_SEQ_LARGE_N) $(LIB_SEQ) $(CUDA_LIBS)
src/amuse/community/pikachu/src/Makefile:	$(RM) *.s *.o *.out *.ptx $(CODELIB_GPU) $(CODELIB_GPU_LARGE_N)
src/amuse/community/pikachu/src/soft_system.cc:#include"my_cuda.h"
src/amuse/community/pikachu/src/soft_system.cc:    ////////// build tree on GPU and get tree info ////////////
src/amuse/community/pikachu/src/soft_system.cc:    ////////// evaluate gravity on GPU ///////////
src/amuse/community/hacs64/test_hacs.py:            use_gpu = 0
src/amuse/community/hacs64/test_hacs.py:            use_gpu = 0
src/amuse/community/hacs64/test_hacs.py:            gpu_worker = 0
src/amuse/community/hacs64/test_multiples.py:    # Note that there are actually three GPU options to test:
src/amuse/community/hacs64/test_multiples.py:    #	1. use the GPU code and allow GPU use (default)
src/amuse/community/hacs64/test_multiples.py:    #	2. use the GPU code but disable GPU use (-g)
src/amuse/community/hacs64/test_multiples.py:    #	3. use the non-GPU code (-G)
src/amuse/community/hacs64/test_multiples.py:            use_gpu = 0
src/amuse/community/hacs64/test_multiples.py:            use_gpu = 0
src/amuse/community/hacs64/test_multiples.py:            gpu_worker = 0
src/amuse/community/hacs64/interface.py:    HACS64, GPU-accelerated Hermite Ahmad-Cohen Scheme
src/amuse/community/hacs64/interface.py:    MODE_GPU = 'gpu'
src/amuse/community/hacs64/interface.py:        elif mode == self.MODE_GPU:
src/amuse/community/hacs64/interface.py:            return 'hacs64_worker_gpu'
src/amuse/community/hacs64/Makefile:CUDA_TK  ?= /usr/local/cuda
src/amuse/community/hacs64/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
src/amuse/community/hacs64/Makefile:CUDA_LIBS ?= $(CUDA_LIBDIRS) -lcudart
src/amuse/community/hacs64/Makefile:LDFLAGS_GPU =	$(LDFLAGS) \
src/amuse/community/hacs64/Makefile:		$(CUDA_LIBS) \
src/amuse/community/hacs64/Makefile:CXXFLAGS += -I $(CUDA_TK)/include
src/amuse/community/hacs64/Makefile:CODELIB = src/libhacs64gpu.a
src/amuse/community/hacs64/Makefile:$(CUDA_TK):
src/amuse/community/hacs64/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
src/amuse/community/hacs64/Makefile:	@echo "please set the CUDA_TK variable to the directory"
src/amuse/community/hacs64/Makefile:	@echo "where you installed CUDA"
src/amuse/community/hacs64/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
src/amuse/community/hacs64/Makefile:hacs64_worker_gpu:  $(CUDA_TK) worker_code.cc interface.h $(CODELIB) $(OBJS)
src/amuse/community/hacs64/Makefile:	$(MPICXX) $(CXXFLAGS) $(LDFLAGS) worker_code.cc $(OBJS) $(CODELIB) -o $@ $(LDFLAGS_GPU) -DGPU  $(LIBS)
src/amuse/community/hacs64/src/Makefile.gpu:CUDAPATH       := /usr/local/cuda
src/amuse/community/hacs64/src/Makefile.gpu:CUDAINCLUDE    := -I$(CUDAPATH)/include
src/amuse/community/hacs64/src/Makefile.gpu:CUDASDKINCLUDE := -I$(HOME)/NVIDIA_GPU_Computing_SDK/C/common/inc
src/amuse/community/hacs64/src/Makefile.gpu:NVCCFLAGS := -arch=sm_20 -O4 -g  $(CUDAINCLUDE) $(CUDASDKINCLUDE) -I./ -Xptxas -v,-abi=no 
src/amuse/community/hacs64/src/Makefile.gpu:#NVCCFLAGS := -O0 -g -D_DEBUG -deviceemu -maxrregcount=32 $(CUDAINCLUDE)
src/amuse/community/hacs64/src/Makefile.gpu:LDFLAGS   :=  -L/usr/local/cuda/lib64 -lcudart -fopenmp
src/amuse/community/hacs64/src/Makefile.gpu:TARGET = integrate-gpu
src/amuse/community/hacs64/src/Makefile.gpu:regf4_cu/regf4.cu_o: regf4.h regf4_cu/cuda_pointer.h regf4_cu/dev_regf4.cu
src/amuse/community/hacs64/src/Makefile.gpu:regf4_cu/regf4.ptx: regf4.h regf4_cu/cuda_pointer.h regf4_cu/dev_regf4.cu
src/amuse/community/hacs64/src/Makefile:CUDAPATH       := /usr/local/cuda
src/amuse/community/hacs64/src/Makefile:CUDAINCLUDE    := -I$(CUDAPATH)/include
src/amuse/community/hacs64/src/Makefile:#CUDASDKINCLUDE := -I$(CUDASDK)/common/inc
src/amuse/community/hacs64/src/Makefile:#NVCCFLAGS := -arch=sm_20 -O4 -g  $(CUDAINCLUDE) $(CUDASDKINCLUDE) -I./ -Xptxas -v,-abi=no 
src/amuse/community/hacs64/src/Makefile:NVCCFLAGS := -arch=sm_20 -O4 -g  $(CUDAINCLUDE)  -I./ -Xptxas -v,-abi=no 
src/amuse/community/hacs64/src/Makefile:#NVCCFLAGS := -O0 -g -D_DEBUG -deviceemu -maxrregcount=32 $(CUDAINCLUDE)
src/amuse/community/hacs64/src/Makefile:CUDA_LIBS = -lcudart  -L $(CUDAPATH)/lib -L $(CUDAPATH)/lib64
src/amuse/community/hacs64/src/Makefile:CXXFLAGS  +=  -I./ON_neib -I./  $(CUDAINCLUDE)
src/amuse/community/hacs64/src/Makefile:LDGPUGLAGS := $(LDFLAGS) $(CUDA_LIBS)
src/amuse/community/hacs64/src/Makefile:TARGET = integrate-gpu
src/amuse/community/hacs64/src/Makefile:CODELIB = libhacs64gpu.a
src/amuse/community/hacs64/src/Makefile:	$(CXX) -o $(TARGET) integrate.o $(LDFLAGS)  ./$(CODELIB)  $(CUDA_LIBS)
src/amuse/community/hacs64/src/Makefile:regf4_cu/regf4.cu_o: regf4.h regf4_cu/cuda_pointer.h regf4_cu/dev_regf4.cu
src/amuse/community/hacs64/src/Makefile:regf4_cu/regf4.ptx: regf4.h regf4_cu/cuda_pointer.h regf4_cu/dev_regf4.cu
src/amuse/community/hacs64/src/regf4_cu/cutil.h:#include <cuda_runtime.h>
src/amuse/community/hacs64/src/regf4_cu/cutil.h:#if CUDART_VERSION >= 4000
src/amuse/community/hacs64/src/regf4_cu/cutil.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaDeviceSynchronize();
src/amuse/community/hacs64/src/regf4_cu/cutil.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaThreadSynchronize();
src/amuse/community/hacs64/src/regf4_cu/cutil.h:#  define CUDA_SAFE_CALL_NO_SYNC( call) {                                    \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:    cudaError err = call;                                                    \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:        fprintf(stderr, "Cuda error in file '%s' in line %i : %s.\n",        \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:                __FILE__, __LINE__, cudaGetErrorString( err) );              \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:#  define CUDA_SAFE_CALL( call)     CUDA_SAFE_CALL_NO_SYNC(call);
src/amuse/community/hacs64/src/regf4_cu/cutil.h:    //! Check for CUDA error
src/amuse/community/hacs64/src/regf4_cu/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/hacs64/src/regf4_cu/cutil.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/hacs64/src/regf4_cu/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/hacs64/src/regf4_cu/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/hacs64/src/regf4_cu/cutil.h:    cudaError_t err = cudaGetLastError();
src/amuse/community/hacs64/src/regf4_cu/cutil.h:    if( cudaSuccess != err) {
src/amuse/community/hacs64/src/regf4_cu/cutil.h:        FPRINTF((stderr, "%s(%i) : cutilCheckMsg() CUTIL CUDA error : %s : (%d) %s.\n",
src/amuse/community/hacs64/src/regf4_cu/cutil.h:                file, line, errorMessage, (int)err, cudaGetErrorString( err ) ));
src/amuse/community/hacs64/src/regf4_cu/regf4.cu:#include "cuda_pointer.h"
src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    assert(cudaGetDeviceCount(&ndevice) == 0);
src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    fprintf(stderr, " regf::regf -  %d CUDA devices found \n", ndevice);
src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    assert(cudaSetDevice(ndevice-1) == cudaSuccess);
src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("regf4::DT_TICK", &dt_tick, sizeof(float)));
src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("regf4::EPS2", &eps2, sizeof(float)));
src/amuse/community/hacs64/src/regf4_cu/regf4.cu:          cudaThreadSetCacheConfig(cudaFuncCachePreferL1);
src/amuse/community/hacs64/src/regf4_cu/regf4.cu:          cudaThreadSynchronize();
src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    CUDA_SAFE_CALL(cudaMemcpyToSymbol("regf4::EPS2", &eps2, sizeof(float)));
src/amuse/community/hacs64/src/regf4_cu/regf4.cu:    cudaThreadSynchronize();
src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMemcpy(host_pointer, data, size*sizeof(T), cudaMemcpyHostToHost));
src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMemcpy(host_pointer, data, _size*sizeof(T), cudaMemcpyHostToHost));
src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMalloc(&p, size * sizeof(T)));
src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:      CUDA_SAFE_CALL(cudaMallocHost(&p, size * sizeof(T)));
src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:      CUDA_SAFE_CALL(cudaFree(dev_pointer));
src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:        CUDA_SAFE_CALL(cudaFreeHost(host_pointer));
src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:      CUDA_SAFE_CALL(cudaMemcpy(dev_pointer, host_pointer, count * sizeof(T), cudaMemcpyHostToDevice));
src/amuse/community/hacs64/src/regf4_cu/cuda_pointer.h:      CUDA_SAFE_CALL(cudaMemcpy(host_pointer, dev_pointer, count * sizeof(T), cudaMemcpyDeviceToHost));
src/amuse/community/hacs64/src/Makefile.cpu:CUDAPATH       := /usr/local/cuda
src/amuse/community/hacs64/src/Makefile.cpu:CUDAINCLUDE    := -I$(CUDAPATH)/include
src/amuse/community/hacs64/src/Makefile.cpu:CUDASDKINCLUDE := -I$(HOME)/NVIDIA_GPU_Computing_SDK/C/common/inc
src/amuse/community/hacs64/src/Makefile.cpu:NVCCFLAGS := -gencode arch=compute_20,code=sm_20 -O0 -g -D_DEBUG  $(CUDAINCLUDE) $(CUDASDKINCLUDE) -I./ 
src/amuse/community/hacs64/src/Makefile.cpu:#NVCCFLAGS := -O0 -g -D_DEBUG -deviceemu -maxrregcount=32 $(CUDAINCLUDE)
src/amuse/community/fastkick/cuda_fastkick.h:int cuda_initialize_code();
src/amuse/community/fastkick/cuda_fastkick.h:int cuda_commit_particles(vector<double>& m, vector<double>& x, vector<double>& y, vector<double>& z);
src/amuse/community/fastkick/cuda_fastkick.h:int cuda_cleanup_code();
src/amuse/community/fastkick/cuda_fastkick.h:int cuda_get_potential_at_point(double eps2, double *eps, double *x, double *y, double *z, double *phi, int N);
src/amuse/community/fastkick/cuda_fastkick.h:int cuda_get_gravity_at_point(double eps2, double *eps, double *x, double *y, double *z, double *ax, double *ay, double *az, int N);
src/amuse/community/fastkick/cuda_fastkick.h:int cuda_get_potential_energy(double eps2, double *potential_energy);
src/amuse/community/fastkick/interface.py:    MODE_GPU = 'gpu'
src/amuse/community/fastkick/interface.py:        if mode == self.MODE_GPU:
src/amuse/community/fastkick/interface.py:            return "fastkick_worker_gpu"
src/amuse/community/fastkick/Makefile:GPU_OBJ = interface.gpuo cuda_fastkick.o
src/amuse/community/fastkick/Makefile:fastkick_worker_gpu: worker_code.cc worker_code.h  $(GPU_OBJ)
src/amuse/community/fastkick/Makefile:	$(MPICXX) $(CXXFLAGS) $(LDFLAGS) $< $(GPU_OBJ) -o $@ $(CUDA_LIBS) -DGPU  $(LIBS)
src/amuse/community/fastkick/Makefile:interface.gpuo: interface.cc
src/amuse/community/fastkick/Makefile:	$(MPICXX) $(CXXFLAGS) -c -o $@ $< -DGPU
src/amuse/community/fastkick/Makefile:cuda_fastkick.o: cuda_fastkick.cu
src/amuse/community/fastkick/Makefile:	rm -f *.o *.gpuo *.pyc worker_code.cc worker_code.h
src/amuse/community/fastkick/Makefile:	rm -f fastkick_worker fastkick_worker_gpu
src/amuse/community/fastkick/interface.cc:#ifdef GPU
src/amuse/community/fastkick/interface.cc:#include "cuda_fastkick.h"
src/amuse/community/fastkick/interface.cc:#ifdef GPU
src/amuse/community/fastkick/interface.cc:    return handle_result(cuda_initialize_code());
src/amuse/community/fastkick/interface.cc:#ifdef GPU
src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_commit_particles(m, x, y, z));
src/amuse/community/fastkick/interface.cc:#ifdef GPU
src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_cleanup_code());
src/amuse/community/fastkick/interface.cc:        cerr << "recommit_particles: cuda_cleanup_code returned: " << result << endl;
src/amuse/community/fastkick/interface.cc:#ifdef GPU
src/amuse/community/fastkick/interface.cc:    return handle_result(cuda_cleanup_code());
src/amuse/community/fastkick/interface.cc:#ifdef GPU
src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_get_potential_at_point(eps2, eps_in, x_in, y_in, z_in, phi, length));
src/amuse/community/fastkick/interface.cc:#ifdef GPU
src/amuse/community/fastkick/interface.cc:    cerr << "get_gravity_at_point: start cuda_get_gravity_at_point with " << length << " points and " << n_local << " particles." << endl;
src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_get_gravity_at_point(eps2, eps_in, x_in, y_in, z_in, ax, ay, az, length));
src/amuse/community/fastkick/interface.cc:#ifdef GPU
src/amuse/community/fastkick/interface.cc:#ifdef GPU
src/amuse/community/fastkick/interface.cc:    int result = handle_result(cuda_get_potential_energy(eps2, potential_energy));
src/amuse/community/fastkick/cuda_fastkick.cu:#include "cuda_fastkick.h"
src/amuse/community/fastkick/cuda_fastkick.cu:#define HANDLE_CUDA_ERROR(cuda_error) { \
src/amuse/community/fastkick/cuda_fastkick.cu:    cudaError error = cuda_error; \
src/amuse/community/fastkick/cuda_fastkick.cu:    if (error != cudaSuccess) { \
src/amuse/community/fastkick/cuda_fastkick.cu:        cerr << "Cuda error in file '" << __FILE__ << "' in line " << __LINE__ << ": "; \
src/amuse/community/fastkick/cuda_fastkick.cu:        cerr << cudaGetErrorString(error) << endl; \
src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_initialize_code() {
src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_commit_particles(vector<double>& m, vector<double>& x, vector<double>& y, vector<double>& z) {
src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_commit_particles" << endl;
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_x_head, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_y_head, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_z_head, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_x_tail, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_y_tail, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_z_tail, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_m, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_x_head, x_head, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_y_head, y_head, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_z_head, z_head, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_x_tail, x_tail, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_y_tail, y_tail, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_z_tail, z_tail, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_m, m_float, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_commit_particles finished successfully" << endl;
src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_cleanup_code() {
src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_x_head));
src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_y_head));
src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_z_head));
src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_x_tail));
src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_y_tail));
src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_z_tail));
src/amuse/community/fastkick/cuda_fastkick.cu:        HANDLE_CUDA_ERROR(cudaFree(dev_m));
src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_get_gravity_at_point(double eps2, double *eps, double *x, double *y, double *z, double *ax, double *ay, double *az, int N) {
src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_gravity_at_point" << endl;
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_eps, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_px_head, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_py_head, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_pz_head, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_px_tail, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_py_tail, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_pz_tail, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_ax, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_ay, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_az, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_eps, eps_float, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_px_head, x_head, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_py_head, y_head, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_pz_head, z_head, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_px_tail, x_tail, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_py_tail, y_tail, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_pz_tail, z_tail, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(x_head, dev_ax, N*sizeof(float), cudaMemcpyDeviceToHost));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(y_head, dev_ay, N*sizeof(float), cudaMemcpyDeviceToHost));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(z_head, dev_az, N*sizeof(float), cudaMemcpyDeviceToHost));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_eps));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_px_head));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_py_head));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_pz_head));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_px_tail));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_py_tail));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_pz_tail));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_ax));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_ay));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_az));
src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_gravity_at_point finished successfully" << endl;
src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_get_potential_at_point(double eps2, double *eps, double *x, double *y, double *z, double *phi, int N) {
src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_potential_at_point" << endl;
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_eps, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_px_head, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_py_head, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_pz_head, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_px_tail, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_py_tail, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_pz_tail, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_phi, N*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_eps, eps_float, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_px_head, x_head, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_py_head, y_head, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_pz_head, z_head, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_px_tail, x_tail, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_py_tail, y_tail, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(dev_pz_tail, z_tail, N*sizeof(float), cudaMemcpyHostToDevice));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(x_head, dev_phi, N*sizeof(float), cudaMemcpyDeviceToHost));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_eps));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_px_head));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_py_head));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_pz_head));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_px_tail));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_py_tail));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_pz_tail));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_phi));
src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_potential_at_point finished successfully" << endl;
src/amuse/community/fastkick/cuda_fastkick.cu:int cuda_get_potential_energy(double eps2, double *potential_energy) {
src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_potential_energy" << endl;
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMalloc((void **) &dev_partial_results, blocks_per_grid*sizeof(float)));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaMemcpy(partial_results, dev_partial_results, blocks_per_grid*sizeof(float), cudaMemcpyDeviceToHost));
src/amuse/community/fastkick/cuda_fastkick.cu:    HANDLE_CUDA_ERROR(cudaFree(dev_partial_results));
src/amuse/community/fastkick/cuda_fastkick.cu:    cerr << "cuda_get_potential_energy finished successfully" << endl;
src/amuse/community/nbody6xx/common6.h:     *  ttgrcalc2,ttgpu,ttbar,xtsub1,xtsub2,isernb,iserreg
src/amuse/community/nbody6xx/src/helper_cuda.h: * Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
src/amuse/community/nbody6xx/src/helper_cuda.h: * Please refer to the NVIDIA end user license agreement (EULA) associated
src/amuse/community/nbody6xx/src/helper_cuda.h:// These are CUDA Helper functions for initialization and error checking
src/amuse/community/nbody6xx/src/helper_cuda.h:#ifndef HELPER_CUDA_H
src/amuse/community/nbody6xx/src/helper_cuda.h:#define HELPER_CUDA_H
src/amuse/community/nbody6xx/src/helper_cuda.h:// refer the CUDA examples for examples of the needed CUDA headers, which may change depending
src/amuse/community/nbody6xx/src/helper_cuda.h:// on which CUDA functions are used.
src/amuse/community/nbody6xx/src/helper_cuda.h:// CUDA Runtime error messages
src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(cudaError_t error)
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaSuccess:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaSuccess";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMissingConfiguration:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMissingConfiguration";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMemoryAllocation:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMemoryAllocation";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInitializationError:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInitializationError";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorLaunchFailure:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorLaunchFailure";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorPriorLaunchFailure:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorPriorLaunchFailure";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorLaunchTimeout:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorLaunchTimeout";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorLaunchOutOfResources:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorLaunchOutOfResources";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidDeviceFunction:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidDeviceFunction";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidConfiguration:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidConfiguration";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidDevice:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidDevice";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidValue:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidValue";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidPitchValue:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidPitchValue";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidSymbol:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidSymbol";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMapBufferObjectFailed:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMapBufferObjectFailed";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorUnmapBufferObjectFailed:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorUnmapBufferObjectFailed";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidHostPointer:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidHostPointer";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidDevicePointer:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidDevicePointer";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidTexture:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidTexture";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidTextureBinding:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidTextureBinding";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidChannelDescriptor:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidChannelDescriptor";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidMemcpyDirection:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidMemcpyDirection";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorAddressOfConstant:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorAddressOfConstant";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorTextureFetchFailed:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorTextureFetchFailed";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorTextureNotBound:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorTextureNotBound";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorSynchronizationError:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorSynchronizationError";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidFilterSetting:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidFilterSetting";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidNormSetting:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidNormSetting";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMixedDeviceExecution:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMixedDeviceExecution";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorCudartUnloading:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorCudartUnloading";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorUnknown:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorUnknown";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorNotYetImplemented:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorNotYetImplemented";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorMemoryValueTooLarge:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorMemoryValueTooLarge";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidResourceHandle:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidResourceHandle";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorNotReady:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorNotReady";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInsufficientDriver:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInsufficientDriver";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorSetOnActiveProcess:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorSetOnActiveProcess";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidSurface:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidSurface";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorNoDevice:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorNoDevice";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorECCUncorrectable:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorECCUncorrectable";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorSharedObjectSymbolNotFound:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorSharedObjectSymbolNotFound";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorSharedObjectInitFailed:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorSharedObjectInitFailed";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorUnsupportedLimit:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorUnsupportedLimit";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDuplicateVariableName:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDuplicateVariableName";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDuplicateTextureName:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDuplicateTextureName";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDuplicateSurfaceName:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDuplicateSurfaceName";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDevicesUnavailable:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDevicesUnavailable";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorInvalidKernelImage:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorInvalidKernelImage";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorNoKernelImageForDevice:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorNoKernelImageForDevice";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorIncompatibleDriverContext:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorIncompatibleDriverContext";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorPeerAccessAlreadyEnabled:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorPeerAccessAlreadyEnabled";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorPeerAccessNotEnabled:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorPeerAccessNotEnabled";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorDeviceAlreadyInUse:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorDeviceAlreadyInUse";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorProfilerDisabled:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorProfilerDisabled";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorProfilerNotInitialized:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorProfilerNotInitialized";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorProfilerAlreadyStarted:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorProfilerAlreadyStarted";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorProfilerAlreadyStopped:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorProfilerAlreadyStopped";
src/amuse/community/nbody6xx/src/helper_cuda.h:#if __CUDA_API_VERSION >= 0x4000
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorAssert:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorAssert";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorTooManyPeers:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorTooManyPeers";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorHostMemoryAlreadyRegistered:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorHostMemoryAlreadyRegistered";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorHostMemoryNotRegistered:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorHostMemoryNotRegistered";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorStartupFailure:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorStartupFailure";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case cudaErrorApiFailureBase:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "cudaErrorApiFailureBase";
src/amuse/community/nbody6xx/src/helper_cuda.h:#ifdef __cuda_cuda_h__
src/amuse/community/nbody6xx/src/helper_cuda.h:// CUDA Driver API errors
src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(CUresult error)
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_SUCCESS:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_SUCCESS";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_VALUE:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_VALUE";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_OUT_OF_MEMORY:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_OUT_OF_MEMORY";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_INITIALIZED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_INITIALIZED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_DEINITIALIZED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_DEINITIALIZED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PROFILER_DISABLED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PROFILER_DISABLED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PROFILER_NOT_INITIALIZED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PROFILER_NOT_INITIALIZED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PROFILER_ALREADY_STARTED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PROFILER_ALREADY_STARTED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PROFILER_ALREADY_STOPPED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PROFILER_ALREADY_STOPPED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NO_DEVICE:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NO_DEVICE";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_DEVICE:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_DEVICE";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_IMAGE:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_IMAGE";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_CONTEXT:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_CONTEXT";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_CONTEXT_ALREADY_CURRENT:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_CONTEXT_ALREADY_CURRENT";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_MAP_FAILED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_MAP_FAILED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_UNMAP_FAILED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_UNMAP_FAILED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ARRAY_IS_MAPPED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ARRAY_IS_MAPPED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ALREADY_MAPPED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ALREADY_MAPPED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NO_BINARY_FOR_GPU:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NO_BINARY_FOR_GPU";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ALREADY_ACQUIRED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ALREADY_ACQUIRED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_MAPPED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_MAPPED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_MAPPED_AS_ARRAY:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_MAPPED_AS_ARRAY";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_MAPPED_AS_POINTER:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_MAPPED_AS_POINTER";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ECC_UNCORRECTABLE:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ECC_UNCORRECTABLE";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_UNSUPPORTED_LIMIT:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_UNSUPPORTED_LIMIT";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_CONTEXT_ALREADY_IN_USE:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_CONTEXT_ALREADY_IN_USE";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_SOURCE:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_SOURCE";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_FILE_NOT_FOUND:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_FILE_NOT_FOUND";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_SHARED_OBJECT_SYMBOL_NOT_FOUND:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_SHARED_OBJECT_SYMBOL_NOT_FOUND";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_SHARED_OBJECT_INIT_FAILED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_SHARED_OBJECT_INIT_FAILED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_OPERATING_SYSTEM:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_OPERATING_SYSTEM";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_INVALID_HANDLE:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_INVALID_HANDLE";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_FOUND:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_FOUND";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_NOT_READY:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_NOT_READY";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_LAUNCH_FAILED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_LAUNCH_FAILED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_LAUNCH_OUT_OF_RESOURCES:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_LAUNCH_OUT_OF_RESOURCES";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_LAUNCH_TIMEOUT:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_LAUNCH_TIMEOUT";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_LAUNCH_INCOMPATIBLE_TEXTURING";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PEER_ACCESS_ALREADY_ENABLED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PEER_ACCESS_ALREADY_ENABLED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PEER_ACCESS_NOT_ENABLED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PEER_ACCESS_NOT_ENABLED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_PRIMARY_CONTEXT_ACTIVE:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_PRIMARY_CONTEXT_ACTIVE";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_CONTEXT_IS_DESTROYED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_CONTEXT_IS_DESTROYED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_ASSERT:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_ASSERT";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_TOO_MANY_PEERS:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_TOO_MANY_PEERS";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_HOST_MEMORY_ALREADY_REGISTERED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_HOST_MEMORY_ALREADY_REGISTERED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_HOST_MEMORY_NOT_REGISTERED:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_HOST_MEMORY_NOT_REGISTERED";
src/amuse/community/nbody6xx/src/helper_cuda.h:        case CUDA_ERROR_UNKNOWN:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "CUDA_ERROR_UNKNOWN";
src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(cublasStatus_t error)
src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(cufftResult error)
src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(cusparseStatus_t error)
src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(curandStatus_t error)
src/amuse/community/nbody6xx/src/helper_cuda.h:static const char *_cudaGetErrorEnum(NppStatus error)
src/amuse/community/nbody6xx/src/helper_cuda.h:        case NPP_CUDA_KERNEL_EXECUTION_ERROR:
src/amuse/community/nbody6xx/src/helper_cuda.h:            return "NPP_CUDA_KERNEL_EXECUTION_ERROR";
src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "CUDA error at %s:%d code=%d(%s) \"%s\" \n",
src/amuse/community/nbody6xx/src/helper_cuda.h:                file, line, static_cast<unsigned int>(result), _cudaGetErrorEnum(result), func);
src/amuse/community/nbody6xx/src/helper_cuda.h:                std::string msg("CUDA error at ");
src/amuse/community/nbody6xx/src/helper_cuda.h:                msg += _cudaGetErrorEnum(result);
src/amuse/community/nbody6xx/src/helper_cuda.h:// This will output the proper CUDA error strings in the event that a CUDA host call returns an error
src/amuse/community/nbody6xx/src/helper_cuda.h:#define checkCudaErrors(val)           check ( (val), #val, __FILE__, __LINE__ )
src/amuse/community/nbody6xx/src/helper_cuda.h:// This will output the proper error string when calling cudaGetLastError
src/amuse/community/nbody6xx/src/helper_cuda.h:#define getLastCudaError(msg)      __getLastCudaError (msg, __FILE__, __LINE__)
src/amuse/community/nbody6xx/src/helper_cuda.h:inline void __getLastCudaError(const char *errorMessage, const char *file, const int line)
src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaError_t err = cudaGetLastError();
src/amuse/community/nbody6xx/src/helper_cuda.h:    if (cudaSuccess != err)
src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "%s(%i) : getLastCudaError() CUDA error : %s : (%d) %s.\n",
src/amuse/community/nbody6xx/src/helper_cuda.h:                file, line, errorMessage, (int)err, cudaGetErrorString(err));
src/amuse/community/nbody6xx/src/helper_cuda.h:// Beginning of GPU Architecture definitions
src/amuse/community/nbody6xx/src/helper_cuda.h:    // Defines for GPU Architecture types (using the SM version to determine the # of cores per SM
src/amuse/community/nbody6xx/src/helper_cuda.h:    sSMtoCores nGpuArchCoresPerSM[] =
src/amuse/community/nbody6xx/src/helper_cuda.h:    while (nGpuArchCoresPerSM[index].SM != -1)
src/amuse/community/nbody6xx/src/helper_cuda.h:        if (nGpuArchCoresPerSM[index].SM == ((major << 4) + minor))
src/amuse/community/nbody6xx/src/helper_cuda.h:            return nGpuArchCoresPerSM[index].Cores;
src/amuse/community/nbody6xx/src/helper_cuda.h:    printf("MapSMtoCores for SM %d.%d is undefined.  Default to use %d Cores/SM\n", major, minor, nGpuArchCoresPerSM[7].Cores);
src/amuse/community/nbody6xx/src/helper_cuda.h:    return nGpuArchCoresPerSM[7].Cores;
src/amuse/community/nbody6xx/src/helper_cuda.h:// end of GPU Architecture definitions
src/amuse/community/nbody6xx/src/helper_cuda.h:#ifdef __CUDA_RUNTIME_H__
src/amuse/community/nbody6xx/src/helper_cuda.h:// General GPU Device CUDA Initialization
src/amuse/community/nbody6xx/src/helper_cuda.h:inline int gpuDeviceInit(int devID)
src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaGetDeviceCount(&deviceCount));
src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "gpuDeviceInit() CUDA error: no devices supporting CUDA.\n");
src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, ">> %d CUDA capable GPU device(s) detected. <<\n", deviceCount);
src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, ">> gpuDeviceInit (-device=%d) is not a valid GPU device. <<\n", devID);
src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaDeviceProp deviceProp;
src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaGetDeviceProperties(&deviceProp, devID));
src/amuse/community/nbody6xx/src/helper_cuda.h:    if (deviceProp.computeMode == cudaComputeModeProhibited)
src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "Error: device is running in <Compute Mode Prohibited>, no threads can use ::cudaSetDevice().\n");
src/amuse/community/nbody6xx/src/helper_cuda.h:        fprintf(stderr, "gpuDeviceInit(): GPU device does not support CUDA.\n");
src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaSetDevice(devID));
src/amuse/community/nbody6xx/src/helper_cuda.h:    printf("gpuDeviceInit() CUDA Device [%d]: \"%s\n", devID, deviceProp.name);
src/amuse/community/nbody6xx/src/helper_cuda.h:// This function returns the best GPU (with maximum GFLOPS)
src/amuse/community/nbody6xx/src/helper_cuda.h:inline int gpuGetMaxGflopsDeviceId()
src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaDeviceProp deviceProp;
src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaGetDeviceCount(&device_count);
src/amuse/community/nbody6xx/src/helper_cuda.h:    // Find the best major SM Architecture GPU device
src/amuse/community/nbody6xx/src/helper_cuda.h:        cudaGetDeviceProperties(&deviceProp, current_device);
src/amuse/community/nbody6xx/src/helper_cuda.h:        // If this GPU is not running on Compute Mode prohibited, then we can add it to the list
src/amuse/community/nbody6xx/src/helper_cuda.h:        if (deviceProp.computeMode != cudaComputeModeProhibited)
src/amuse/community/nbody6xx/src/helper_cuda.h:    // Find the best CUDA capable GPU device
src/amuse/community/nbody6xx/src/helper_cuda.h:        cudaGetDeviceProperties(&deviceProp, current_device);
src/amuse/community/nbody6xx/src/helper_cuda.h:        // If this GPU is not running on Compute Mode prohibited, then we can add it to the list
src/amuse/community/nbody6xx/src/helper_cuda.h:        if (deviceProp.computeMode != cudaComputeModeProhibited)
src/amuse/community/nbody6xx/src/helper_cuda.h:                // If we find GPU with SM major > 2, search only these
src/amuse/community/nbody6xx/src/helper_cuda.h:// Initialization code to find the best CUDA Device
src/amuse/community/nbody6xx/src/helper_cuda.h:inline int findCudaDevice(int argc, const char **argv)
src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaDeviceProp deviceProp;
src/amuse/community/nbody6xx/src/helper_cuda.h:            devID = gpuDeviceInit(devID);
src/amuse/community/nbody6xx/src/helper_cuda.h:        devID = gpuGetMaxGflopsDeviceId();
src/amuse/community/nbody6xx/src/helper_cuda.h:        checkCudaErrors(cudaSetDevice(devID));
src/amuse/community/nbody6xx/src/helper_cuda.h:        checkCudaErrors(cudaGetDeviceProperties(&deviceProp, devID));
src/amuse/community/nbody6xx/src/helper_cuda.h:        printf("GPU Device %d: \"%s\" with compute capability %d.%d\n\n", devID, deviceProp.name, deviceProp.major, deviceProp.minor);
src/amuse/community/nbody6xx/src/helper_cuda.h:// General check for CUDA GPU SM Capabilities
src/amuse/community/nbody6xx/src/helper_cuda.h:inline bool checkCudaCapabilities(int major_version, int minor_version)
src/amuse/community/nbody6xx/src/helper_cuda.h:    cudaDeviceProp deviceProp;
src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaGetDevice(&dev));
src/amuse/community/nbody6xx/src/helper_cuda.h:    checkCudaErrors(cudaGetDeviceProperties(&deviceProp, dev));
src/amuse/community/nbody6xx/src/helper_cuda.h:        printf("No GPU device was found that can support CUDA compute capability %d.%d.\n", major_version, minor_version);
src/amuse/community/nbody6xx/src/helper_cuda.h:// end of CUDA Helper Functions
src/amuse/community/nbody6xx/src/adjust.F:     &        '    ttgrcalc  ttgrcalc2  ttgpu     ttbar     ',
src/amuse/community/nbody6xx/src/adjust.F:     &        ttgrcalc,ttgrcalc2,ttgpu,ttbar,ttnbi,ttbarnb,ttbarreg,
src/amuse/community/nbody6xx/src/adjust.F:#ifdef GPU
src/amuse/community/nbody6xx/src/adjust.F:         CALL GPUNB_CLOSE
src/amuse/community/nbody6xx/src/cutil.h: * Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
src/amuse/community/nbody6xx/src/cutil.h: * Please refer to the NVIDIA end user license agreement (EULA) associated
src/amuse/community/nbody6xx/src/cutil.h:* Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
src/amuse/community/nbody6xx/src/cutil.h:* Please refer to the NVIDIA end user license agreement (EULA) associated
src/amuse/community/nbody6xx/src/cutil.h:/* CUda UTility Library */
src/amuse/community/nbody6xx/src/cutil.h:#if CUDART_VERSION >= 4000
src/amuse/community/nbody6xx/src/cutil.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaDeviceSynchronize();
src/amuse/community/nbody6xx/src/cutil.h:#define CUT_DEVICE_SYNCHRONIZE( )   cudaThreadSynchronize();
src/amuse/community/nbody6xx/src/cutil.h:#if CUDART_VERSION >= 4000
src/amuse/community/nbody6xx/src/cutil.h:#define CUT_DEVICE_RESET( )   cudaDeviceReset();
src/amuse/community/nbody6xx/src/cutil.h:#define CUT_DEVICE_RESET( )   cudaThreadExit();
src/amuse/community/nbody6xx/src/cutil.h:    if( CUDA_SUCCESS != err) {                                               \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda driver error %x in file '%s' in line %i.\n",   \
src/amuse/community/nbody6xx/src/cutil.h:    if( CUDA_SUCCESS != err) {                                               \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda driver error %x in file '%s' in line %i.\n",   \
src/amuse/community/nbody6xx/src/cutil.h:#  define CUDA_SAFE_CALL_NO_SYNC( call) {                                    \
src/amuse/community/nbody6xx/src/cutil.h:    cudaError err = call;                                                    \
src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error in file '%s' in line %i : %s.\n",        \
src/amuse/community/nbody6xx/src/cutil.h:                __FILE__, __LINE__, cudaGetErrorString( err) );              \
src/amuse/community/nbody6xx/src/cutil.h:#  define CUDA_SAFE_CALL( call)     CUDA_SAFE_CALL_NO_SYNC(call);                                            \
src/amuse/community/nbody6xx/src/cutil.h:#  define CUDA_SAFE_THREAD_SYNC( ) {                                         \
src/amuse/community/nbody6xx/src/cutil.h:    cudaError err = CUT_DEVICE_SYNCHRONIZE();                                 \
src/amuse/community/nbody6xx/src/cutil.h:    if ( cudaSuccess != err) {                                               \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error in file '%s' in line %i : %s.\n",        \
src/amuse/community/nbody6xx/src/cutil.h:                __FILE__, __LINE__, cudaGetErrorString( err) );              \
src/amuse/community/nbody6xx/src/cutil.h:    //! Check for CUDA error
src/amuse/community/nbody6xx/src/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/nbody6xx/src/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/nbody6xx/src/cutil.h:    CUDA_SAFE_CALL_NO_SYNC(cudaGetDeviceCount(&deviceCount));                \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "cutil error: no devices supporting CUDA.\n");       \
src/amuse/community/nbody6xx/src/cutil.h:    cudaDeviceProp deviceProp;                                               \
src/amuse/community/nbody6xx/src/cutil.h:    CUDA_SAFE_CALL_NO_SYNC(cudaGetDeviceProperties(&deviceProp, dev));       \
src/amuse/community/nbody6xx/src/cutil.h:    CUDA_SAFE_CALL(cudaSetDevice(dev));                                      \
src/amuse/community/nbody6xx/src/cutil.h:    //! Check for CUDA context lost
src/amuse/community/nbody6xx/src/cutil.h:#  define CUDA_CHECK_CTX_LOST(errorMessage) {                                \
src/amuse/community/nbody6xx/src/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/nbody6xx/src/cutil.h://! Check for CUDA context lost
src/amuse/community/nbody6xx/src/cutil.h:    cudaError_t err = cudaGetLastError();                                    \
src/amuse/community/nbody6xx/src/cutil.h:    if( CUDA_ERROR_INVALID_CONTEXT != err) {                                 \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/nbody6xx/src/cutil.h:    if( cudaSuccess != err) {                                                \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "Cuda error: %s in file '%s' in line %i : %s.\n",    \
src/amuse/community/nbody6xx/src/cutil.h:                errorMessage, __FILE__, __LINE__, cudaGetErrorString( err) );\
src/amuse/community/nbody6xx/src/cutil.h:    if (CUDA_SUCCESS == err)                                                 \
src/amuse/community/nbody6xx/src/cutil.h:        fprintf(stderr, "cutil error: no devices supporting CUDA\n");        \
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:#ifdef WITH_CUDA5
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:#  include <helper_cuda.h>
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:#  define CUDA_SAFE_CALL checkCudaErrors
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:#include "cuda_pointer.h"
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:extern "C"  void gpunb_devinit_(int *irank);
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:void gpupot(
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	gpunb_devinit_(rank);
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	cudaPointer <float2> phi;
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	cudaPointer <Particle> ptcl;
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	// cudaMemcpy(ptcl_d, ptcl_h, ng * sizeof(Particle), cudaMemcpyHostToDevice);
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	// cudaMemcpy(phi_h, phi_d, n * sizeof(float2), cudaMemcpyDeviceToHost);
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	fprintf(stderr, "rank %d  Ni: %d NTOT: %d  gpupot: %f sec\n",*rank,ni,n,t1 - t0);
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:	void gpupot_(
src/amuse/community/nbody6xx/src/gpupot.gpu.cu:      gpupot(irank, *istart, *ni, *n, m, x, pot);
src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
src/amuse/community/nbody6xx/src/intgrt.F:*       Open GPU for all single particles
src/amuse/community/nbody6xx/src/intgrt.F:         CALL GPUNB_OPEN(NN,rank)
src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
src/amuse/community/nbody6xx/src/intgrt.F:*       Send all single particles to GPU memory
src/amuse/community/nbody6xx/src/intgrt.F:      CALL GPUNB_SEND(NN,BODY(IFIRST),X(1,IFIRST),XDOT(1,IFIRST))
src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
src/amuse/community/nbody6xx/src/intgrt.F:      CALL CALC_REG_ON_GPU(IREG,1,NREG)
src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
src/amuse/community/nbody6xx/src/intgrt.F:      CALL CALC_REG_ON_GPU(IREG,istart,iend)
src/amuse/community/nbody6xx/src/intgrt.F:*         CALL GPUIRR_SET_JP(I,X0(1,I),X0DOT(1,I),F(1,I),FDOT(1,I),
src/amuse/community/nbody6xx/src/intgrt.F:#ifdef GPU
src/amuse/community/nbody6xx/src/intgrt.F:          CALL GPUNB_CLOSE
src/amuse/community/nbody6xx/src/intgrt.F:*#ifdef GPU
src/amuse/community/nbody6xx/src/intgrt.F:*          CALL GPUNB_CLOSE(rank)
src/amuse/community/nbody6xx/src/checkl.f:*       Simplify to include GPU (standard code needs a few extra searches).
src/amuse/community/nbody6xx/src/Makefile:# make gpu                         (single CPU plus one GPU)
src/amuse/community/nbody6xx/src/Makefile:# make mpichgpu                    (many CPU, many GPU, not fully working)
src/amuse/community/nbody6xx/src/Makefile:CUDA_PATH=/usr/local/cuda
src/amuse/community/nbody6xx/src/Makefile:gpu:
src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/usr/local/cuda" "SDK_PATH=/usr/local/cuda_sdk/C" "FC = gfortran" "LFLAGS = -o nbody6.gpu -L$(CUDA_PATH)/lib64 -lcudart" \
src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -g -fbounds-check -D GPU" \
src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy.f util_gpu.f $(SOURCE)"
src/amuse/community/nbody6xx/src/Makefile:gpu_laohu:
src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/export/" "SDK_PATH=/export/NVIDIA_CUDA_SDK" "FC = gfortran" "LFLAGS = -o nbody6.gpu -L/export/CUDA/4.0/lib64 -lcudart" \
src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -fbounds-check -D GPU" \
src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy.f util_gpu.f $(SOURCE)"
src/amuse/community/nbody6xx/src/Makefile:gpu_milkyway:
src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "SDK_PATH=" "FC = gfortran" "CUFLAGS= -D CUDA_5" "LFLAGS = -o nbody6.gpu -lcudart" \
src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -D GPU" \
src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy.f util_gpu.f $(SOURCE)"
src/amuse/community/nbody6xx/src/Makefile:mpichgpu:
src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/usr/local/cuda" "SDK_PATH=/usr/local/cuda_sdk/C" "FC = mpif77" "LFLAGS = -o nbody6.gpu -L$(CUDA_PATH)/lib64 -lcudart" \
src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O4 -D PUREMPI -D PARALLEL -D GPU" \
src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
src/amuse/community/nbody6xx/src/Makefile:mpichgpu_laohu:
src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/export/" "SDK_PATH=/export/NVIDIA_CUDA_SDK" "FC = /usr/mpi/gcc/openmpi-1.3.2-qlc/bin/mpif77" "LFLAGS = -o nbody6.gpu -L/export/CUDA/4.0/lib64 -lcudart" \
src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -g -D PUREMPI -D PARALLEL -D GPU -fPIC -fbounds-check" \
src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f  util_gpu.f $(SOURCE)"
src/amuse/community/nbody6xx/src/Makefile:mpichgpu_milkyway_g:
src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "FC = /opt/parastation/mpi2/bin/mpif77" "SDK_PATH=" "CUFLAGS= -g -D CUDA_5" "LFLAGS = -o nbody6.gpu -lcudart" \
src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -g -O0 -D PUREMPI -D PARALLEL -D GPU -fbounds-check -Wall -fbacktrace -finit-real=nan" \
src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
src/amuse/community/nbody6xx/src/Makefile:mpichgpu_milkyway:
src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "FC = /opt/parastation/mpi2/bin/mpif77" "SDK_PATH=" "CUFLAGS= -arch=sm_20 -Xptxas -v -O3 -D CUDA_5" "LFLAGS = -o nbody6.gpu -lcudart" \
src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -fPIC -ffast-math -D PUREMPI -D PARALLEL -D GPU -Wall" \
src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
src/amuse/community/nbody6xx/src/Makefile:mpichgpu_lwpc:
src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/usr/local/cuda" "CUFLAGS=-arch=sm_30 -Xptxas -v -O3 -D CUDA_5 " "SDK_PATH=/usr/local/cuda/samples" "FC = mpif77" "LFLAGS = -o nbody6.gpu -L/usr/local/cuda/lib64 -lcudart" \
src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -O3 -fPIC -ffast-math -march=core2 -D PUREMPI -D PARALLEL -D GPU" \
src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
src/amuse/community/nbody6xx/src/Makefile:mpichgpu_lwpcg:
src/amuse/community/nbody6xx/src/Makefile:	$(MAKE) nbody6.gpu "CUDA_PATH=/usr/local/cuda" "CUFLAGS=-g -arch=sm_30 -Xptxas -v -D CUDA_5 " "SDK_PATH=/usr/local/cuda/samples" "FC = mpif77" "LFLAGS = -o nbody6.gpu -L/usr/local/cuda/lib64 -lcudart" \
src/amuse/community/nbody6xx/src/Makefile:		"FFLAGS = -g -O0 -D PUREMPI -D PARALLEL -D GPU -fbounds-check -Wall -fbacktrace -finit-real=nan" \
src/amuse/community/nbody6xx/src/Makefile:		"SOURCE = energy_mpi.F phicor.f fpoly1_mpi.f fpoly2_mpi.f util_gpu.f $(SOURCE)"
src/amuse/community/nbody6xx/src/Makefile:CUDASOURCE = gpunb.gpu.cu gpupot.gpu.cu
src/amuse/community/nbody6xx/src/Makefile:CUDAOBJECTS = gpunb.gpu.o gpupot.gpu.o
src/amuse/community/nbody6xx/src/Makefile:nbody6.gpu: $(OBJECTS) $(CUDAOBJECTS)
src/amuse/community/nbody6xx/src/Makefile:	$(LOAD) $(FFLAGS) $(LFLAGS) $(OBJECTS) $(CUDAOBJECTS) $(LFLAGS2)
src/amuse/community/nbody6xx/src/Makefile:gpunb.gpu.o: gpunb.gpu.cu
src/amuse/community/nbody6xx/src/Makefile:	nvcc -c $(CUFLAGS) -Xcompiler "-O3 -Wall" -I$(SDK_PATH)/common/inc -I. -I$(HOME)/include gpunb.gpu.cu
src/amuse/community/nbody6xx/src/Makefile:gpupot.gpu.o: gpupot.gpu.cu
src/amuse/community/nbody6xx/src/Makefile:	nvcc -c $(CUFLAGS) -Xcompiler "-O3 -Wall" -I$(SDK_PATH)/common/inc -I. -I$(HOME)/include gpupot.gpu.cu
src/amuse/community/nbody6xx/src/xtrnl0.F:*       Note that QVIR = Q is saved in routine SCALE and VIR < 0 with GPU.
src/amuse/community/nbody6xx/src/phicor.f:*       Subtract c.m. interaction for each component (copied from GPU).
src/amuse/community/nbody6xx/src/cuda_pointer.h:struct cudaPointer{
src/amuse/community/nbody6xx/src/cuda_pointer.h:  cudaPointer(){
src/amuse/community/nbody6xx/src/cuda_pointer.h:  //  ~cudaPointer(){
src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMalloc(&p, size * sizeof(T)));
src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMallocHost(&p, size * sizeof(T)));
src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaFree(dev_pointer));
src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaFreeHost(host_pointer));
src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMemcpy(dev_pointer, host_pointer, count * sizeof(T), cudaMemcpyHostToDevice));
src/amuse/community/nbody6xx/src/cuda_pointer.h:    CUDA_SAFE_CALL(cudaMemcpy(host_pointer, dev_pointer, count * sizeof(T), cudaMemcpyDeviceToHost));
src/amuse/community/nbody6xx/src/regint.F:#ifdef GPU
src/amuse/community/nbody6xx/src/regint.F:         NNBGPU = LIST_G(1,I)
src/amuse/community/nbody6xx/src/regint.F:c$$$  IF(NNBGPU.LT.0)THEN
src/amuse/community/nbody6xx/src/regint.F:c$$$  PRINT*,' Warning Regint t,i,nnbgpu=',TIME,I,NNBGPU
src/amuse/community/nbody6xx/src/regint.F:c$$$  NNBG = NNBGPU
src/amuse/community/nbody6xx/src/regint.F:         nnbg=nnbgpu
src/amuse/community/nbody6xx/src/regint.F:#ifdef GPU
src/amuse/community/nbody6xx/src/regint.F:*       Perform only extended neighbour loop if GPU has been used.
src/amuse/community/nbody6xx/src/regint.F:c$$$         IF(NNBGPU.LT.0) THEN
src/amuse/community/nbody6xx/src/regint.F:*        WRITE(6,1111) I,NNBGPU, NNB, TIME, FREG(1), FDR(1),
src/amuse/community/nbody6xx/src/regint.F:*1111    FORMAT(1X,' I, nnbs time fr, fdr, frgpu, frdgpu=',
src/amuse/community/nbody6xx/src/regint.F:*       Skip another full N loop (necessary for GPU/OpenMP case).
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#ifdef CUDA_5
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#include <helper_cuda.h>
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#define CUDA_SAFE_CALL checkCudaErrors
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#include "cuda_pointer.h"
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300 // just some trial
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:#if __CUDA_ARCH__ >= 300
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <Jparticle> jpbuf;
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <Iparticle> ipbuf;
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <Force[NJBLOCK]> fopart;
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <Force> fobuf;
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <uint16[NJBLOCK][NB_PER_BLOCK]>nbpart;
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <int> nblist;
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static cudaPointer <int> nboff;
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:static int devid, numGPU;
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_devinit(int irank){
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  cudaGetDeviceCount(&numGPU);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  assert(numGPU > 0);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  char *gpu_list = getenv("GPU_LIST");
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  if(gpu_list)
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    numGPU = 0;
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    char *p = strtok(gpu_list, " ");
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:      numGPU++;
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    assert(numGPU > 0);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    devid=irank%numGPU;
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  cudaSetDevice(devid);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  fprintf(stderr, "Initializing NBODY6/GPU library\n");
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  cudaDeviceProp prop;
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  cudaGetDeviceProperties(&prop, devid);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  fprintf(stderr, "#GPU %d; device: %d %s\n", numGPU, devid, prop.name);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_open(int nbmax,int irank){
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    //select GPU========================================//
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    GPUNB_devinit(irank);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:      fprintf(stderr, "gpunb: it is already open\n");
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMallocHost((void **)&jp_host, jpsize);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMalloc    ((void **)&jp_dev , jpsize);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMallocHost((void **)&ip_host, ipsize);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMalloc    ((void **)&ip_dev , ipsize);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMallocHost((void **)&fo_host, fosize);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMalloc    ((void **)&fo_dev , fosize);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	fprintf(stderr, "Opened NBODY6/GPU library\n");
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_close(){
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:		fprintf(stderr, "gpunb: it is already close\n");
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFreeHost(jp_host);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFree    (jp_dev);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFreeHost(ip_host);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFree    (ip_dev);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFreeHost(fo_host);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaFree    (fo_dev);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	fprintf(stderr, "Closed NBODY6/GPU library\n");
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_send(
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	// cudaMemcpy(jp_dev, jp_host, jpsize, cudaMemcpyHostToDevice);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:void GPUNB_regf(
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  // cudaMemcpy(ip_dev, ip_host, ipsize, cudaMemcpyHostToDevice);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  // cudaMemcpy(fo_host, fo_dev, fosize, cudaMemcpyDeviceToHost);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  void gpunb_devinit_ (int *irank){
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    GPUNB_devinit(*irank);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  void gpunb_open_(int *nbmax, int *irank){
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    GPUNB_open(*nbmax, *irank);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:  void gpunb_close_(){
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:    GPUNB_close();
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	void gpunb_send_(
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:		GPUNB_send(*nj, mj, xj, vj);
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:	void gpunb_regf_(
src/amuse/community/nbody6xx/src/gpunb.gpu.cu:      GPUNB_regf(*ni, h2, dtr, xi, vi, acc, jrk, pot, *lmax, *nnbmax, list);
src/amuse/community/nbody6xx/src/energy_mpi.F:#ifndef GPU
src/amuse/community/nbody6xx/src/energy_mpi.F:#ifdef GPU
src/amuse/community/nbody6xx/src/energy_mpi.F:#ifdef GPU      
src/amuse/community/nbody6xx/src/energy_mpi.F:*     --05/17/13 9:13-lwang-gpupot-------------------------------------*
src/amuse/community/nbody6xx/src/energy_mpi.F:***** Note:Use gpupot here---------------------------------------------**
src/amuse/community/nbody6xx/src/energy_mpi.F:*       Evaluate individual potentials on GPU (including all c.m.).
src/amuse/community/nbody6xx/src/energy_mpi.F:      CALL GPUPOT(rank,istart,NN,NNT,BODY(IFIRST),X(1,IFIRST)
src/amuse/community/nbody6xx/src/energy_mpi.F:#ifdef GPU      
src/amuse/community/nbody6xx/src/energy_mpi.F:#ifndef GPU
src/amuse/community/nbody6xx/src/energy_mpi.F:#ifdef GPU       
src/amuse/community/nbody6xx/src/energy_mpi.F:         CALL GPUPOT(rank,1,NNT,NNT,BODY(IFIRST),X(1,IFIRST)
src/amuse/community/nbody6xx/src/util_gpu.F:C     Calculate the REG force on local GPU memory
src/amuse/community/nbody6xx/src/util_gpu.F:      SUBROUTINE CALC_REG_ON_GPU(IREG,istart,iend)
src/amuse/community/nbody6xx/src/util_gpu.F:C---  calculate the pot, a & jerk on the GPU
src/amuse/community/nbody6xx/src/util_gpu.F:C---  fill the GPU "working" arrays
src/amuse/community/nbody6xx/src/util_gpu.F:*     WRITE(6,*) RANK, 'GPU UTIL h2', ii-1, idi, sqrt(h2_i(ii)), 
src/amuse/community/nbody6xx/src/util_gpu.F:*     WRITE(6,*) ' call gpu L ni lmax nbmax = ',L,ni, lmax,nnbmax
src/amuse/community/nbody6xx/src/util_gpu.F:C---  GPU first call with first values of p_i, a_i & jerk_i
src/amuse/community/nbody6xx/src/util_gpu.F:         CALL gpunb_regf(ni,h2_i,DTR,x_i,v_i,a_i,jerk_i,p_i,lmax,
src/amuse/community/nbody6xx/src/util_gpu.F:         ttgpu = ttgpu + (tt54-tt53)*60.0
src/amuse/community/nbody6xx/src/util_gpu.F:         gpu_calls = gpu_calls + 1
src/amuse/community/nbody6xx/src/util_gpu.F:*     Note GPU address starts from 0 (hence add IFIRST to neighbour list).
src/amuse/community/nbody6xx/src/util_gpu.F:C     Calculate the REG force on local GPU memory
src/amuse/community/nbody6xx/src/helper_string.h: * Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
src/amuse/community/nbody6xx/src/helper_string.h: * Please refer to the NVIDIA end user license agreement (EULA) associated
src/amuse/community/nbody6xx/src/helper_string.h:// CUDA Utility Helper Functions
src/amuse/community/nbody6xx/src/helper_string.h:        "./7_CUDALibraries/",                       // "/7_CUDALibraries/" subdir
src/amuse/community/nbody6xx/src/helper_string.h:        "../C/7_CUDALibraries/<executable_name>/data/",  // up 1 in tree, "/7_CUDALibraries/<executable_name>/" subdir
src/amuse/community/nbody6xx/src/helper_string.h:        "../7_CUDALibraries/<executable_name>/data/",    // up 1 in tree, "/7_CUDALibraries/<executable_name>/" subdir
src/amuse/community/nbody6xx/src/helper_string.h:        "../../7_CUDALibraries/<executable_name>/data/", // up 2 in tree, "/7_CUDALibraries/<executable_name>/" subdir
src/amuse/community/nbody6xx/src/helper_string.h:        "../../../7_CUDALibraries/<executable_name>/data/", // up 3 in tree, "/7_CUDALibraries/<executable_name>/" subdir
src/amuse/community/nbody6xx/src/common6.h:     *  ttgrcalc2,ttgpu,ttbar,xtsub1,xtsub2,isernb,iserreg
src/amuse/community/kepler/src/Makefile:GPU	  = -DGPU
src/amuse/community/kepler/src/stdinc.h:#endif				// on GPU: not fully tested
src/amuse/community/phigrape/sapporo.config:1    // total number of CUDA devices to use. WARNING: It is not fool proof!
src/amuse/community/phigrape/sapporo.config:0    // which CUDA devices to use,     pls, double check the values.
src/amuse/community/phigrape/interface.py:    MODE_GPU = 'gpu'
src/amuse/community/phigrape/interface.py:            elif mode == self.MODE_GPU:
src/amuse/community/phigrape/interface.py:                return 'phigrape_worker_gpu'
src/amuse/community/phigrape/interface.py:            elif mode == self.MODE_GPU:
src/amuse/community/phigrape/interface.py:                return 'phigrape_worker_gpu'
src/amuse/community/phigrape/interface.py:        Sets the initialize GPU/GRAPE once parameter. When
src/amuse/community/phigrape/interface.py:        set the GPU will be initialized during the
src/amuse/community/phigrape/interface.py:        if mode == self.MODE_GPU:
src/amuse/community/phigrape/interface.py:            return 'phigrape_worker_gl_gpu'
src/amuse/community/phigrape/interface.py:            "initialize_gpu_once",
src/amuse/community/phigrape/interface.py:            "set to 1 if the gpu must only be initialized once, 0 if it can be initialized for every call\nIf you want to run multiple instances of the code on the same gpu this parameter needs to be 0 (default)",
src/amuse/community/phigrape/Makefile:CUDA_SDK ?= /disks/koppoel1/CUDA23/cudasdk/C
src/amuse/community/phigrape/Makefile:CUDA_TK  ?= /disks/koppoel1/CUDA23/cuda
src/amuse/community/phigrape/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
src/amuse/community/phigrape/Makefile:CUDA_LIBS ?= -lcudart
src/amuse/community/phigrape/Makefile:GPULIBS  =  $(SAPPORO_LIBS)  $(CUDA_LIBDIRS) $(CUDA_LIBS) -lpthread -L/usr/lib64 -lstdc++
src/amuse/community/phigrape/Makefile:phigrape_worker_gpu: worker_code.f90 interface.o $(CODELIB)
src/amuse/community/phigrape/Makefile:	$(MPIF90) $(FFLAGS) -DNOMPI $(SC_FLAGS) $(FS_FLAGS) $(LDFLAGS) $^ $(CODELIB) -o $@ $(OBJECTS) $(LIBRARIES) $(GPULIBS) $(SC_MPI_CLIBS) $(FS_LIBS)  $(LIBS)
src/amuse/community/phigrape/Makefile:phigrape_worker_gl_gpu: glworker_code.f90 interface.o $(CODELIB)
src/amuse/community/phigrape/Makefile:	$(GLOBJECTS) $(GLLIB)  $(X11LIB) $(THREADLIB) $(LIBS) $(GPULIBS) $(SC_MPI_CLIBS) $(FS_LIBS)  $(LIBS)
src/amuse/community/phigrape/Makefile:	rm -f worker_code_gpu worker_code_grape
src/amuse/community/phigrape/Makefile:	rm -f glworker_code_gpu glworker_code_grape
src/amuse/community/phigrape/Makefile:	rm -f phigrape_worker phigrape_worker_gl phigrape_worker_gl_gpu phigrape_worker_gpu
src/amuse/community/phigrape/Makefile:	rm -f phigrape_worker_gpu_sockets
src/amuse/community/phigrape/src/Makefile:CUDA_LIBDIRS ?= -L/data1/pelupes/programs/cuda/lib 
src/amuse/community/phigrape/src/Makefile:CUDA_LIBS ?= -lcudart
src/amuse/community/phigrape/src/Makefile:LLIBSDIR = $(SAPPORO_LIBDIRS) $(CUDA_LIBDIRS)
src/amuse/community/phigrape/src/Makefile:LIBS     =  $(CUDA_LIBS) -lsapporo -lm -lboost_thread-mt -lpthread
src/amuse/community/asterisk/src/shaders/fs_gaussian_blur.fp:	// Incremental Gaussian Coefficent Calculation (See GPU Gems 3 pp. 877 - 889)
src/amuse/community/asterisk/src/kernels/VectorAdd.cl:// OpenCL Kernel Function for element by element vector addition
src/amuse/community/adaptb/src/dlmalloc.c:        Thanks to Tony E. Bennett <tbennett@nvidia.com> and others.
src/amuse/community/huayno/readme.txt:  AMUSE environment. It can make use of GPUs - for this an OpenCL 
src/amuse/community/huayno/readme.txt:  OpenCL operation:
src/amuse/community/huayno/readme.txt:  loops to the GPU.  The implementation is based on the STDCL library
src/amuse/community/huayno/readme.txt:  appropiately for the OpenCL configuration: CLCONTEXT:  stdgpu or stdcpu
src/amuse/community/huayno/readme.txt:  NTHREAD:  64 for GPU, 2 for CPU (actually 64 will also work for CPU just
src/amuse/community/huayno/readme.txt:  starting guess) evolve_kern.cl contains the OpenCL kernels. Precision of
src/amuse/community/huayno/interface.py:    AMUSE environment. It can make use of GPUs - for this an OpenCL
src/amuse/community/huayno/interface.py:    MODE_OPENCL='opencl'
src/amuse/community/huayno/interface.py:        if mode==self.MODE_OPENCL:
src/amuse/community/huayno/interface.py:    def get_opencl_device_type():
src/amuse/community/huayno/interface.py:        function.addParameter('opencl_device_type', dtype='i', direction=function.OUT)
src/amuse/community/huayno/interface.py:    def set_opencl_device_type():
src/amuse/community/huayno/interface.py:        function.addParameter('opencl_device_type', dtype='i', direction=function.IN)
src/amuse/community/huayno/interface.py:            "get_opencl_device_type",
src/amuse/community/huayno/interface.py:            "set_opencl_device_type",
src/amuse/community/huayno/interface.py:            "opencl_device_type",
src/amuse/community/huayno/interface.py:            "set preferred OpenCL device type (0=default, 1=cpu, 2=gpu)",
src/amuse/community/huayno/Makefile:OPENCL_BUILDDIR = build_cl
src/amuse/community/huayno/Makefile:	rm -Rf $(OPENCL_BUILDDIR)
src/amuse/community/huayno/Makefile:$(OPENCL_BUILDDIR)/Makefile: $(SRCDIR)/Makefile 
src/amuse/community/huayno/Makefile:	-mkdir $(OPENCL_BUILDDIR) 
src/amuse/community/huayno/Makefile:	cp $(SRCDIR)/Makefile $(OPENCL_BUILDDIR)/Makefile
src/amuse/community/huayno/Makefile:$(OPENCL_BUILDDIR)/libhuayno_cl.a: $(OPENCL_BUILDDIR)/Makefile $(LIBFILES) src/Makefile
src/amuse/community/huayno/Makefile:	make -C $(OPENCL_BUILDDIR) libhuayno_cl.a VPATH=../src CFLAGS="$(CFLAGS)" CXXFLAGS="$(CXXFLAGS)" LIBS="$(LIBS)" INCLUDE="$(INCLUDE)"
src/amuse/community/huayno/Makefile:huayno_worker_cl: CFLAGS   += -DEVOLVE_OPENCL
src/amuse/community/huayno/Makefile:huayno_worker_cl: CXXFLAGS   += -DEVOLVE_OPENCL
src/amuse/community/huayno/Makefile:huayno_worker_cl: __init__.py worker_code.cc worker_code.h $(OPENCL_BUILDDIR)/libhuayno_cl.a $(OPENCL_BUILDDIR)/interface.o 
src/amuse/community/huayno/Makefile:	$(MPICXX) $(CXXFLAGS) $(INCLUDE) $(LDFLAGS) worker_code.cc $(OPENCL_BUILDDIR)/interface.o $(OPENCL_BUILDDIR)/libhuayno_cl.a -o $@ $(LIBS) $(SC_CLIBS)
src/amuse/community/huayno/Makefile:$(OPENCL_BUILDDIR)/%.o: %.c
src/amuse/community/huayno/interface.c:  opencl_device_type=0;
src/amuse/community/huayno/interface.c:int get_opencl_device_type(int *i)
src/amuse/community/huayno/interface.c:  *i=opencl_device_type;
src/amuse/community/huayno/interface.c:int set_opencl_device_type(int i)
src/amuse/community/huayno/interface.c:  opencl_device_type=i;
src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
src/amuse/community/huayno/src/evolve.c:int opencl_device_type=0;
src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
src/amuse/community/huayno/src/evolve.c:#ifdef EVOLVE_OPENCL
src/amuse/community/huayno/src/universal_kepler_solver.h:    #ifndef CONFIG_USE_OPENCL
src/amuse/community/huayno/src/universal_kepler_solver.h:        #ifndef CONFIG_USE_OPENCL
src/amuse/community/huayno/src/universal_kepler_solver.h:    #ifndef CONFIG_USE_OPENCL
src/amuse/community/huayno/src/evolve_cl.c:#ifdef EVOLVE_OPENCL
src/amuse/community/huayno/src/evolve_cl.c:#define CL_TARGET_OPENCL_VERSION 200
src/amuse/community/huayno/src/evolve_cl.c:    #include "OpenCL/opencl.h"
src/amuse/community/huayno/src/evolve_cl.c:static cl_mem _ipos, _ivel, _jpos, _jvel, _acc, _pot, _timestep; // opencl buffer objects
src/amuse/community/huayno/src/evolve_cl.c:  err = clGetDeviceIDs(NULL, SELECT(opencl_device_type,CL_DEVICE_TYPE_DEFAULT,CL_DEVICE_TYPE_CPU,CL_DEVICE_TYPE_GPU), 1, &device_id, NULL);
src/amuse/community/huayno/src/evolve_cl.c:  if (err != CL_SUCCESS) ENDRUN("OpenCL could not get device of requested type %s", SELECT(opencl_device_type,"default","cpu","gpu"));
src/amuse/community/huayno/src/evolve_cl.c:  if (!context || err!=CL_SUCCESS) ENDRUN("OpenCL failed to create context");
src/amuse/community/huayno/src/evolve_cl.c:  if (!queue || err!=CL_SUCCESS) ENDRUN("OpenCL failed to create command queue");
src/amuse/community/huayno/src/evolve_cl.c:  if (!program || err!=CL_SUCCESS) ENDRUN("OpenCL failed to create program")
src/amuse/community/huayno/src/evolve_cl.c:        printf("OpenCL failed to build program executable!\n");
src/amuse/community/huayno/src/evolve_cl.c:  if(err!= CL_SUCCESS) ENDRUN("OpenCL failed to create kick_kernel"); 
src/amuse/community/huayno/src/evolve_cl.c:  if(err!= CL_SUCCESS) ENDRUN("OpenCL failed to create timestep_kernel"); 
src/amuse/community/huayno/src/evolve_cl.c:  if(err!= CL_SUCCESS) ENDRUN("OpenCL failed to create potential_kernel"); 
src/amuse/community/huayno/src/evolve_cl.c:  printf("OpenCL initialized using device %s\n", name);
src/amuse/community/huayno/src/evolve.h:extern int opencl_device_type;
src/amuse/community/huayno/src/evolve.h:#ifdef EVOLVE_OPENCL
src/amuse/community/huayno/src/evolve_kern.cl:    #pragma OPENCL EXTENSION cl_khr_fp64 : enable
src/amuse/community/huayno/src/evolve_kern.cl:    #pragma OPENCL EXTENSION cl_amd_fp64 : enable
src/amuse/community/ph4/test_multiples2.py:            n_workers = 1, use_gpu = 1, gpu_worker = 1,
src/amuse/community/ph4/test_multiples2.py:    print("use_gpu =", use_gpu)
src/amuse/community/ph4/test_multiples2.py:    # Note that there are actually three GPU options:
src/amuse/community/ph4/test_multiples2.py:    #	1. use the GPU code and allow GPU use (default)
src/amuse/community/ph4/test_multiples2.py:    #	2. use the GPU code but disable GPU use (-g)
src/amuse/community/ph4/test_multiples2.py:    #	3. use the non-GPU code (-G)
src/amuse/community/ph4/test_multiples2.py:    if gpu_worker == 1:
src/amuse/community/ph4/test_multiples2.py:                           redirection = "none", mode = "gpu")
src/amuse/community/ph4/test_multiples2.py:    gravity.parameters.use_gpu = use_gpu
src/amuse/community/ph4/test_multiples2.py:    use_gpu = 0
src/amuse/community/ph4/test_multiples2.py:    gpu_worker = 0
src/amuse/community/ph4/test_multiples2.py:            use_gpu = 0
src/amuse/community/ph4/test_multiples2.py:            use_gpu = 0
src/amuse/community/ph4/test_multiples2.py:            gpu_worker = 0
src/amuse/community/ph4/test_multiples2.py:            use_gpu, gpu_worker,
src/amuse/community/ph4/util/run_ph4.py:            n_workers = 1, use_gpu = 1, gpu_worker = 1,
src/amuse/community/ph4/util/run_ph4.py:    print("use_gpu =", use_gpu)
src/amuse/community/ph4/util/run_ph4.py:    # Note that there are actually three GPU options:
src/amuse/community/ph4/util/run_ph4.py:    #	1. use the GPU code and allow GPU use (default)
src/amuse/community/ph4/util/run_ph4.py:    #	2. use the GPU code but disable GPU use (-g)
src/amuse/community/ph4/util/run_ph4.py:    #	3. use the non-GPU code (-G)
src/amuse/community/ph4/util/run_ph4.py:    if gpu_worker == 1:
src/amuse/community/ph4/util/run_ph4.py:                           redirection = "none", mode = "gpu")
src/amuse/community/ph4/util/run_ph4.py:    gravity.parameters.use_gpu = use_gpu
src/amuse/community/ph4/util/run_ph4.py:    use_gpu = 1
src/amuse/community/ph4/util/run_ph4.py:    gpu_worker = 1
src/amuse/community/ph4/util/run_ph4.py:                n_workers, use_gpu, gpu_worker,
src/amuse/community/ph4/util/run_ph4.py:                                      n_workers, use_gpu, gpu_worker,
src/amuse/community/ph4/util/initialize_system.py:               n_workers = 1, use_gpu = 1, gpu_worker = 1,
src/amuse/community/ph4/util/initialize_system.py:    # Note that there are actually three GPU options:
src/amuse/community/ph4/util/initialize_system.py:    #	1. use the GPU code and allow GPU use (default)
src/amuse/community/ph4/util/initialize_system.py:    #	2. use the GPU code but disable GPU use (-g)
src/amuse/community/ph4/util/initialize_system.py:    #	3. use the non-GPU code (-G)
src/amuse/community/ph4/util/initialize_system.py:    if gpu_worker == 1:
src/amuse/community/ph4/util/initialize_system.py:                           redirection = "none", mode = "gpu")
src/amuse/community/ph4/util/initialize_system.py:    gravity.parameters.use_gpu = use_gpu
src/amuse/community/ph4/util/initialize_system.py:    use_gpu = 1
src/amuse/community/ph4/util/initialize_system.py:    gpu_worker = 1
src/amuse/community/ph4/util/initialize_system.py:    make_nbody(N, time, n_workers, use_gpu, gpu_worker,
src/amuse/community/ph4/test_multiples.py:             n_workers = 1, use_gpu = 1, gpu_worker = 1,
src/amuse/community/ph4/test_multiples.py:    print("use_gpu =", use_gpu)
src/amuse/community/ph4/test_multiples.py:    # Note that there are actually three GPU options to test:
src/amuse/community/ph4/test_multiples.py:    #	1. use the GPU code and allow GPU use (default)
src/amuse/community/ph4/test_multiples.py:    #	2. use the GPU code but disable GPU use (-g)
src/amuse/community/ph4/test_multiples.py:    #	3. use the non-GPU code (-G)
src/amuse/community/ph4/test_multiples.py:    if gpu_worker == 1:
src/amuse/community/ph4/test_multiples.py:                           redirection = "none", mode = "gpu")
src/amuse/community/ph4/test_multiples.py:    gravity.parameters.use_gpu = use_gpu
src/amuse/community/ph4/test_multiples.py:    use_gpu = 1
src/amuse/community/ph4/test_multiples.py:    gpu_worker = 1
src/amuse/community/ph4/test_multiples.py:            use_gpu = 0
src/amuse/community/ph4/test_multiples.py:            use_gpu = 0
src/amuse/community/ph4/test_multiples.py:            gpu_worker = 0
src/amuse/community/ph4/test_multiples.py:             use_gpu, gpu_worker,
src/amuse/community/ph4/interface.py:    Parallel, GPU-accelerated, N-body integration module with block
src/amuse/community/ph4/interface.py:    MODE_GPU = 'gpu'
src/amuse/community/ph4/interface.py:        elif mode == self.MODE_GPU:
src/amuse/community/ph4/interface.py:            return 'ph4_worker_gpu'
src/amuse/community/ph4/interface.py:    def set_gpu():
src/amuse/community/ph4/interface.py:        Set use_gpu.
src/amuse/community/ph4/interface.py:        function.addParameter('gpu', dtype='int32',
src/amuse/community/ph4/interface.py:    def get_gpu():
src/amuse/community/ph4/interface.py:        Get use_gpu.
src/amuse/community/ph4/interface.py:        function.addParameter('gpu', dtype='int32',
src/amuse/community/ph4/interface.py:    def set_gpu_id():
src/amuse/community/ph4/interface.py:        Set gpu_id.
src/amuse/community/ph4/interface.py:        function.addParameter('gpu_id', dtype='int32',
src/amuse/community/ph4/interface.py:    def get_gpu_id():
src/amuse/community/ph4/interface.py:        Get gpu_id.
src/amuse/community/ph4/interface.py:        function.addParameter('gpu_id', dtype='int32',
src/amuse/community/ph4/interface.py:            "get_gpu",                   # getter name in interface.cc
src/amuse/community/ph4/interface.py:            "set_gpu",                   # setter name in interface.cc
src/amuse/community/ph4/interface.py:            "use_gpu",                   # python parameter name
src/amuse/community/ph4/interface.py:            "use GPU",                   # description
src/amuse/community/ph4/interface.py:            "get_gpu_id",                # getter name in interface.cc
src/amuse/community/ph4/interface.py:            "set_gpu_id",                # setter name in interface.cc
src/amuse/community/ph4/interface.py:            "gpu_id",                    # python parameter name
src/amuse/community/ph4/interface.py:            "GPU ID",                    # description
src/amuse/community/ph4/Makefile:ALL	 = ph4_worker # ph4_worker_gpu
src/amuse/community/ph4/Makefile:CUDA_TK  ?= /usr/local/cuda
src/amuse/community/ph4/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
src/amuse/community/ph4/Makefile:CUDA_LIBS ?= $(CUDA_LIBDIRS) -lcudart
src/amuse/community/ph4/Makefile:LDFLAGS_GPU =	$(LDFLAGS) \
src/amuse/community/ph4/Makefile:		$(CUDA_LIBS) \
src/amuse/community/ph4/Makefile:CODELIB_GPU = src/libph4gpu.a
src/amuse/community/ph4/Makefile:$(CODELIB_GPU):
src/amuse/community/ph4/Makefile:	make -C src gpulib CXX=$(MPICXX)
src/amuse/community/ph4/Makefile:ph4_worker_gpu: worker_code.cc interface.h $(CODELIB_GPU) $(OBJS)
src/amuse/community/ph4/Makefile:	$(MPICXX) $(CXXFLAGS) worker_code.cc $(OBJS) $(CODELIB_GPU) -o $@ $(LDFLAGS_GPU) -DGPU  $(LIBS)
src/amuse/community/ph4/Makefile:	$(RM) -f *~ ph4_worker ph4_worker_gpu ph4_worker_sockets ph4_worker_gpu_sockets
src/amuse/community/ph4/interface.cc:    jd->setup_gpu();
src/amuse/community/ph4/interface.cc:	PRC(jd->mpi_size); PRL(jd->have_gpu);
src/amuse/community/ph4/interface.cc:int set_gpu(int gpu)
src/amuse/community/ph4/interface.cc:    jd->use_gpu = jd->have_gpu && (gpu == 1);
src/amuse/community/ph4/interface.cc:int get_gpu(int * gpu)
src/amuse/community/ph4/interface.cc:    *gpu = jd->use_gpu;
src/amuse/community/ph4/interface.cc:int set_gpu_id(int gpu_id)
src/amuse/community/ph4/interface.cc:    jd->gpu_id = gpu_id;
src/amuse/community/ph4/interface.cc:int get_gpu_id(int * gpu_id)
src/amuse/community/ph4/interface.cc:    *gpu_id = jd->gpu_id;
src/amuse/community/ph4/interface.cc:    if (jd->use_gpu && !jd->have_gpu) jd->use_gpu = false;
src/amuse/community/ph4/interface.cc:	PRC(jd->have_gpu); PRL(jd->use_gpu);
src/amuse/community/ph4/interface.cc:    // update the GPU and scheduler.  The jdata arrays should already
src/amuse/community/ph4/interface.cc:    if (!jd->use_gpu) {
src/amuse/community/ph4/interface.cc:	jd->initialize_gpu(true);		// reload the GPU
src/amuse/community/ph4/interface.cc:    if (!jd->use_gpu)
src/amuse/community/ph4/interface.cc:	jd->initialize_gpu(true);		// reload the GPU
src/amuse/community/ph4/test_sync.py:             n_workers = 1, use_gpu = 1, gpu_worker = 1, gpu_id = -1,
src/amuse/community/ph4/test_sync.py:    print("use_gpu =", use_gpu)
src/amuse/community/ph4/test_sync.py:    # Note that there are actually really three GPU options to test:
src/amuse/community/ph4/test_sync.py:    #	1. use the GPU code and allow GPU use (default)
src/amuse/community/ph4/test_sync.py:    #	2. use the GPU code but disable GPU use (-g)
src/amuse/community/ph4/test_sync.py:    #	3. use the non-GPU code (-G)
src/amuse/community/ph4/test_sync.py:    gpu = 0
src/amuse/community/ph4/test_sync.py:    if gpu_worker == 1:
src/amuse/community/ph4/test_sync.py:                           redirection = "none", mode = "gpu")
src/amuse/community/ph4/test_sync.py:            gpu = 1
src/amuse/community/ph4/test_sync.py:            print('*** GPU worker code not found. Reverting to non-GPU code. ***')
src/amuse/community/ph4/test_sync.py:            gpu = 0
src/amuse/community/ph4/test_sync.py:    if gpu == 0:
src/amuse/community/ph4/test_sync.py:    gravity.parameters.gpu_id = gpu_id
src/amuse/community/ph4/test_sync.py:    gravity.parameters.use_gpu = use_gpu
src/amuse/community/ph4/test_sync.py:    use_gpu = 1
src/amuse/community/ph4/test_sync.py:    gpu_worker = 1
src/amuse/community/ph4/test_sync.py:    gpu_id = -1
src/amuse/community/ph4/test_sync.py:            use_gpu = 0
src/amuse/community/ph4/test_sync.py:            use_gpu = 0
src/amuse/community/ph4/test_sync.py:            gpu_worker = 0
src/amuse/community/ph4/test_sync.py:            gpu_id = int(a)
src/amuse/community/ph4/test_sync.py:             use_gpu, gpu_worker, gpu_id,
src/amuse/community/ph4/src/jdata.cc://	void jdata::setup_gpu()
src/amuse/community/ph4/src/jdata.cc:#ifdef GPU
src/amuse/community/ph4/src/jdata.cc:void jdata::setup_gpu()
src/amuse/community/ph4/src/jdata.cc:    const char *in_function = "jdata::setup_gpu";
src/amuse/community/ph4/src/jdata.cc:    // Determine GPU availability and use, based on the option
src/amuse/community/ph4/src/jdata.cc:#ifdef GPU
src/amuse/community/ph4/src/jdata.cc:    have_gpu = use_gpu = true;
src/amuse/community/ph4/src/jdata.cc:    have_gpu = use_gpu = false;
src/amuse/community/ph4/src/jdata.cc:    // Don't update the GPU(s), if any, yet, as repeated removals will
src/amuse/community/ph4/src/jdata.cc:    // Final consistency check on GPU availability/use.
src/amuse/community/ph4/src/jdata.cc:    if (use_gpu && !have_gpu) {
src/amuse/community/ph4/src/jdata.cc:	if (mpi_rank == 0) cout << endl << "GPU unavailable" << endl << flush;
src/amuse/community/ph4/src/jdata.cc:	use_gpu = false;
src/amuse/community/ph4/src/jdata.cc:    if (!use_gpu) {
src/amuse/community/ph4/src/jdata.cc:	if (have_gpu && mpi_rank == 0)
src/amuse/community/ph4/src/jdata.cc:	    cout << endl << "GPU use disabled" << endl << flush;
src/amuse/community/ph4/src/jdata.cc:	// Copy all data into the GPU.
src/amuse/community/ph4/src/jdata.cc:	cout << endl << "initializing GPU(s) for " << mpi_rank 
src/amuse/community/ph4/src/jdata.cc:	initialize_gpu();
src/amuse/community/ph4/src/jdata.cc:	if (DEBUG > 1) cout << "GPU initialization done for " << mpi_rank
src/amuse/community/ph4/src/jdata.cc:    // use the i-data (and GPU) to predict and compute the potential.
src/amuse/community/ph4/src/jdata.cc:	// Direct parallel calculation on the j-data, with no GPU.
src/amuse/community/ph4/src/jdata.cc:	// Use pot data.  This approach uses the GPU if available, and
src/amuse/community/ph4/src/jdata.cc:	if (!use_gpu) predict_all(system_time);
src/amuse/community/ph4/src/jdata.cc:	idat->get_acc_and_jerk();		// parallel, may use GPU
src/amuse/community/ph4/src/jdata.cc:    // pred_vel).  This function is only called in the non-GPU case.
src/amuse/community/ph4/src/jdata.cc:    if (!use_gpu) {
src/amuse/community/ph4/src/jdata.cc:	// GPU will do this, if present.  Note that this only predicts
src/amuse/community/ph4/src/jdata.cc:    if (!use_gpu) {
src/amuse/community/ph4/src/jdata.cc:	// GPU will do this, if present.  Note that this only predicts
src/amuse/community/ph4/src/jdata.cc:    if (!use_gpu) {
src/amuse/community/ph4/src/jdata.cc:	// GPU will do this, if present.  Note that this only predicts
src/amuse/community/ph4/src/jdata.cc:	    PRC(jmin); PRC(jnn); PRL(dnnmin);	// GPU implementation
src/amuse/community/ph4/src/jdata.cc:#ifdef GPU		// needed because of explicit g6_npipes() below
src/amuse/community/ph4/src/jdata.cc:	if (use_gpu) {
src/amuse/community/ph4/src/jdata.cc:	    PRC(gpu_calls); PRL(gpu_total);
src/amuse/community/ph4/src/jdata.cc:		    = 6.e-8*(nj-1)*gpu_calls*npipes/(elapsed_time+_TINY_);
src/amuse/community/ph4/src/jdata.cc:		Gflops_user_max = 6.e-8*(nj-1)*gpu_calls*npipes
src/amuse/community/ph4/src/jdata.cc:    if (use_gpu) {
src/amuse/community/ph4/src/jdata.cc:	// get_densities_on_gpu();		// not tested yet
src/amuse/community/ph4/src/gpu.cc:// * GRAPE/GPU specific code *
src/amuse/community/ph4/src/gpu.cc://	void jdata::initialize_gpu()
src/amuse/community/ph4/src/gpu.cc://	void idata::update_gpu()
src/amuse/community/ph4/src/gpu.cc://	void idata::get_partial_acc_and_jerk_on_gpu()
src/amuse/community/ph4/src/gpu.cc://	void jdata::get_densities_on_gpu(idata& id)  (UNDER DEVELOPMENT)  MPI
src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
src/amuse/community/ph4/src/gpu.cc:// No need to check jdata::use_gpu here, as the GPU functions will
src/amuse/community/ph4/src/gpu.cc:// only be called if use_gpu = true.
src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
src/amuse/community/ph4/src/gpu.cc:void jdata::initialize_gpu(bool reinitialize)	// default = false
src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "jdata::initialize_gpu";
src/amuse/community/ph4/src/gpu.cc:    // (Re)initialize the local GPU(s): reload all particles.
src/amuse/community/ph4/src/gpu.cc:	// g6_open() logic is for a single GPU.  May be overridden by
src/amuse/community/ph4/src/gpu.cc:	// a configuration file.  If gpu_id is >= 0, use that GPU.
src/amuse/community/ph4/src/gpu.cc:	// Otherwise use GPU 0 for a single-process run, MPI rank for
src/amuse/community/ph4/src/gpu.cc:	// a multi-process run.  No check for a valid GPU ID.
src/amuse/community/ph4/src/gpu.cc:	//PRL(gpu_id);
src/amuse/community/ph4/src/gpu.cc:	int gpu_to_use = clusterid;
src/amuse/community/ph4/src/gpu.cc:	if (gpu_id >= 0) gpu_to_use = gpu_id;
src/amuse/community/ph4/src/gpu.cc:	cout << "opening GPU " << gpu_to_use << endl << flush;
src/amuse/community/ph4/src/gpu.cc:	g6_open(gpu_to_use);
src/amuse/community/ph4/src/gpu.cc:    // Load all local particles into the GPU.
src/amuse/community/ph4/src/gpu.cc:void jdata::update_gpu(int jlist[], int njlist)
src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "jdata::update_gpu";
src/amuse/community/ph4/src/gpu.cc:    // Load data for the listed j-particles into the GPU.
src/amuse/community/ph4/src/gpu.cc:    // Load particles into the GPU.
src/amuse/community/ph4/src/gpu.cc:		    cout << "jdata::update_gpu(): jj = " << jj << " "
src/amuse/community/ph4/src/gpu.cc:void idata::update_gpu()
src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "idata::update_gpu";
src/amuse/community/ph4/src/gpu.cc:    // Load corrected data for all i-particles into the local GPUs.
src/amuse/community/ph4/src/gpu.cc:		cout << "idata::update_gpu(): i = "
src/amuse/community/ph4/src/gpu.cc:void jdata::sync_gpu()
src/amuse/community/ph4/src/gpu.cc:    // Do phony work on the GPU to force synchronization of the
src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "sync_gpu";
src/amuse/community/ph4/src/gpu.cc:void idata::get_partial_acc_and_jerk_on_gpu(bool pot)	// default = false
src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "idata::get_partial_acc_and_jerk_on_gpu";
src/amuse/community/ph4/src/gpu.cc:	jdat->gpu_calls += 1;
src/amuse/community/ph4/src/gpu.cc:	jdat->gpu_total += nni;
src/amuse/community/ph4/src/gpu.cc:	    // Note: The pnn array contains the GRAPE/GPU indices of
src/amuse/community/ph4/src/gpu.cc:	    // the nearest neighbors.  The "index" sent to the GPU is
src/amuse/community/ph4/src/gpu.cc:void jdata::get_densities_on_gpu()	// under development
src/amuse/community/ph4/src/gpu.cc:#ifdef GPU
src/amuse/community/ph4/src/gpu.cc:    const char *in_function = "jdata::get_densities_on_gpu";
src/amuse/community/ph4/src/gpu.cc:	    // the GPU neighbor list for particle j includes j).
src/amuse/community/ph4/src/Makefile.ph4:# command-line argument NOSYNC=-DNOSYNC turns *off* GPU sync in
src/amuse/community/ph4/src/Makefile.ph4:OBJS    = jdata.o idata.o scheduler.o grape.o gpu.o util.o diag.o debug.o
src/amuse/community/ph4/src/Makefile.ph4:GPUOBJS	= $(subst .o,.gpuo, $(OBJS))
src/amuse/community/ph4/src/Makefile.ph4:	  -L/usr/local/cuda/lib -lcuda -lcudart \
src/amuse/community/ph4/src/Makefile.ph4:EXE	= parallel_hermite_4 parallel_hermite_4_noGPU smallN kepler analyze
src/amuse/community/ph4/src/Makefile.ph4:.SUFFIXES: .cc .o .gpuo
src/amuse/community/ph4/src/Makefile.ph4:.cc.gpuo:
src/amuse/community/ph4/src/Makefile.ph4:	$(MPICXX) $(CFLAGS) -DGPU -c $< -o $@
src/amuse/community/ph4/src/Makefile.ph4:parallel_hermite_4:	parallel_hermite_4.cc $(GPUOBJS) $(EXTRAOBJS)
src/amuse/community/ph4/src/Makefile.ph4:	$(MPICXX) $(NOSYNC) $(CFLAGS) -DGPU parallel_hermite_4.cc \
src/amuse/community/ph4/src/Makefile.ph4:	    $(GPUOBJS) $(EXTRAOBJS) $(LIBS) -o $@
src/amuse/community/ph4/src/Makefile.ph4:parallel_hermite_4_noGPU:	parallel_hermite_4.cc $(OBJS) $(EXTRAOBJS)
src/amuse/community/ph4/src/Makefile.ph4:	mpiexec -n $(NWORKER) parallel_hermite_4 $(ARGS)	> GPU.log
src/amuse/community/ph4/src/Makefile.ph4:testph42:	parallel_hermite_4 parallel_hermite_4_noGPU
src/amuse/community/ph4/src/Makefile.ph4:	mpiexec -n $(NWORKER) parallel_hermite_4 $(ARGS)	> GPU.log
src/amuse/community/ph4/src/Makefile.ph4:	mpiexec -n $(NWORKER) parallel_hermite_4_noGPU $(ARGS)	> noGPU.log
src/amuse/community/ph4/src/Makefile.ph4:	$(RM) -r -f *.o *.gpuo *.co *.fo *~ *.tgz *.dSYM $(EXE) $(TEST_NSTAB)
src/amuse/community/ph4/src/Makefile:GPU	  = -DGPU
src/amuse/community/ph4/src/Makefile:CODELIB_GPU = libph4gpu.a
src/amuse/community/ph4/src/Makefile:CODEOBJS = debug.o diag.o gpu.o grape.o idata.o jdata.o scheduler.o \
src/amuse/community/ph4/src/Makefile:CODEOBJS_GPU = $(subst .o,.gpuo, $(CODEOBJS))
src/amuse/community/ph4/src/Makefile:GPUFLAGS = $(GPU)
src/amuse/community/ph4/src/Makefile:gpulib: $(CODELIB_GPU)
src/amuse/community/ph4/src/Makefile:$(CODELIB_GPU): $(CODEOBJS_GPU) $(EXTRAOBJS)
src/amuse/community/ph4/src/Makefile:	echo $(CODEOBJS_GPU)
src/amuse/community/ph4/src/Makefile:	$(AR) $@ $(CODEOBJS_GPU) $(EXTRAOBJS)
src/amuse/community/ph4/src/Makefile:$(CODEOBJS_GPU): %.gpuo: %.cc
src/amuse/community/ph4/src/Makefile:	$(CXX) $(CXXFLAGS) $(GPUFLAGS) -c -o $@ $< 
src/amuse/community/ph4/src/Makefile:	$(RM) -r -f *.o *.co *~ *.tgz *.a *.gpuo
src/amuse/community/ph4/src/TODO:2. Implement parallel multi-GPU use.  Necessary code is in
src/amuse/community/ph4/src/old_close_encounter.cc:    // parallelized and sped up using the GPU.  TODO.
src/amuse/community/ph4/src/old_close_encounter.cc:	// in order to recompute the potential energy, update the GPU
src/amuse/community/ph4/src/old_close_encounter.cc:    // Send new data on all affected j-particles to GPU.
src/amuse/community/ph4/src/old_close_encounter.cc:    if (use_gpu) {
src/amuse/community/ph4/src/old_close_encounter.cc:	sync_gpu();	// hardly a true fix for the GPU update
src/amuse/community/ph4/src/old_close_encounter.cc:	    initialize_gpu(true);
src/amuse/community/ph4/src/old_close_encounter.cc:	    // domains.  Update the GPU data only for the affected
src/amuse/community/ph4/src/old_close_encounter.cc:	    // locations.  Function update_gpu() will ignore any
src/amuse/community/ph4/src/old_close_encounter.cc:	    update_gpu(nbrlist-merge, 2+merge);  // nbrlist-1 is nbrlist0
src/amuse/community/ph4/src/old_close_encounter.cc:    if (!use_gpu) predict_all(system_time);
src/amuse/community/ph4/src/old_close_encounter.cc:    if (use_gpu) idat->update_gpu();
src/amuse/community/ph4/src/stdinc.h:#endif				// on GPU: not fully tested
src/amuse/community/ph4/src/jdata.h:    bool have_gpu;			// will be true if -DGPU is compiled in
src/amuse/community/ph4/src/jdata.h:    bool use_gpu;			// true if actually using GPU
src/amuse/community/ph4/src/jdata.h:    int gpu_id;				// >= 0 if we have specified a GPU ID
src/amuse/community/ph4/src/jdata.h:    real block_steps, total_steps, gpu_calls, gpu_total;
src/amuse/community/ph4/src/jdata.h:	have_gpu = false;		// correct values will be set at
src/amuse/community/ph4/src/jdata.h:	use_gpu = false;		// run time, in setup_gpu()
src/amuse/community/ph4/src/jdata.h:	block_steps = total_steps = gpu_calls = gpu_total = 0;
src/amuse/community/ph4/src/jdata.h:    void setup_gpu();
src/amuse/community/ph4/src/jdata.h:    // In gpu.cc:
src/amuse/community/ph4/src/jdata.h:    void initialize_gpu(bool reinitialize = false);
src/amuse/community/ph4/src/jdata.h:    void update_gpu(int jlist[], int njlist);
src/amuse/community/ph4/src/jdata.h:    void sync_gpu();
src/amuse/community/ph4/src/jdata.h:    void get_densities_on_gpu();
src/amuse/community/ph4/src/idata.cc:// of illustration/experimentation.  Preferable to use GPU acceleration
src/amuse/community/ph4/src/idata.cc://  no GPU:
src/amuse/community/ph4/src/idata.cc:// The j-data are predicted prior to gather if GPU is not used.
src/amuse/community/ph4/src/idata.cc:// Otherwise, the j-prediction is done on the GPU, but the i-data are
src/amuse/community/ph4/src/idata.cc:// ONLY if the force calculation is done on the front end.  If a GPU
src/amuse/community/ph4/src/idata.cc:    // Without a GPU, this function calculate all quantities with
src/amuse/community/ph4/src/idata.cc:    // With a GPU, function get_partial_acc_and_jerk_on_gpu() uses
src/amuse/community/ph4/src/idata.cc:    if (!jdat->use_gpu) {
src/amuse/community/ph4/src/idata.cc:	// Use the GPU to compute the forces.  Note that "pred"
src/amuse/community/ph4/src/idata.cc:	if (DEBUG > 1) cout << "getting acc and jerk on GPU" << endl << flush;
src/amuse/community/ph4/src/idata.cc:	get_partial_acc_and_jerk_on_gpu();
src/amuse/community/ph4/src/idata.cc:	if (DEBUG > 1) cout << "acc and jerk on GPU done" << endl << flush;
src/amuse/community/ph4/src/idata.cc:    // We must do this for all i-particles in the GPU case (no
src/amuse/community/ph4/src/idata.cc:    // current j-domain in the non-GPU case.  In the latter case, ipos
src/amuse/community/ph4/src/idata.cc:    // Don't clutter the GPU code with extra checks used only in the
src/amuse/community/ph4/src/idata.cc:    // non-GPU case.  Just write the loop twice.
src/amuse/community/ph4/src/idata.cc:    if (jdat->use_gpu) {
src/amuse/community/ph4/src/idata.cc:	    if (!jdat->use_gpu) {
src/amuse/community/ph4/src/idata.cc:		// Don't use pred_pos/vel in the GPU case.  Also, need
src/amuse/community/ph4/src/idata.cc:		// mass for GPU update.  Don't scatter back.
src/amuse/community/ph4/src/idata.cc:    if (!jdat->use_gpu || NN > 0) {
src/amuse/community/ph4/src/idata.cc:    // Predict i-particles only (if using GPU; the GPU will handle the
src/amuse/community/ph4/src/idata.cc:    // GPU).
src/amuse/community/ph4/src/idata.cc:    if (jdat->use_gpu) {
src/amuse/community/ph4/src/idata.cc:	// Send updated information to the GPU.
src/amuse/community/ph4/src/idata.cc:	update_gpu();
src/amuse/community/ph4/src/GPU_options.txt:Now it is possible for an application to specify which GPUs to use via
src/amuse/community/ph4/src/GPU_options.txt:free choice of GPUs.  What are the likely options we would want to
src/amuse/community/ph4/src/GPU_options.txt:implement?  Assume np processes in the parallel application and ngpu
src/amuse/community/ph4/src/GPU_options.txt:GPUs per node, so ngpu = 2 for cassini, 6 for draco.  Use -P as in
src/amuse/community/ph4/src/GPU_options.txt:kira to specify some sort of list of GPUs.
src/amuse/community/ph4/src/GPU_options.txt:1. For a single worker process, may want to allocate up to ngpu GPUs
src/amuse/community/ph4/src/GPU_options.txt:2. For a parallel process on a single node, better have np <= ngpu.
src/amuse/community/ph4/src/GPU_options.txt:   All processes should have the same number of GPUs, so the only
src/amuse/community/ph4/src/GPU_options.txt:   relevant parameter is the number of GPUs ng per process.  The
src/amuse/community/ph4/src/GPU_options.txt:   simplest scheme is that process i uses GPUs ng*i, ng*i+1,...,
src/amuse/community/ph4/src/GPU_options.txt:   ng*i+ng-1, for i = 0,...,np-1.  For ngpu = 6, as on draco, there
src/amuse/community/ph4/src/GPU_options.txt:   distributed across nodes in order to determine GPU use as in 2.
src/amuse/community/ph4/src/GPU_options.txt:individual GPUs in order to avoid conflicts with other users.  In a
src/amuse/community/ph4/src/GPU_options.txt:GPUs is sufficient.  So keep the kira syntax for case 1, and just
src/amuse/community/ph4/src/idata.h:    // In gpu.cc:
src/amuse/community/ph4/src/idata.h:    void update_gpu();
src/amuse/community/ph4/src/idata.h:    void get_partial_acc_and_jerk_on_gpu(bool pot = false);
src/amuse/community/ph4/src/close_encounter.cc:    // parallelized and sped up using the GPU.  TODO.
src/amuse/community/ph4/src/two_body.cc:	// in order to recompute the potential energy, update the GPU
src/amuse/community/ph4/src/two_body.cc:    // Send new data on all affected j-particles to GPU.
src/amuse/community/ph4/src/two_body.cc:    if (use_gpu) {
src/amuse/community/ph4/src/two_body.cc:	sync_gpu();	// hardly a true fix for the GPU update
src/amuse/community/ph4/src/two_body.cc:	    initialize_gpu(true);
src/amuse/community/ph4/src/two_body.cc:	    // domains.  Update the GPU data only for the affected
src/amuse/community/ph4/src/two_body.cc:	    // locations.  Function update_gpu() will ignore any
src/amuse/community/ph4/src/two_body.cc:	    update_gpu(jcm_init, ncm_init);
src/amuse/community/ph4/src/two_body.cc:	    if (merge) update_gpu(jcm_final, ncm_final);
src/amuse/community/ph4/src/two_body.cc:    if (!use_gpu) predict_all(system_time);
src/amuse/community/ph4/src/two_body.cc:    if (use_gpu) idat->update_gpu();
src/amuse/community/ph4/src/two_body.cc:    // Update the GPU(s).  Maybe too complicated to try to keep track
src/amuse/community/ph4/src/two_body.cc:    // reinitialize the GPU data in all worker processes (even if
src/amuse/community/ph4/src/two_body.cc:    if (use_gpu) {
src/amuse/community/ph4/src/two_body.cc:	sync_gpu();	// not a true fix for the GPU update
src/amuse/community/ph4/src/two_body.cc:	initialize_gpu(true);
src/amuse/community/ph4/src/two_body.cc:    if (!use_gpu) predict_all(system_time);
src/amuse/community/ph4/src/two_body.cc:    if (use_gpu) idat->update_gpu();
src/amuse/community/ph4/src/README:1. ph4: parallel, GPU accelerated, 4th-order Hermite integrator,
src/amuse/community/ph4/src/README:	  scheduler.[ch]*, grape.[ch]*, gpu.cc, util.cc, diag.cc,
src/amuse/community/ph4/src/README:	      -DGPU option, respectively.  In addition, GPU use can be
src/amuse/community/ph4/src/README:		    parallel_hermite_4_noGPU
src/amuse/community/ph4/src/README:	      All GPU options are supported in all parallel versions.
src/amuse/community/ph4/src/README:	      test_ph4.py -G	runs parallel_hermite_4_noGPU
src/amuse/community/ph4/src/README:	* the GPU and non-GPU codes produce slightly different
src/amuse/community/ph4/src/README:		parallel_hermite_4_noGPU -e 0.001 ...
src/amuse/community/ph4/src/README:		mpiexec -n 2 parallel_hermite_4_noGPU -e 0.001 ... different
src/amuse/community/ph4/src/README:		the noGPU differences seem to be significantly smaller
src/amuse/community/ph4/src/parallel_hermite_4.cc:// Parallel fourth-order Hermite integrator with GRAPE/GPU
src/amuse/community/ph4/src/parallel_hermite_4.cc://	-g		suppress GPU use			[use GPU]
src/amuse/community/ph4/src/parallel_hermite_4.cc:void run_hermite4(int ntotal, int seed, char *file, bool use_gpu,
src/amuse/community/ph4/src/parallel_hermite_4.cc:    jd.setup_gpu();		// set have_gpu and default use_gpu
src/amuse/community/ph4/src/parallel_hermite_4.cc:    if (use_gpu && !jd.have_gpu) use_gpu = false;
src/amuse/community/ph4/src/parallel_hermite_4.cc:    jd.use_gpu = use_gpu;
src/amuse/community/ph4/src/parallel_hermite_4.cc:    bool remove = false;	// don't check GPU bug in remove_particle()
src/amuse/community/ph4/src/parallel_hermite_4.cc:	    if (!jd.use_gpu)
src/amuse/community/ph4/src/parallel_hermite_4.cc:		jd.initialize_gpu(true);		// reload the GPU
src/amuse/community/ph4/src/parallel_hermite_4.cc:#ifdef GPU
src/amuse/community/ph4/src/parallel_hermite_4.cc:    bool use_gpu = true;
src/amuse/community/ph4/src/parallel_hermite_4.cc:    bool use_gpu = false;
src/amuse/community/ph4/src/parallel_hermite_4.cc:		case 'g':	use_gpu = !use_gpu;
src/amuse/community/ph4/src/parallel_hermite_4.cc:	cout << "    -g "; PRL(use_gpu);
src/amuse/community/ph4/src/parallel_hermite_4.cc:    run_hermite4(ntotal, seed, infile, use_gpu,
src/amuse/community/ph4/test_ph4.py:             n_workers = 1, use_gpu = 1, gpu_worker = 1, gpu_id = -1,
src/amuse/community/ph4/test_ph4.py:    print("use_gpu =", use_gpu)
src/amuse/community/ph4/test_ph4.py:    # Note that there are actually three GPU options to test:
src/amuse/community/ph4/test_ph4.py:    #	1. use the GPU code and allow GPU use (default)
src/amuse/community/ph4/test_ph4.py:    #	2. use the GPU code but disable GPU use (-g)
src/amuse/community/ph4/test_ph4.py:    #	3. use the non-GPU code (-G)
src/amuse/community/ph4/test_ph4.py:    gpu = 0
src/amuse/community/ph4/test_ph4.py:    if gpu_worker == 1:
src/amuse/community/ph4/test_ph4.py:                           redirection = "none", mode = "gpu")
src/amuse/community/ph4/test_ph4.py:            gpu = 1
src/amuse/community/ph4/test_ph4.py:            print('*** GPU worker code not found. Reverting to non-GPU code. ***')
src/amuse/community/ph4/test_ph4.py:            gpu = 0
src/amuse/community/ph4/test_ph4.py:    if gpu == 0:
src/amuse/community/ph4/test_ph4.py:    gravity.parameters.gpu_id = gpu_id
src/amuse/community/ph4/test_ph4.py:    gravity.parameters.use_gpu = use_gpu
src/amuse/community/ph4/test_ph4.py:    use_gpu = 1
src/amuse/community/ph4/test_ph4.py:    gpu_worker = 1
src/amuse/community/ph4/test_ph4.py:    gpu_id = -1
src/amuse/community/ph4/test_ph4.py:            use_gpu = 0
src/amuse/community/ph4/test_ph4.py:            use_gpu = 0
src/amuse/community/ph4/test_ph4.py:            gpu_worker = 0
src/amuse/community/ph4/test_ph4.py:            gpu_id = int(a)
src/amuse/community/ph4/test_ph4.py:             use_gpu, gpu_worker, gpu_id,
src/amuse/community/tupan/Makefile:PYOPENCL_AVAILABLE := $(shell $(PYTHON) -c "import pyopencl"  1>&2 2> /dev/null && echo "yes" || echo "no")
src/amuse/community/tupan/Makefile:	@echo "Testing import of modules required for tupan (pyopencl, cffi):"
src/amuse/community/tupan/Makefile:ifeq ($(PYOPENCL_AVAILABLE),no)
src/amuse/community/tupan/Makefile:	$(warning "Python import (optional) not available: pyopencl")
src/amuse/community/etics/Makefile:GPUARCH ?= 35
src/amuse/community/etics/Makefile:CUDAFLAGS += -arch=sm_$(GPUARCH)
src/amuse/community/etics/Makefile:CUDA_TK ?= /usr/local/cuda/
src/amuse/community/etics/Makefile:CUDA_LIBS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcuda 
src/amuse/community/etics/Makefile:$(CUDA_TK):
src/amuse/community/etics/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
src/amuse/community/etics/Makefile:	@echo "please set the CUDA_TK variable to the directory"
src/amuse/community/etics/Makefile:	@echo "where you installed CUDA"
src/amuse/community/etics/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
src/amuse/community/etics/Makefile:compile: $(CUDA_TK) $(CODELIB)
src/amuse/community/etics/Makefile:	$(MPICXX) $(CXXFLAGS) -L/usr/local/cuda/lib64 $< $(OBJS) $(CODELIB) -o $@ -lcudart
src/amuse/community/etics/README.md:This is ETICS (Expansion Techniques In Collisionless Systems), a GPU (currently
src/amuse/community/etics/README.md:**CUDA only**) N-body code which uses series expansion to calculate the
src/amuse/community/etics/README.md:- CUDA (>= 6; mandatory)
src/amuse/community/etics/README.md:For at least one of the CUDA kernels, for various reasons, it seems that "brute
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaOccupancyMaxPotentialBlockSizeVariableSMem(&minGridSize, &blockSize, CalculateCoefficientsPartial, blockSizeToDynamicSMemSize, 128);
src/amuse/community/etics/src/scf-optimize-lc.cu:    cerr << "Warning: setting blockSizeLimit=128 for cudaOccupancyMaxPotentialBlockSizeVariableSMem." << endl;
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaOccupancyMaxPotentialBlockSize(&minGridSize, &blockSize, CalculateGravityFromCoefficients, 0, N);
src/amuse/community/etics/src/scf-optimize-lc.cu:    // Need to make sure A_h is loaded to GPU and the first particle is at (187.79, 187.79, 0); also, global arrays Potential and F should be allocated on GPU
src/amuse/community/etics/src/scf-optimize-lc.cu:    SendCoeffsToGPU(A_h);
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMemset(F, 0, sizeof(vec3));
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMemcpy(&FirstParticleForce, F, sizeof(vec3), cudaMemcpyDeviceToHost);
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaDeviceProp DeviceProperties;
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaGetDeviceProperties(&DeviceProperties, 0); // should be DevID!!!
src/amuse/community/etics/src/scf-optimize-lc.cu:    cout << "Probing device GPU" << 0 << " on host " << HostName << ": " << DeviceProperties.name << endl << endl;
src/amuse/community/etics/src/scf-optimize-lc.cu:        cout << "Could not count cores! Your GPU is possibly too new. We'll take " << Cores << " but it doesn't really matter." << endl << endl;
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMalloc((void**)&ParticleList, N * sizeof(Particle));
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMemcpy(ParticleList, ParticleList_h, N * sizeof(Particle), cudaMemcpyHostToDevice);
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMalloc((void**)&Potential, N * sizeof(Real));
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMalloc((void**)&F, N * sizeof(vec3));
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaFree(PartialSum);
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaMalloc((void**)&PartialSum, RealMaxGS*(LMAX+1)*sizeof(Complex));
src/amuse/community/etics/src/scf-optimize-lc.cu:    printf("Parameters: LMAX=%d, NMAX=%d, N=%d (GPU%d=\"%s\" on %s)\n", LMAX, NMAX, N, 0, DeviceProperties.name, HostName);
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaFree(PartialSum);
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaFree(ParticleList);
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaFree(Potential);
src/amuse/community/etics/src/scf-optimize-lc.cu:    cudaFree(F);
src/amuse/community/etics/src/scf.hpp:        void SendCoeffsToGPU(Complex *A_h);
src/amuse/community/etics/src/file.ini:;    device (CUDA device ID; by default or if negative, cudaSetDevice is skipped)
src/amuse/community/etics/src/configure.ac:    [cuda],
src/amuse/community/etics/src/configure.ac:    [AS_HELP_STRING([--with-cuda=DIR], [CUDA installation directory])],
src/amuse/community/etics/src/configure.ac:    [CUDA_ROOT="$withval"]
src/amuse/community/etics/src/configure.ac:AS_IF([test "$CUDA_ROOT" == "no"], [AC_MSG_ERROR([This package needs CUDA])])
src/amuse/community/etics/src/configure.ac:    [gpu-arch],
src/amuse/community/etics/src/configure.ac:    [AS_HELP_STRING([--with-gpu-arch=ARCH], [Specify device architechture [default=35]])],
src/amuse/community/etics/src/configure.ac:    [GPU_ARCH="$withval"]
src/amuse/community/etics/src/configure.ac:AS_IF([test -z $GPU_ARCH], [GPU_ARCH=35])
src/amuse/community/etics/src/configure.ac:# Check CUDA
src/amuse/community/etics/src/configure.ac:AS_IF([test -z $CUDA_ROOT],
src/amuse/community/etics/src/configure.ac:    AS_IF([test "$NVCC" == "no"], [AC_MSG_ERROR([This package needs CUDA])],
src/amuse/community/etics/src/configure.ac:        CUDA_ROOT=`which nvcc | sed 's:/bin/nvcc$::'`
src/amuse/community/etics/src/configure.ac:    AC_CHECK_PROG([NVCC], [nvcc], [$CUDA_ROOT/bin/nvcc], [no], [$CUDA_ROOT/bin])
src/amuse/community/etics/src/configure.ac:    AS_IF([test "$NVCC" == "no"], [AC_MSG_ERROR([No nvcc executable was found in $CUDA_ROOT/bin])])
src/amuse/community/etics/src/configure.ac:AX_LDFLAGS_PUSH([-L$CUDA_ROOT/lib64])
src/amuse/community/etics/src/configure.ac:AC_CHECK_LIB([cuda], [main], [], [AC_MSG_ERROR([Error while checking for libcuda])])
src/amuse/community/etics/src/configure.ac:AC_CHECK_LIB([cudart], [main], [], [AC_MSG_ERROR([Error while checking for libcudart])])
src/amuse/community/etics/src/configure.ac:AC_CHECK_LIB([cudadevrt], [main], [], [AC_MSG_ERROR([Error while checking for cudadevrt])])
src/amuse/community/etics/src/configure.ac:AC_SUBST([CUDA_ROOT])
src/amuse/community/etics/src/configure.ac:AC_SUBST([GPU_ARCH])
src/amuse/community/etics/src/configure.ac:                  CUDA compiler: $NVCC
src/amuse/community/etics/src/configure.ac:                           cuda: yes
src/amuse/community/etics/src/configure.ac:              GPU architechture: $GPU_ARCH
src/amuse/community/etics/src/main.cu:// If you have CUDA then compile with:
src/amuse/community/etics/src/main.cu:#define CUDA
src/amuse/community/etics/src/main.cu:    #undef CUDA
src/amuse/community/etics/src/main.cu://     #include "cuda_complex.hpp"
src/amuse/community/etics/src/main.cu:        if (cudaSetDevice(DeviceID) != cudaSuccess) {
src/amuse/community/etics/src/main.cu:        cerr << "Skipping call to cudaSetDevice." << endl;
src/amuse/community/etics/src/main.cu:    cudaDeviceProp DeviceProperties;
src/amuse/community/etics/src/main.cu:    cudaGetDeviceProperties(&DeviceProperties, 0);
src/amuse/community/etics/src/main.cu:    // Here we collect the GPU IDs from all MPI processes and print a warning if one GPU is assigned to more than one process.
src/amuse/community/etics/src/main.cu:            printf("\x1B[31m!!SEVERE WARNING!!\x1B[0m It seems the same physical GPU device was assigned to multiple processes; check the submission script.\n");
src/amuse/community/etics/src/config.h.in:/* Define to 1 if you have the `cuda' library (-lcuda). */
src/amuse/community/etics/src/config.h.in:#undef HAVE_LIBCUDA
src/amuse/community/etics/src/config.h.in:/* Define to 1 if you have the `cudadevrt' library (-lcudadevrt). */
src/amuse/community/etics/src/config.h.in:#undef HAVE_LIBCUDADEVRT
src/amuse/community/etics/src/config.h.in:/* Define to 1 if you have the `cudart' library (-lcudart). */
src/amuse/community/etics/src/config.h.in:#undef HAVE_LIBCUDART
src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.xi,         N * sizeof(Real));
src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.Phi0l,      N * sizeof(Real));
src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.Wprev1,     N * sizeof(Real));
src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.Wprev2,     N * sizeof(Real));
src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.costheta,   N * sizeof(Real));
src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.sintheta_I, N * sizeof(Real));
src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.Exponent,   N * sizeof(Complex));
src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&Cache_h.mass,       N * sizeof(Real));
src/amuse/community/etics/src/scf.cu:    cudaMemcpyToSymbol(Cache, &Cache_h, sizeof(CacheStruct));
src/amuse/community/etics/src/scf.cu:    cudaMemcpy(PartialSum_h, PartialSum, k3gs*(l+1)*sizeof(Complex), cudaMemcpyDeviceToHost);
src/amuse/community/etics/src/scf.cu:void etics::scf::SendCoeffsToGPU(Complex *A_h) {
src/amuse/community/etics/src/scf.cu:        cudaMemcpyToSymbol(A, A_h, (NMAX+1)*(LMAX+1)*(LMAX+2)/2 * sizeof(Complex));
src/amuse/community/etics/src/scf.cu:#warning not really need this copy, just calculate the coefficients in some local array, then sum it into a global array (A_h or somthing) and copy it to GPUs
src/amuse/community/etics/src/scf.cu://     cudaMemcpyToSymbol(A, A_h, (NMAX+1)*(LMAX+1)*(LMAX+2)/2 * sizeof(Complex));
src/amuse/community/etics/src/scf.cu:    SendCoeffsToGPU(A_h);
src/amuse/community/etics/src/scf.cu:        cudaOccupancyMaxPotentialBlockSizeVariableSMem(&minGridSize, &blockSize, CalculateCoefficientsPartial, blockSizeToDynamicSMemSize, 128);
src/amuse/community/etics/src/scf.cu:        cerr << "Warning: setting blockSizeLimit=128 for cudaOccupancyMaxPotentialBlockSizeVariableSMem." << endl;
src/amuse/community/etics/src/scf.cu:        cudaOccupancyMaxPotentialBlockSize(&minGridSize, &blockSize, CalculateGravityFromCoefficients, 0, N);
src/amuse/community/etics/src/scf.cu:    cudaMemcpyToSymbol(RadCoeff, RadCoeff_h, (NMAX+1)*(LMAX+1) * sizeof(Real));
src/amuse/community/etics/src/scf.cu:    cudaMemcpyToSymbol(AngCoeff, AngCoeff_h, (LMAX+1)*(LMAX+2)/2 * sizeof(Real));
src/amuse/community/etics/src/scf.cu:    cudaMemcpyToSymbol(Cache, &Cache_h, sizeof(CacheStruct));
src/amuse/community/etics/src/scf.cu:    cudaMalloc((void**)&PartialSum, k3gs*(LMAX+1)*sizeof(Complex));
src/amuse/community/etics/src/Makefile.in:GPU_ARCH = @GPU_ARCH@
src/amuse/community/etics/src/Makefile.in:LDFLAGS    = -L@CUDA_ROOT@/lib64 @LDFLAGS@
src/amuse/community/etics/src/Makefile.in:# LIBS should get at least -lcuda -lcudart -lcudadevrt from the configure script
src/amuse/community/etics/src/Makefile.in:CUDAFLAGS  = -arch=sm_$(GPU_ARCH)
src/amuse/community/etics/src/Makefile.in:	$(NVCC) $(CUDAFLAGS) -dlink $(CODEOBJS1) -o dlink.o
src/amuse/community/etics/src/Makefile.in:	$(NVCC) $(CUDAFLAGS) -dlink $(CODEOBJS1) $(CODEOBJS2) -o dlink.o
src/amuse/community/etics/src/Makefile.in:	$(NVCC) $(CUDAFLAGS) -dlink mathaux.o scf.o scf-optimize-lc.o ic.o -o dlink.o
src/amuse/community/etics/src/Makefile.in:	$(NVCC) $(CUDAFLAGS) $(CPPFLAGS) -Xcompiler "$(CXXFLAGS)" -dc -o $@ $<
src/amuse/community/etics/src/configure:GPU_ARCH
src/amuse/community/etics/src/configure:CUDA_ROOT
src/amuse/community/etics/src/configure:with_cuda
src/amuse/community/etics/src/configure:with_gpu_arch
src/amuse/community/etics/src/configure:  --with-cuda=DIR         CUDA installation directory
src/amuse/community/etics/src/configure:  --with-gpu-arch=ARCH    Specify device architechture [default=35]
src/amuse/community/etics/src/configure:# Check whether --with-cuda was given.
src/amuse/community/etics/src/configure:if test "${with_cuda+set}" = set; then :
src/amuse/community/etics/src/configure:  withval=$with_cuda; CUDA_ROOT="$withval"
src/amuse/community/etics/src/configure:if test "$CUDA_ROOT" == "no"; then :
src/amuse/community/etics/src/configure:  as_fn_error $? "This package needs CUDA" "$LINENO" 5
src/amuse/community/etics/src/configure:# Check whether --with-gpu-arch was given.
src/amuse/community/etics/src/configure:if test "${with_gpu_arch+set}" = set; then :
src/amuse/community/etics/src/configure:  withval=$with_gpu_arch; GPU_ARCH="$withval"
src/amuse/community/etics/src/configure:if test -z $GPU_ARCH; then :
src/amuse/community/etics/src/configure:  GPU_ARCH=35
src/amuse/community/etics/src/configure:# Check CUDA
src/amuse/community/etics/src/configure:if test -z $CUDA_ROOT; then :
src/amuse/community/etics/src/configure:  as_fn_error $? "This package needs CUDA" "$LINENO" 5
src/amuse/community/etics/src/configure:        CUDA_ROOT=`which nvcc | sed 's:/bin/nvcc$::'`
src/amuse/community/etics/src/configure:for as_dir in $CUDA_ROOT/bin
src/amuse/community/etics/src/configure:    ac_cv_prog_NVCC="$CUDA_ROOT/bin/nvcc"
src/amuse/community/etics/src/configure:  as_fn_error $? "No nvcc executable was found in $CUDA_ROOT/bin" "$LINENO" 5
src/amuse/community/etics/src/configure:    LDFLAGS="-L$CUDA_ROOT/lib64 $LDFLAGS"
src/amuse/community/etics/src/configure:{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for main in -lcuda" >&5
src/amuse/community/etics/src/configure:$as_echo_n "checking for main in -lcuda... " >&6; }
src/amuse/community/etics/src/configure:if ${ac_cv_lib_cuda_main+:} false; then :
src/amuse/community/etics/src/configure:LIBS="-lcuda  $LIBS"
src/amuse/community/etics/src/configure:  ac_cv_lib_cuda_main=yes
src/amuse/community/etics/src/configure:  ac_cv_lib_cuda_main=no
src/amuse/community/etics/src/configure:{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_cuda_main" >&5
src/amuse/community/etics/src/configure:$as_echo "$ac_cv_lib_cuda_main" >&6; }
src/amuse/community/etics/src/configure:if test "x$ac_cv_lib_cuda_main" = xyes; then :
src/amuse/community/etics/src/configure:#define HAVE_LIBCUDA 1
src/amuse/community/etics/src/configure:  LIBS="-lcuda $LIBS"
src/amuse/community/etics/src/configure:  as_fn_error $? "Error while checking for libcuda" "$LINENO" 5
src/amuse/community/etics/src/configure:{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for main in -lcudart" >&5
src/amuse/community/etics/src/configure:$as_echo_n "checking for main in -lcudart... " >&6; }
src/amuse/community/etics/src/configure:if ${ac_cv_lib_cudart_main+:} false; then :
src/amuse/community/etics/src/configure:LIBS="-lcudart  $LIBS"
src/amuse/community/etics/src/configure:  ac_cv_lib_cudart_main=yes
src/amuse/community/etics/src/configure:  ac_cv_lib_cudart_main=no
src/amuse/community/etics/src/configure:{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_cudart_main" >&5
src/amuse/community/etics/src/configure:$as_echo "$ac_cv_lib_cudart_main" >&6; }
src/amuse/community/etics/src/configure:if test "x$ac_cv_lib_cudart_main" = xyes; then :
src/amuse/community/etics/src/configure:#define HAVE_LIBCUDART 1
src/amuse/community/etics/src/configure:  LIBS="-lcudart $LIBS"
src/amuse/community/etics/src/configure:  as_fn_error $? "Error while checking for libcudart" "$LINENO" 5
src/amuse/community/etics/src/configure:{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for main in -lcudadevrt" >&5
src/amuse/community/etics/src/configure:$as_echo_n "checking for main in -lcudadevrt... " >&6; }
src/amuse/community/etics/src/configure:if ${ac_cv_lib_cudadevrt_main+:} false; then :
src/amuse/community/etics/src/configure:LIBS="-lcudadevrt  $LIBS"
src/amuse/community/etics/src/configure:  ac_cv_lib_cudadevrt_main=yes
src/amuse/community/etics/src/configure:  ac_cv_lib_cudadevrt_main=no
src/amuse/community/etics/src/configure:{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_cudadevrt_main" >&5
src/amuse/community/etics/src/configure:$as_echo "$ac_cv_lib_cudadevrt_main" >&6; }
src/amuse/community/etics/src/configure:if test "x$ac_cv_lib_cudadevrt_main" = xyes; then :
src/amuse/community/etics/src/configure:#define HAVE_LIBCUDADEVRT 1
src/amuse/community/etics/src/configure:  LIBS="-lcudadevrt $LIBS"
src/amuse/community/etics/src/configure:  as_fn_error $? "Error while checking for cudadevrt" "$LINENO" 5
src/amuse/community/etics/src/configure:                  CUDA compiler: $NVCC
src/amuse/community/etics/src/configure:                           cuda: yes
src/amuse/community/etics/src/configure:              GPU architechture: $GPU_ARCH
src/amuse/community/etics/src/configure:                  CUDA compiler: $NVCC
src/amuse/community/etics/src/configure:                           cuda: yes
src/amuse/community/etics/src/configure:              GPU architechture: $GPU_ARCH
src/amuse/community/etics/src/common.hpp:#ifndef __CUDACC__
src/amuse/community/etics/src/common.hpp:#ifdef __CUDACC__
src/amuse/community/etics/src/common.hpp:    cudaEvent_t StartTime, StopTime;
src/amuse/community/etics/src/common.hpp:        cudaEventCreate(&StartTime);
src/amuse/community/etics/src/common.hpp:        cudaEventCreate(&StopTime);
src/amuse/community/etics/src/common.hpp:        cudaEventDestroy(StartTime);
src/amuse/community/etics/src/common.hpp:        cudaEventDestroy(StopTime);
src/amuse/community/etics/src/common.hpp:        cudaEventRecord(StartTime);
src/amuse/community/etics/src/common.hpp:        cudaEventRecord(StopTime);
src/amuse/community/etics/src/common.hpp:        cudaEventSynchronize(StopTime);
src/amuse/community/etics/src/common.hpp:        cudaEventElapsedTime(&TimeDiff, StartTime, StopTime);
src/amuse/community/mi6/interface.py:    MODE_GPU = 'gpu'
src/amuse/community/mi6/interface.py:        elif mode == self.MODE_GPU:
src/amuse/community/mi6/interface.py:            return 'mi6_worker_gpu'
src/amuse/community/mi6/Makefile:CUDA_LIBS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcudart
src/amuse/community/mi6/Makefile:CODELIB_GPU = src/libmi6_gpu.a
src/amuse/community/mi6/Makefile:	rm -f *~ mi6_worker mi6_worker_gpu
src/amuse/community/mi6/Makefile:	rm -f worker_code-sockets.cc mi6_worker_sockets mi6_worker_gpu_sockets
src/amuse/community/mi6/Makefile:$(CODELIB_GPU):
src/amuse/community/mi6/Makefile:	make -C src gpulib
src/amuse/community/mi6/Makefile:mi6_worker_gpu: worker_code.cc worker_code.h $(CODELIB_GPU) $(OBJS)
src/amuse/community/mi6/Makefile:	$(MPICXX) $(CXXFLAGS) $(SC_FLAGS) -I./src  $< $(OBJS) $(CODELIB_GPU) -o $@ -L./src -lmi6_gpu $(SC_CLIBS) $(SAPPORO_LIBS) $(CUDA_LIBS)  $(LIBS)
src/amuse/community/mi6/src/6thorder.h:  Initialize the GPU library
src/amuse/community/mi6/src/Makefile:CUDA_LIBS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcudart
src/amuse/community/mi6/src/Makefile:GPU_OBJS = $(OBJS) evolve_gpu.o
src/amuse/community/mi6/src/Makefile:all: Nbody_emu.out Nbody_gpu.out Nbody_gpu_pec2.out Nbody_emu_pec2.out libmi6.a libmi6_gpu.a
src/amuse/community/mi6/src/Makefile:gpulib:  libmi6_gpu.a
src/amuse/community/mi6/src/Makefile:libmi6_gpu.a: $(GPU_OBJS) # Nbody_gpu.o
src/amuse/community/mi6/src/Makefile:	$(AR) $@ $(GPU_OBJS) # Nbody_gpu.o
src/amuse/community/mi6/src/Makefile:#~Nbody_gpu.o:  Nbody.cc
src/amuse/community/mi6/src/Makefile:evolve_gpu.o:  evolve.cc evolve.h
src/amuse/community/mi6/src/Makefile:evolve_gpu_pec2.o:  evolve.cc evolve.h
src/amuse/community/mi6/src/Makefile:Nbody_gpu.out:  Nbody.cc  $(GPU_OBJS)
src/amuse/community/mi6/src/Makefile:	$(MPICXX) $(CXXFLAGS) -DSAP -o $@ $^ -lcuda -fopenmp $(SAPPORO_LIBS) $(CUDA_LIBS)
src/amuse/community/mi6/src/Makefile:Nbody_gpu_pec2.out:  Nbody.cc  evolve_gpu_pec2.o $(OBJS) 
src/amuse/community/mi6/src/Makefile:	$(MPICXX) $(CXXFLAGS) -DPECEC -DSAP -o $@ $^ -lcuda -fopenmp $(SAPPORO_LIBS) $(CUDA_LIBS)
src/amuse/community/mi6/src/Makefile:	$(RM) *.o *.s Nbody_emu.out Nbody_gpu.out Nbody_emu_pec2.out Nbody_gpu_pec2.out libmi6.a libmi6_gpu.a
src/amuse/community/mi6/src/sapporo2_dummy.cc:Initialize the GPU library
src/amuse/community/smalln/src/stdinc.h:#endif				// on GPU: not fully tested
src/amuse/community/mameclot/src/mameclot.c:      // copy to temp arrays for potential calculation on GPU
src/amuse/community/mameclot/src/mameclot.c:  // This function is executed on the CPU (defined in pot.c) or GPU (defined in gpupot.cu)
src/amuse/community/mameclot/src/mameclot.c:  // This function is executed on the CPU (defined in pot.c) or GPU (defined in gpupot.cu)
src/amuse/community/mameclot/src/mameclot.c:    // On GPU the specific potential of the 2nd cluster is not computed, that is why the
src/amuse/community/mameclot/src/Makefile:CUDAPATH = /usr/local/cuda/bin/
src/amuse/community/mameclot/src/Makefile:CUDAFLAGS = -L/usr/local/cuda/lib64 -I/usr/local/cuda/include -lcudart -lcuda
src/amuse/community/mameclot/src/Makefile:NVCC = $(CUDAPATH)/nvcc
src/amuse/community/mameclot/src/Makefile:CUDASOURCE = pot.cu
src/amuse/community/mameclot/src/Makefile:CUDAOBJ = gpupot.o
src/amuse/community/mameclot/src/Makefile:gpu:	$(OBJ)
src/amuse/community/mameclot/src/Makefile:	$(NVCC) -c -m64 -arch sm_20  gpupot.cu
src/amuse/community/mameclot/src/Makefile:	$(CC)  $(CUDAFLAGS)  -o $(EXE).gpu $(CUDAOBJ) $(OBJ) $(LIBS)
src/amuse/community/mameclot/src/Makefile:	rm -f *.o $(EXE) $(EXE).gpu
src/amuse/community/mameclot/src/gpupot.cu:#include <cuda.h>
src/amuse/community/mameclot/src/gpupot.cu:__global__ void compute_potential_gpu(float *m, 
src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&m_d  , sizeof(float)*N); 
src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&x_d  , sizeof(float)*N); 
src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&y_d  , sizeof(float)*N);
src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&z_d  , sizeof(float)*N); 
src/amuse/community/mameclot/src/gpupot.cu:  cudaMalloc(&phi_d, sizeof(float)*N);
src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(m_d,m    , sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(x_d,x    , sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(y_d,y    , sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(z_d,z    , sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(phi_d,phi, sizeof(float)*N, cudaMemcpyHostToDevice); // Host -> Device
src/amuse/community/mameclot/src/gpupot.cu:  compute_potential_gpu <<<((N+BLOCKSIZE-1))/BLOCKSIZE,BLOCKSIZE >>>(m_d,x_d, y_d, z_d, phi_d,N,N1);
src/amuse/community/mameclot/src/gpupot.cu:  cudaMemcpy(phi,phi_d, sizeof(float)*N, cudaMemcpyDeviceToHost); // Host -> Device
src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(m_d);
src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(x_d);
src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(y_d);
src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(z_d);
src/amuse/community/mameclot/src/gpupot.cu:  cudaFree(phi_d);
src/amuse/community/mameclot/src/COMPILE:For CUDA enabled GPU support compile as
src/amuse/community/mameclot/src/COMPILE:make gpu
src/amuse/community/mameclot/src/COMPILE:This creates the executable mameclot.gpu for fast energy scaling on a GPU 
src/amuse/community/mameclot/src/COMPILE:Perhaps necessary to change the paths of cuda and cuda libs in the Makefile
src/amuse/community/higpus/interface.py:class HiGPUsInterface(CodeInterface, 
src/amuse/community/higpus/interface.py:    HiGPUs is a parallel direct N-body code based on a 6th order Hermite integrator. It uses, at the same time, MPI, OpenMP and CUDA 
src/amuse/community/higpus/interface.py:        CodeInterface.__init__(self, name_of_the_worker="higpus_worker_gpu", **keyword_arguments)
src/amuse/community/higpus/interface.py:    def set_number_of_GPU():
src/amuse/community/higpus/interface.py:        function.addParameter('number_of_GPU', dtype='int32', direction=function.IN, description = "number of GPU.")
src/amuse/community/higpus/interface.py:    def get_number_of_GPU():
src/amuse/community/higpus/interface.py:        function.addParameter('number_of_GPU', dtype='int32', direction=function.OUT, description = "number of GPU.")
src/amuse/community/higpus/interface.py:    def set_gpu_name():
src/amuse/community/higpus/interface.py:        function.addParameter('gpu_name', dtype='string', direction=function.IN, description = "name of the GPU used.")
src/amuse/community/higpus/interface.py:    def get_gpu_name():
src/amuse/community/higpus/interface.py:        function.addParameter('gpu_name', dtype='string', direction=function.OUT, description = "name of the GPU used.")
src/amuse/community/higpus/interface.py:        function.addParameter('output_path_name', dtype='string', direction=function.IN, description = "name of the path where higpus output will be stored.")
src/amuse/community/higpus/interface.py:        function.addParameter('output_path_name', dtype='string', direction=function.OUT, description = "name of the path where higpus output will be stored.")
src/amuse/community/higpus/interface.py:class HiGPUs(GravitationalDynamics):
src/amuse/community/higpus/interface.py:        legacy_interface = HiGPUsInterface(**keyword_arguments)
src/amuse/community/higpus/interface.py:            "get_gpu_name",                       
src/amuse/community/higpus/interface.py:            "set_gpu_name",                       
src/amuse/community/higpus/interface.py:            "gpu_name",                           
src/amuse/community/higpus/interface.py:            "gpu name",                           
src/amuse/community/higpus/interface.py:            "get_number_of_GPU",                  
src/amuse/community/higpus/interface.py:            "set_number_of_GPU",                  
src/amuse/community/higpus/interface.py:            "n_gpu",                              
src/amuse/community/higpus/interface.py:            "number of gpus per node",            
src/amuse/community/higpus/interface.py:            "set_number_of_GPU",
src/amuse/community/higpus/interface.py:            "get_number_of_GPU",
src/amuse/community/higpus/interface.py:            "set_gpu_name",
src/amuse/community/higpus/interface.py:            "get_gpu_name",
src/amuse/community/higpus/interface.py:            raise Exception(f"Higpus needs a power of two number of particles not {n}, try padding with zero mass particles")
src/amuse/community/higpus/interface.py:Higpus = HiGPUs
src/amuse/community/higpus/Makefile:# for most users (most users have no gpu).
src/amuse/community/higpus/Makefile:ALL	 = higpus_worker_gpu
src/amuse/community/higpus/Makefile:CUDA_INSTALL_PATH := /usr/local/cuda
src/amuse/community/higpus/Makefile:NVCC ?= /usr/local/cuda/bin/nvcc
src/amuse/community/higpus/Makefile:#possible options : -DCHECK_ERRORS -DCHECK_TIMES -DPLUMMER -DUNROLL -DGPUCORR -DGALAXY
src/amuse/community/higpus/Makefile:CUDAINCLUDE := -I$(CUDA_INSTALL_PATH)/include
src/amuse/community/higpus/Makefile:CUDALIB := -L$(CUDA_INSTALL_PATH)/lib64 -lcuda -lcudart
src/amuse/community/higpus/Makefile:## LIBS := -lcuda -lcudart -lmpi -lmpi_cxx -lm -fopenmp
src/amuse/community/higpus/Makefile:LIBS := -lm $(OPENMP_CFLAGS) $(MPI_CXXLIBS) $(CUDALIB)
src/amuse/community/higpus/Makefile:NVCCFLAGS := -O3 --compiler-bindir=/usr/bin/$(CXX) -Xcompiler "$(GXXOPTS) $(MYOPTS)" $(CUDAINCLUDE) $(MPI_CXXFLAGS) $(MYINCLUDE) $(NVCC_FLAGS)
src/amuse/community/higpus/Makefile:CXXFLAGS += $(GXXOPTS) $(MYOPTS) $(CUDAINCLUDE) $(MPI_CXXFLAGS) $(MYINCLUDE)
src/amuse/community/higpus/Makefile:LDFLAGS = $(LIBS) $(CUDALIB) 
src/amuse/community/higpus/Makefile:CODELIB = src/libhigpus.a
src/amuse/community/higpus/Makefile:code: higpus_worker_gpu
src/amuse/community/higpus/Makefile:	$(CODE_GENERATOR) --type=c interface.py HiGPUsInterface -o $@
src/amuse/community/higpus/Makefile:	$(CODE_GENERATOR) --type=H interface.py HiGPUsInterface -o $@
src/amuse/community/higpus/Makefile:higpus_worker_gpu: worker_code.cc worker_code.h $(CODELIB) $(OBJS)
src/amuse/community/higpus/Makefile:	$(RM) *~ higpus_worker higpus_worker_gpu worker_code.cc
src/amuse/community/higpus/interface.cc:int size_higpus, rank_higpus, particle_id_counter;
src/amuse/community/higpus/interface.cc:unsigned int         N, M, NGPU, TPB, FMAX, BFMAX, MAXDIM, GPUMINTHREADS;
src/amuse/community/higpus/interface.cc:string               FINP, GPUNAME, warm_start_file, temp, argument = " ", path = "./";
src/amuse/community/higpus/interface.cc:	HostSafeCall(__MPIstart(&rank_higpus, &size_higpus, &mpi_float4, &mpi_double4));
src/amuse/community/higpus/interface.cc:	GPUNAME="";
src/amuse/community/higpus/interface.cc:	if(rank_higpus == 0){
src/amuse/community/higpus/interface.cc:   if(rank_higpus == 0){
src/amuse/community/higpus/interface.cc:	HostSafeCall(isDivisible(&N, &M,size_higpus, NGPU, TPB, &BFMAX));
src/amuse/community/higpus/interface.cc:		HostSafeCall(InitBlocks(pos_PH, vel_PH, TPB, N, M, BFMAX, ETA4, DTMIN, DTMAX, NGPU, EPS, &MAXDIM, &GPUMINTHREADS, GPUNAME, rank_higpus, size_higpus, pos_CH, vel_CH, a_H0, step, local_time, &ATIME, VIR, ratio, warm_start, setdev, dev, plummer_core, plummer_mass, rscale, mscale, path));
src/amuse/community/higpus/interface.cc:	if(rank_higpus == 0){
src/amuse/community/higpus/interface.cc:		temp = path + "HiGPUslog.dat";
src/amuse/community/higpus/interface.cc:   HostSafeCall(Hermite6th(TTIME, &GTIME, &ATIME, local_time, step, N, M, pos_PH, vel_PH, pos_CH, vel_CH, a_H0, MAXDIM, NGPU, TPB, rank_higpus, size_higpus, BFMAX, ETA6, ETA4, DTMAX, DTMIN, EPS, DTPRINT, FMAX, warm_start, GTW, GPUMINTHREADS, plummer_core, plummer_mass, rscale, mscale, dev, &cleanstop, path));
src/amuse/community/higpus/interface.cc:	unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
src/amuse/community/higpus/interface.cc:	unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
src/amuse/community/higpus/interface.cc:int set_number_of_GPU(int number_of_GPU){
src/amuse/community/higpus/interface.cc:   NGPU = number_of_GPU;
src/amuse/community/higpus/interface.cc:int get_number_of_GPU(int * number_of_GPU){
src/amuse/community/higpus/interface.cc:   *number_of_GPU = NGPU;
src/amuse/community/higpus/interface.cc:int get_gpu_name(char ** gpu_name){
src/amuse/community/higpus/interface.cc:   *gpu_name = to_char(GPUNAME);
src/amuse/community/higpus/interface.cc:int set_gpu_name(char *gpu_name){
src/amuse/community/higpus/interface.cc:   GPUNAME = to_string(gpu_name);
src/amuse/community/higpus/interface.cc:   unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
src/amuse/community/higpus/interface.cc:	if(rank_higpus == 0) cout<<"time steps are printed in the file 'Blocks', see README file to obtain more information"<<endl;  
src/amuse/community/higpus/interface.cc:   HostSafeCall(isDivisible(&N, &M,size_higpus, NGPU, TPB, &BFMAX));
src/amuse/community/higpus/interface.cc:   unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
src/amuse/community/higpus/interface.cc:   unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
src/amuse/community/higpus/interface.cc:   unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
src/amuse/community/higpus/interface.cc:	if( rank_higpus == 0) cout<<"accelerations are stored only on GPU, you can't get it"<<endl;
src/amuse/community/higpus/interface.cc:   unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
src/amuse/community/higpus/interface.cc:   unsigned int ppG = (unsigned int) ceil ( (double) M / size_higpus);
src/amuse/community/higpus/__init__.py:from .interface import Higpus
src/amuse/community/higpus/src/exec/input_param.txt:1       // number of gpus to use !
src/amuse/community/higpus/src/exec/input_param.txt:64     // gpus threads per block !
src/amuse/community/higpus/src/exec/input_param.txt:GeForce GTX 480#  // GPU to use (the name must be terminated with the character #) !
src/amuse/community/higpus/src/Makefile:CODELIB = libhigpus.a
src/amuse/community/higpus/src/Makefile:NVCC ?= /usr/local/cuda/bin/nvcc
src/amuse/community/higpus/src/Makefile:CUDAINCLUDE ?= -I$(CUDA_TK)/include
src/amuse/community/higpus/src/Makefile:NVCCFLAGS := -O3 -Xcompiler "$(GXXOPTS) $(MYOPTS) $(MPI_FCFLAGS) $(MPI_CFLAGS)" $(CUDAINCLUDE) $(MYINCLUDE) $(NVCC_FLAGS)
src/amuse/community/higpus/src/Makefile:CXXFLAGS += $(GXXOPTS) $(MYOPTS) $(CUDAINCLUDE) $(MYINCLUDE) $(MPI_CLIBS) $(MPI_CFLAGS)
src/amuse/community/higpus/src/Makefile:CUDAOBJS = 	./src/cuda/main.cu.o \
src/amuse/community/higpus/src/Makefile:                ./src/cuda/cpu_func.cu.o \
src/amuse/community/higpus/src/Makefile:                ./src/cuda/corrector.cu.o \
src/amuse/community/higpus/src/Makefile:                ./src/cuda/cudainit.cu.o \
src/amuse/community/higpus/src/Makefile:                ./src/cuda/hermite6.cu.o \
src/amuse/community/higpus/src/Makefile:                ./src/cuda/warmstart.cu.o \
src/amuse/community/higpus/src/Makefile:                ./src/cuda/selectactive.cu.o \
src/amuse/community/higpus/src/Makefile:                ./src/cuda/initblocks.cu.o \
src/amuse/community/higpus/src/Makefile:                ./src/cuda/allreduce.cu.o \
src/amuse/community/higpus/src/Makefile:                ./src/cuda/energy.cu.o \
src/amuse/community/higpus/src/Makefile:                ./src/cuda/cuda_kernels.cu.o
src/amuse/community/higpus/src/Makefile:CODEOBJS = $(CUDAOBJS) $(CXXOBJS)
src/amuse/community/higpus/src/Makefile:TARGET = ./exec/HiGPUs.x
src/amuse/community/higpus/src/Makefile:LINKLINE = $(CXX) -o $(TARGET) $(CODEOBJS) $(CUDA_LIBS) $(LIBS) $(MPI_CLIBS)
src/amuse/community/higpus/src/Makefile:$(TARGET): $(CUDAOBJS) $(CXXOBJS) Makefile 
src/amuse/community/higpus/src/Makefile:	/bin/rm -rf ./src/cuda/*.o ./src/cxx/*.o ./exec/HiGPUs.x ./exec/nohup.out ./exec/times.dat
src/amuse/community/higpus/src/Makefile:	/bin/rm -rf ./exec/data/energy.dat ./exec/data/Blocks.dat ./exec/data/HiGPUslog.dat ./exec/data/*memory*
src/amuse/community/higpus/src/lib/my_errors.h:#include <cuda_runtime_api.h>
src/amuse/community/higpus/src/lib/my_errors.h:#define DeviceSafeCall(err)    __myCudaSafeCall( err, __FILE__, __LINE__ )
src/amuse/community/higpus/src/lib/my_errors.h:#define DeviceCheckErrors()    __myCudaLastError(__FILE__, __LINE__)
src/amuse/community/higpus/src/lib/my_errors.h:			error_string = " Invalid number of particles : it must be divisible by : \n 1) Number of computational nodes\n 2) Number of GPUs per node\n 3) Number of threads per block\n";
src/amuse/community/higpus/src/lib/my_errors.h:			error_string = " Not enough memory on one of the available GPUs \n";
src/amuse/community/higpus/src/lib/my_errors.h:		case(HNoGpus):
src/amuse/community/higpus/src/lib/my_errors.h:			error_string = " Not enough (or already tested) gpus available on the computational node \n";
src/amuse/community/higpus/src/lib/my_errors.h:			error_string = " The gpu choosen does not support Double-precision floating-point numbers \n";
src/amuse/community/higpus/src/lib/my_errors.h:			error_string = " The name of the gpu in the input file must be terminated with the # character \n";
src/amuse/community/higpus/src/lib/my_errors.h:			error_string = " The number of GPUs specified with the option -d must be equal to that specified in the file 'input_param.txt' \n ";
src/amuse/community/higpus/src/lib/my_errors.h:inline void __myCudaSafeCall(cudaError err __attribute__((unused)), const char *file __attribute__((unused)), const int line __attribute__((unused))){
src/amuse/community/higpus/src/lib/my_errors.h:		if ( cudaSuccess != err ){
src/amuse/community/higpus/src/lib/my_errors.h:			std::cout<<" cudaSafeCall() FAILED at :"<<file<<"::"<<line<<":: "<<cudaGetErrorString(err)<<std::endl;
src/amuse/community/higpus/src/lib/my_errors.h:inline void __myCudaLastError(const char *file __attribute__((unused)), const int line __attribute__((unused))){
src/amuse/community/higpus/src/lib/my_errors.h:		cudaError_t err = cudaGetLastError();
src/amuse/community/higpus/src/lib/my_errors.h:		if( cudaSuccess != err ){
src/amuse/community/higpus/src/lib/my_errors.h:			std::cout<<" cudaCheckError() FAILED at :"<<file<<"::"<<line<<":: "<<cudaGetErrorString(err)<<std::endl;
src/amuse/community/higpus/src/lib/utilis.h:      cudaDeviceSynchronize();
src/amuse/community/higpus/src/lib/types.h:typedef enum { HNoError, HNoFile, HInvalidArgv, HNoLines, HInvalidFormat, HBcastFailed, HInvalidN, HNoMemory, HInvalidMeminfo, HNoGpus, HNoDouble, HNotFound, HInvalidBlocks, HNoDefPlummer, HNoDefPlummer2, HNoSpace, HNoNumber, HNoDefGalaxy, HNoDefGalaxy2} HostError; //new type
src/amuse/community/higpus/src/lib/types.h:struct HiGPUsTimes {
src/amuse/community/higpus/src/lib/functions.h:HostError getEnergyLine_HiGPUslog(string *lastLine, string path);
src/amuse/community/higpus/src/lib/functions.h:HostError CudaInit(unsigned int *M, int NGPU, int rank, string gpu_name, const bool setdev, vector<unsigned int> &dev, string path);
src/amuse/community/higpus/src/lib/functions.h:HostError Hermite6th(const double TTIME, double* GTIME, double* ATIME, double* local_time, double* step, const unsigned int N, const unsigned int M, double4* pos_PH, float4* vel_PH, double4* pos_CH, double4* vel_CH, double4* a_H0, const unsigned int MAXDIM, unsigned int NGPU, unsigned int TPB, int rank, int size, unsigned int BFMAX, double ETA6, double ETA4, double DTMAX, double DTMIN, double EPS, double DTPRINT, unsigned int FMAX, const bool warm, double GTW, unsigned int GPUMINTHREADS, double plummer_core, double plummer_mass, double rscale, double mscale, vector<unsigned int> devices, bool *cleanstop, string path);
src/amuse/community/higpus/src/lib/functions.h:HostError InitBlocks(double4 *pos_PH, float4 *vel_PH, unsigned int TPB, unsigned int N, unsigned int M, unsigned int BFMAX, double ETA4, double DTMIN, double DTMAX, unsigned int NGPU, double EPS, unsigned int *MAXDIM, unsigned int *GPUMINTHREADS, string gpu_name, int rank, int nodes, double4* pos_CH, double4* vel_CH, double4* a_H0, double* step, double* local_time, double* ACTUAL_TIME, const bool vir, const double ratio, const bool warm, const bool setdev, vector<unsigned int>& devices, double plummer_core, double plummer_mass, double rscale, double mscale, string path);
src/amuse/community/higpus/src/lib/functions.h:HostError Calculate_Energy(double4 **pos_CD, double4 **vel_CD, unsigned int N, double EPS, unsigned int TPB, unsigned int NGPU, int rank, unsigned int ppG, double *kin, double *pot, double plummer_core, double plummer_mass, double rscale, double mscale, vector<unsigned int> devices);
src/amuse/community/higpus/src/lib/functions.h:HostError Calculate_potential_Energy(double4 *pos_CH, double4 *vel_CH, unsigned int N, double EPS, unsigned int TPB, unsigned int NGPU, int rank, unsigned int *devices, unsigned int ppG, double *Energy, double plummer_core, double plummer_mass);
src/amuse/community/higpus/src/lib/functions.h:HostError isDivisible(unsigned int *N, unsigned int *M, int size, unsigned int NGPU, unsigned int TPB, unsigned int *BFMAX);
src/amuse/community/higpus/src/lib/functions.h:HostError ReduceAll(unsigned int cpy_size, unsigned int N, unsigned int NGPU, unsigned long nextsize, double4* a_H, double4 *a_H0, double *mpi_red_aux, double *mpi_red, int *);
src/amuse/community/higpus/src/lib/functions.h:HostError Max_dimension(unsigned int TPB, unsigned int BFMAX, unsigned int N, unsigned int *dim_max, unsigned int GPUMINTHREADS);
src/amuse/community/higpus/src/lib/functions.h:      unsigned int *gpus,
src/amuse/community/higpus/src/lib/functions.h:      string       *gpu_name,
src/amuse/community/higpus/src/lib/functions.h:HostError __MPIbcastParam(unsigned int *N, unsigned int *M, unsigned int *NGPU, unsigned int *TPB, double *TTIME,  double *DTMAX, double *DTMIN, double *EPS, double *ETA6, double *ETA4, double *DTPRINT, unsigned int *BMAX, string *gpu_name, int rank, int size);
src/amuse/community/higpus/src/lib/kernel.h:__global__ void Corrector_gpu(double GTIME,
src/amuse/community/higpus/src/lib/kernel.h:                				int ppgpus,
src/amuse/community/higpus/src/lib/kernel.h:                            int ppGpus,
src/amuse/community/higpus/src/src/cuda/main.cu:	unsigned int			N, M, NGPU, TPB, FMAX, BFMAX, MAXDIM, GPUMINTHREADS;
src/amuse/community/higpus/src/src/cuda/main.cu:	string					FINP, GPUNAME, warm_start_file, argument = " ", path = "./";
src/amuse/community/higpus/src/src/cuda/main.cu:	      HostSafeCall(cpu_read_params(param, &N, &NGPU, &TPB, &TTIME, &DTMAX, &DTMIN, &EPS,
src/amuse/community/higpus/src/src/cuda/main.cu:	                                    &ETA6, &ETA4, &DTPRINT, &FMAX, &CDM, &CDV, &FINP, &GPUNAME, path));
src/amuse/community/higpus/src/src/cuda/main.cu:	      HostSafeCall(isDivisible(&N, &M, size, NGPU, TPB, &BFMAX));
src/amuse/community/higpus/src/src/cuda/main.cu:	HostSafeCall(__MPIbcastParam(&N, &M, &NGPU, &TPB, &TTIME, &DTMAX, &DTMIN, &EPS, &ETA6, &ETA4, &DTPRINT, &BFMAX, &GPUNAME, rank, size));
src/amuse/community/higpus/src/src/cuda/main.cu:   HostSafeCall(InitBlocks(pos_PH, vel_PH, TPB, N, M, BFMAX, ETA4, DTMIN, DTMAX, NGPU, EPS, &MAXDIM, &GPUMINTHREADS, GPUNAME, rank, size, pos_CH, vel_CH, a_H0, step, local_time, &ATIME, VIR, ratio, warm_start, setdev, dev, plummer_core, plummer_mass, rscale, mscale, path));
src/amuse/community/higpus/src/src/cuda/main.cu:   HostSafeCall(Hermite6th(TTIME, &GTIME, &ATIME, local_time, step, N, M, pos_PH, vel_PH, pos_CH, vel_CH, a_H0, MAXDIM, NGPU, TPB, rank, size, BFMAX, ETA6, ETA4, DTMAX, DTMIN, EPS, DTPRINT, FMAX, warm_start, GTIME_WARM, GPUMINTHREADS, plummer_core, plummer_mass, rscale, mscale, dev, &cleanstop, path));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:HostError InitBlocks(double4 *pos_PH, float4 *vel_PH, unsigned int TPB, unsigned int N, unsigned int M, unsigned int BFMAX, double ETA4, double DTMIN, double DTMAX, unsigned int NGPU, double EPS, unsigned int *MAXDIM, unsigned int *GPUMINTHREADS, string gpu_name, int rank, int nodes, double4* pos_CH, double4* vel_CH, double4* a_H0, double* step, double* local_time, double* ACTUAL_TIME, const bool vir, const double ratio, const bool warm, const bool setdev, vector<unsigned int>& devices, double plummer_core, double plummer_mass, double rscale, double mscale, string path){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   HostSafeCall(CudaInit(GPUMINTHREADS, NGPU, rank, gpu_name, setdev, devices, path));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	HostSafeCall(Max_dimension(TPB, BFMAX, N, MAXDIM, *GPUMINTHREADS));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:    double4 **a_D    = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a1_D   = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a2_D   = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a_tot_D = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a1_tot_D = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a2_tot_D = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **pos_PD = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double  **loc_D  = new double*  [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   float4  **vel_PD = new float4*  [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   float4  **acc_PD = new float4*  [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **pos_CD = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **vel_CD = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a3_D    = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 **a_temp_Dev = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   double4 *a_H = new double4 [NGPU*3*N];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	int **next_D = new int* [NGPU];
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   while(threads*BL < *GPUMINTHREADS && threads > 32){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   while(threads*BL < *GPUMINTHREADS && Bfactor < bfmax){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu: 		DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a_D[i],    malloc_size));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a1_D[i],    malloc_size));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a2_D[i],    malloc_size));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a_tot_D[i], malloc_db4_N));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a1_tot_D[i], malloc_db4_N));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a2_tot_D[i], malloc_db4_N));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&pos_PD[i], malloc_db4));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&pos_CD[i], malloc_db4));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&vel_CD[i], malloc_db4));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&vel_PD[i], malloc_fl4));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&acc_PD[i], malloc_fl4));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&next_D[i], malloc_ui));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&loc_D[i],  malloc_db));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a3_D[i],   malloc_db4_N));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMalloc((void **)&a_temp_Dev[i], 3*malloc_db4_N));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy( pos_PD[i], pos_PH, malloc_db4, cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy( vel_PD[i], vel_PH, malloc_fl4, cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy( pos_CD[i], pos_CH, malloc_db4, cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy( vel_CD[i], vel_CH, malloc_db4, cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   int ppG = N/(NGPU*nodes);
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      HostSafeCall(Calculate_Energy(pos_CD, vel_CD, N, EPS, TPB, NGPU, rank, ppG, &kk, &pp, plummer_core, plummer_mass, rscale, mscale, devices));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:		temp = path + "HiGPUslog.dat";
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:		DeviceSafeCall(cudaMemcpy( vel_PD[i], vel_PH, malloc_fl4, cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:		DeviceSafeCall(cudaMemcpy( vel_CD[i], vel_CH, malloc_db4, cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy( next_D[i], next, malloc_ui, cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      int istart = ppG*(i+rank*NGPU);
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:		 DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy(&a_H[i*cpy_size], a_temp_Dev[i], cpy_size*sizeof(double4), cudaMemcpyDeviceToHost));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   HostSafeCall(ReduceAll(cpy_size, N, NGPU, nextsize, a_H, a_H0, mpi_red_aux, mpi_red, next));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy(a_tot_D[i], a_H0, N*sizeof(double4), cudaMemcpyHostToDevice));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy(a1_tot_D[i], &a_H0[N], N*sizeof(double4), cudaMemcpyHostToDevice));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy(a2_tot_D[i], &a_H0[2*N], N*sizeof(double4), cudaMemcpyHostToDevice));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      int istart = ppG*(i+rank*NGPU);
src/amuse/community/higpus/src/src/cuda/initblocks.cu:    for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      int istart = ppG*(i+rank*NGPU);
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:       DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	   for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:         DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaMemcpy(&a_H[i*cpy_size], a_temp_Dev[i], cpy_size*sizeof(double4), cudaMemcpyDeviceToHost));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:   HostSafeCall(ReduceAll(cpy_size, N, NGPU, nextsize,  a_H, a_H1, mpi_red_aux, mpi_red, next));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a_D[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a1_D[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a2_D[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a_tot_D[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a1_tot_D[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a2_tot_D[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(pos_PD[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(pos_CD[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(vel_CD[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(vel_PD[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(acc_PD[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(next_D[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(loc_D[i]));
src/amuse/community/higpus/src/src/cuda/initblocks.cu:      DeviceSafeCall(cudaFree(a3_D[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:HostError Hermite6th(const double TTIME, double* GTIME, double* ATIME, double* local_time, double* step, const unsigned int N, const unsigned int M, double4* pos_PH, float4* vel_PH, double4* pos_CH, double4* vel_CH, double4* a_H0, const unsigned int MAXDIM, unsigned int NGPU, unsigned int TPB, int rank, int size, unsigned int BFMAX, double ETA6, double ETA4, double DTMAX, double DTMIN, double EPS, double DTPRINT, unsigned int FMAX, const bool warm, double GTW, unsigned int GPUMINTHREADS, double plummer_core, double plummer_mass, double rscale, double mscale, vector<unsigned int> devices, bool *cleanstop, string path){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **pos_PD = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	float4  **vel_PD = new float4*  [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	float4  **acc_PD = new float4*  [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **pos_CD = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **vel_CD = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	int **next_D = new int* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double  **loc_D  = new double*  [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double **step_D  = new double* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:#ifdef GPUCORR
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double **step_D  = new double* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **a_D    = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:   double4 **a1_D   = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:   double4 **a2_D   = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:   double4 **a_tot_D = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:   double4 **a1_tot_D = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:   double4 **a2_tot_D = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **a3_D    = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **p_v_a3_Dev = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 **a_temp_Dev = new double4* [NGPU];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:   for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:#ifdef GPUCORR
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaHostAlloc((void**)&step_D[i], malloc_db, cudaHostAllocMapped));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMalloc((void **)&a_D[i],    malloc_size));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&a1_D[i],    malloc_size));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&a2_D[i],    malloc_size));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&a_tot_D[i], malloc_db4_N));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&a1_tot_D[i], malloc_db4_N));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&a2_tot_D[i], malloc_db4_N));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&pos_PD[i],  malloc_db4));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&pos_CD[i],  malloc_db4));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&vel_CD[i],  malloc_db4));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&vel_PD[i],  malloc_fl4));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&acc_PD[i],  malloc_fl4));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&next_D[i],  malloc_ui));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&loc_D[i],   malloc_db));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMalloc((void **)&step_D[i],   malloc_db));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMalloc((void **)&a3_D[i],    malloc_db4_N));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMalloc((void **)&p_v_a3_Dev[i], 3*malloc_db4_N));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMalloc((void **)&a_temp_Dev[i], 3*malloc_db4_N));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMemcpy( pos_PD[i], pos_PH,     malloc_db4,    cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMemcpy( vel_PD[i], vel_PH,     malloc_fl4,    cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMemcpy( pos_CD[i], pos_CH,     malloc_db4,    cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMemcpy( vel_CD[i], vel_CH,     malloc_db4,    cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMemcpy(a_tot_D[i], a_H0,        malloc_db4_N,  cudaMemcpyHostToDevice));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMemcpy(a1_tot_D[i], &a_H0[N],   malloc_db4_N,  cudaMemcpyHostToDevice));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMemcpy(a2_tot_D[i], &a_H0[2*N], malloc_db4_N,  cudaMemcpyHostToDevice));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMemcpy(  loc_D[i], local_time, malloc_db,     cudaMemcpyHostToDevice));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaMemcpy(  step_D[i], step, malloc_db,     cudaMemcpyHostToDevice));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int j = 0; j < NGPU; j++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:				DeviceSafeCall(cudaDeviceEnablePeerAccess(devices[j], 0));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:#ifdef GPUCORR
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	unsigned int ppG = N/(NGPU*size);
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	double4 *a_H = new double4 [NGPU*3*N];
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	   HostSafeCall(Calculate_Energy(pos_CD, vel_CD, N, EPS, TPB, NGPU, rank, ppG, &kk0, &pp0, plummer_core, plummer_mass, rscale, mscale, devices));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		temp = path + "HiGPUslog.dat";
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	HiGPUsTimes *Times;
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	Times = new HiGPUsTimes [N+1];
src/amuse/community/higpus/src/src/cuda/hermite6.cu://	HostSafeCall(GPU_memcheck(NGPU, devices, __FILE__, __LINE__));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			   temp = path + "HiGPUslog.dat";
src/amuse/community/higpus/src/src/cuda/hermite6.cu:#ifdef GPUCORR
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:				DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:				DeviceSafeCall(cudaMemcpy(next_D[i], next,  dim2 * sizeof( int ), cudaMemcpyHostToDevice));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:				int istart = ppG*(i+rank*NGPU);
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		while(THREADS*BLOCKS < GPUMINTHREADS && THREADS > 32){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		while(THREADS*BLOCKS < GPUMINTHREADS && Bfactor < bfmax){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:         DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		      int istart = ppG*(i+rank*NGPU);
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		  DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		  DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		      for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		      for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		         DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:       DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 1; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaSetDevice(devices[0]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaMemcpyPeer(p_v_a3_Dev[0], devices[0], a_temp_Dev[i], devices[i], cpy_size*sizeof(double4)));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		// QUI VA AGGIUNTA LA FUNZIONE CHE RIDUCE A_TEMP_DEV SU TUTTE LE GPU 0 E LO DAI POI A TUTTE LE GPU DI TUTTI I NODI : not yet implemented
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	   for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaMemcpy(&a_H[i*cpy_size], a_temp_Dev[i], cpy_size*sizeof(double4), cudaMemcpyDeviceToHost));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	   HostSafeCall(ReduceAll(cpy_size, N, NGPU, nextsize, a_H, a_H1, mpi_red_aux, mpi_red, next));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:#ifdef GPUCORR
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaMemcpy(a_temp_Dev[i], a_H, 3*nextsize*sizeof( double4 ), cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:         Corrector_gpu<<<DIMENSION/THREADS, THREADS>>>(*GTIME, loc_D[i], step_D[i], next_D[i], nextsize, pos_CD[i], vel_CD[i], 
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaSetDevice(devices[0]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/hermite6.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:         DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:         Corrector_gpu<<<DIMENSION/THREADS, THREADS>>>(*GTIME, loc_D[i], step_D[i], next_D[i], nextsize, pos_CD[i], vel_CD[i],
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaSetDevice(devices[0]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/hermite6.cu:      DeviceSafeCall(cudaMemcpy(step, step_D[0], N*sizeof(double), cudaMemcpyDeviceToHost));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:#ifndef GPUCORR
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:				DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:				DeviceSafeCall(cudaMemcpy(p_v_a3_Dev[i], p_v_a3, 3*nextsize*sizeof( double4 ), cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:				DeviceSafeCall(cudaMemcpy(a_temp_Dev[i], a_H,    3*nextsize*sizeof( double4 ), cudaMemcpyHostToDevice ));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:		for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaSetDevice(devices[0]));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaMemcpy( pos_CH, pos_CD[0],     malloc_db4,    cudaMemcpyDeviceToHost ));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:			DeviceSafeCall(cudaMemcpy( vel_CH, vel_CD[0],     malloc_db4,    cudaMemcpyDeviceToHost ));
src/amuse/community/higpus/src/src/cuda/hermite6.cu:				HostSafeCall(Calculate_Energy(pos_CD, vel_CD, N, EPS, TPB, NGPU, rank, ppG, &kk, &pp, plummer_core, plummer_mass, rscale, mscale, devices));
src/amuse/community/higpus/src/src/cuda/warmstart.cu:	out<<" This file shows the state of your Hard Disk while HiGPUs is running. "<<endl;
src/amuse/community/higpus/src/src/cuda/warmstart.cu:HostError getEnergyLine_HiGPUslog(string *lastLine, string path)
src/amuse/community/higpus/src/src/cuda/warmstart.cu:    temp = path + "HiGPUslog.dat";
src/amuse/community/higpus/src/src/cuda/warmstart.cu:   HostSafeCall(getEnergyLine_HiGPUslog(&last_line, path));
src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:__global__ void Corrector_gpu(double GTIME, 
src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:                				int ppgpus,
src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:int cost = ppgpus+istart;
src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:	int totgpus = N/ppG;
src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:      kin = 0.5/totgpus * myposition.w *(myvelocity.x*myvelocity.x +
src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:	AddPlummerEnergy(myposition, &pE, &plummer_core, &plummer_mass, totgpus);
src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:	AddGalacticEnergy(myposition, &pE, mscale, rscale, totgpus);
src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:                            int ppGpus,
src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:int particles = ppGpus/Bfactor;
src/amuse/community/higpus/src/src/cuda/cuda_kernels.cu:double tot_mul = 1.0/(N/ppGpus * Bfactor);
src/amuse/community/higpus/src/src/cuda/cudainit.cu:HostError CudaInit(unsigned int *M, int NGPU, int rank, string gpu_name, const bool setdev, vector<unsigned int> &dev, string path){
src/amuse/community/higpus/src/src/cuda/cudainit.cu:	cudaDeviceProp *properties;
src/amuse/community/higpus/src/src/cuda/cudainit.cu:	DeviceSafeCall(cudaGetDeviceCount(&count));
src/amuse/community/higpus/src/src/cuda/cudainit.cu:	properties = new cudaDeviceProp [count];
src/amuse/community/higpus/src/src/cuda/cudainit.cu:	unsigned int *to_use = new unsigned int [NGPU];
src/amuse/community/higpus/src/src/cuda/cudainit.cu:	if((unsigned)NGPU != dev.size() && setdev) return HNoNumber;
src/amuse/community/higpus/src/src/cuda/cudainit.cu:	   temp = path + "HiGPUslog.dat";
src/amuse/community/higpus/src/src/cuda/cudainit.cu:	if(count < NGPU || count <= 0)
src/amuse/community/higpus/src/src/cuda/cudainit.cu:		return HNoGpus;
src/amuse/community/higpus/src/src/cuda/cudainit.cu:		DeviceSafeCall(cudaGetDeviceProperties(&properties[i], i));
src/amuse/community/higpus/src/src/cuda/cudainit.cu:	    if(gpu_name.length()>0 && to_string(properties[i].name) != gpu_name) { 
src/amuse/community/higpus/src/src/cuda/cudainit.cu:		if(k >= NGPU) {break;} 
src/amuse/community/higpus/src/src/cuda/cudainit.cu:          if(to_string(properties[dev[i]].name) != gpu_name)
src/amuse/community/higpus/src/src/cuda/cudainit.cu:  if(k<NGPU)
src/amuse/community/higpus/src/src/cuda/cudainit.cu:     return HNoGpus;
src/amuse/community/higpus/src/src/cuda/cudainit.cu:		for(int i = 0; i < NGPU; i++)
src/amuse/community/higpus/src/src/cuda/cudainit.cu:		cout<<" Maximum number of parallel threads on the gpu : "<<*M<<endl;
src/amuse/community/higpus/src/src/cuda/cudainit.cu:	dev.resize(NGPU);
src/amuse/community/higpus/src/src/cuda/cudainit.cu:	for(int i = 0; i < NGPU; i++)
src/amuse/community/higpus/src/src/cuda/energy.cu:HostError Calculate_Energy(double4 **pos_CD, double4 **vel_CD, unsigned int N, double EPS, unsigned int THREADS, unsigned int NGPU, int rank, unsigned int ppG, double *kinetic, double *potential, double plummer_core, double plummer_mass, double rscale, double mscale, vector<unsigned int> devices){
src/amuse/community/higpus/src/src/cuda/energy.cu:   double *KH = new double [N*NGPU];
src/amuse/community/higpus/src/src/cuda/energy.cu:   double *PH = new double [N*NGPU];
src/amuse/community/higpus/src/src/cuda/energy.cu:   double *K [NGPU];
src/amuse/community/higpus/src/src/cuda/energy.cu:   double *P [NGPU];
src/amuse/community/higpus/src/src/cuda/energy.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaMalloc(( void**)&K[i], N*sizeof(double)));
src/amuse/community/higpus/src/src/cuda/energy.cu:		DeviceSafeCall(cudaMalloc(( void**)&P[i], N*sizeof(double)));
src/amuse/community/higpus/src/src/cuda/energy.cu:	for(unsigned int i = 0; i < NGPU; i++)
src/amuse/community/higpus/src/src/cuda/energy.cu:		DeviceSafeCall(cudaThreadSynchronize());
src/amuse/community/higpus/src/src/cuda/energy.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/energy.cu:      int istart = ppG*(i+rank*NGPU);
src/amuse/community/higpus/src/src/cuda/energy.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaMemcpy(&KH[i*N], K[i], N*sizeof(double), cudaMemcpyDeviceToHost));
src/amuse/community/higpus/src/src/cuda/energy.cu:		DeviceSafeCall(cudaMemcpy(&PH[i*N], P[i], N*sizeof(double), cudaMemcpyDeviceToHost));
src/amuse/community/higpus/src/src/cuda/energy.cu:      for(unsigned int dev = 1; dev < NGPU; dev++){
src/amuse/community/higpus/src/src/cuda/energy.cu:	for(unsigned int i = 0; i < NGPU; i++){
src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaSetDevice(devices[i]));
src/amuse/community/higpus/src/src/cuda/energy.cu:      DeviceSafeCall(cudaFree(P[i]));
src/amuse/community/higpus/src/src/cuda/energy.cu:		DeviceSafeCall(cudaFree(K[i]));
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      temp = path + "gpu_memory.dat";
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      temp = path + "HiGPUslog.dat";
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      temp = path + "gpu_memory.dat";
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      temp = path + "HiGPUslog.dat";
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      temp = path + "HiGPUslog.dat";
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:		temp = path + "HiGPUslog.dat";
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:            cout<<" ----------------------Help of HiGPUs------------------- "<<endl;
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:            cout<<" Usage : mpirun -np [#nodes] ./HiGPUs.x [options] "<<endl;
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:            cout<<"           -r [file] = restart the simulation from the specified file (HiGPUslog.dat is necessary !!)"<<endl;
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:				cout<<"           -d [id]:[id]: ... = enable manual selection of the available gpu devices "<<endl;
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:HostError isDivisible(unsigned int *N, unsigned int *M, int size, unsigned int NGPU, unsigned int TPB, unsigned int *BFMAX){
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:   int product = size*NGPU*TPB;
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:HostError Max_dimension(unsigned int TPB, unsigned int BFMAX, unsigned int N, unsigned int *dim_max, unsigned int GPUMINTHREADS){
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      while(threads*BL < GPUMINTHREADS && threads > 32){
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      while(threads*BL < GPUMINTHREADS && Bfactor < bfmax){
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      unsigned int *gpus,
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      string       *gpu_name,
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:		temp = path + "HiGPUslog.dat";
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:     fin_data >> *gpus;
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:     getline(fin_data, *gpu_name);
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:     getline(fin_data, *gpu_name);
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:     size_t found = gpu_name->find('#');
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:     gpu_name->resize(int(found));
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:     hlog<<" Gpus                : "<<*gpus<<endl;
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:HostError __MPIbcastParam(unsigned int *N, unsigned int *M, unsigned int *NGPU, unsigned int *TPB, double *TTIME,  double *DTMAX,
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:                           double *DTMIN, double *EPS, double *ETA6, double *ETA4, double *DTPRINT, unsigned int *BFMAX, string *gpu_name, int rank, int size){
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:      value = to_char(*gpu_name);
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:	MPISafeCall(MPI_Bcast( NGPU,  1, MPI_INT,    0, MPI_COMM_WORLD));
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:   *gpu_name = to_string(value);
src/amuse/community/higpus/src/src/cuda/cpu_func.cu:   return random_check_Bcast(rank, size, "4i-6d", *N, *NGPU, *TPB, *BFMAX, *TTIME, *DTMAX, *DTMIN, *EPS, *ETA6, *ETA4, *DTPRINT);
src/amuse/community/higpus/src/src/cuda/allreduce.cu:HostError ReduceAll(unsigned int cpy_size, unsigned int N, unsigned int NGPU, unsigned long nextsize, double4* a_H, double4 *a_H0, double *mpi_red_aux, double *mpi_red, int *next){
src/amuse/community/higpus/src/src/cuda/allreduce.cu:      for(unsigned int dev = 1; dev < NGPU; dev++){
src/amuse/community/bhtree/interface.py:        elif mode == "gpu":
src/amuse/community/bhtree/interface.py:            return 'bhtree_worker_gpu'
src/amuse/community/bhtree/Makefile:GPU_BUILDDIR = build_gpu
src/amuse/community/bhtree/Makefile:GPUCODELIB = $(GPU_BUILDDIR)/libbhtree.a
src/amuse/community/bhtree/Makefile:CUDA_LIBDIRS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64
src/amuse/community/bhtree/Makefile:CUDA_LIBS ?= $(CUDA_LIBDIRS) -lcudart
src/amuse/community/bhtree/Makefile:GPULIBS  =  $(CUDA_LIBS) $(SAPPORO_LIBS) -lpthread
src/amuse/community/bhtree/Makefile:$(GPU_BUILDDIR)/Makefile: $(BHTCDIR)/Makefile 
src/amuse/community/bhtree/Makefile:	-mkdir $(GPU_BUILDDIR) 
src/amuse/community/bhtree/Makefile:	cp $(BHTCDIR)/Makefile $(GPU_BUILDDIR)/Makefile
src/amuse/community/bhtree/Makefile:$(GPUCODELIB): $(GPU_BUILDDIR)/Makefile src/*.c src/*.h src/*.C
src/amuse/community/bhtree/Makefile:	make -C $(GPU_BUILDDIR) libbhtree.a CPPFLAGS=-DGPU VPATH=../src
src/amuse/community/bhtree/Makefile:	$(RM) -Rf $(BUILDDIR) $(GPU_BUILDDIR)
src/amuse/community/bhtree/Makefile:	$(RM) -f bhtree_worker_g6 bhtree_worker_gpu
src/amuse/community/bhtree/Makefile:#bhtree_worker_g6: worker_code.cc worker_code.h $(GPUCODELIB) $(OBJS)
src/amuse/community/bhtree/Makefile:#	$(MPICXX) $(CXXFLAGS) $(SC_FLAGS) worker_code.cc $(OBJS) $(GPUCODELIB) -o $@ $(SC_LIBS) $(G6LIBS)
src/amuse/community/bhtree/src/gravity.C:#ifdef GPU
src/amuse/community/bhtree/src/BHtree.C:#ifdef GPU
src/amuse/community/bhtree/src/BHtree.C:#ifdef GPU   
src/amuse/community/bhtree/src/BHtree.C:#ifndef GPU
src/amuse/community/bhtree/src/README:*** BHTC, while in the original release (and in the GPU version) it is
src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_read_grppar_usht  ffggpui
src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_read_grppar_ulng  ffggpuj
src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_read_grppar_uint  ffggpuk
src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_write_grppar_usht ffpgpui
src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_write_grppar_ulng ffpgpuj
src/amuse/community/simplex/src/plugins/HEALPix/include/longnam.h:#define fits_write_grppar_uint ffpgpuk
src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffggpui(fitsfile *fptr, long group, long firstelem, long nelem,
src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffggpuj(fitsfile *fptr, long group, long firstelem, long nelem,
src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffggpuk(fitsfile *fptr, long group, long firstelem, long nelem,
src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffpgpui(fitsfile *fptr, long group, long firstelem,
src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffpgpuj(fitsfile *fptr, long group, long firstelem,
src/amuse/community/simplex/src/plugins/HEALPix/include/fitsio.h:int ffpgpuk(fitsfile *fptr, long group, long firstelem,
src/amuse/community/bonsai2/Makefile:CUDA_TK ?= /usr/local/cuda/
src/amuse/community/bonsai2/Makefile:CUDA_LIBS ?= -L$(CUDA_TK)/lib -L$(CUDA_TK)/lib64 -lcuda 
src/amuse/community/bonsai2/Makefile:#CXXFLAGS += -I$(CUDA_TK)/include
src/amuse/community/bonsai2/Makefile:LIBS += $(CUDA_LIBS) $(LDFLAGS) $(CUDA_LIBDIRS) -L/usr/lib64/nvidia $(SC_MPI_CLIBS)
src/amuse/community/bonsai2/Makefile:INCLUDES = -I$(CUDA_TK)/include $(SC_FLAGS)
src/amuse/community/bonsai2/Makefile:$(CUDA_TK):
src/amuse/community/bonsai2/Makefile:	@echo "CUDA_TK variable is not set to a valid path,"
src/amuse/community/bonsai2/Makefile:	@echo "please set the CUDA_TK variable to the directory"
src/amuse/community/bonsai2/Makefile:	@echo "where you installed CUDA"
src/amuse/community/bonsai2/Makefile:	@echo "the CUDA_TK directory must contain a bin directory with the <nvcc> executable"
src/amuse/community/bonsai2/Makefile:compile: $(CUDA_TK) $(CODELIB)
src/amuse/community/bonsai2/Makefile:#	make -C src all CXX="$(MPICXX)" CUDA_TK="$(CUDA_TK)" LD="$(MPICXX)" LDFLAGS="$(LIBS)" INCLUDES="$(INCLUDES)"
src/amuse/community/bonsai2/libraryInterface.cpp:my_dev::context cudaContext;
src/amuse/community/bonsai2/libraryInterface.cpp:  cudaContext.create(logFile, false);
src/amuse/community/bonsai2/libraryInterface.cpp:  cudaContext.createQueue(devID);
src/amuse/community/bonsai2/libraryInterface.cpp:  cudaContext.setLogPreamble("AMUSE-run ");
src/amuse/community/bonsai2/libraryInterface.cpp:          &cudaContext,
config.mk.in:# Libraries: FFTW, GSL, HDF5, CUDA, SAPPORO
config.mk.in:CUDA_ENABLED=@WITH_CUDA@
config.mk.in:CUDA_TK=@CUDA_TK@
config.mk.in:CUDA_LIBS=@CUDA_LIBS@
config.mk.in:export NVCC CUDA_TK CUDA_LIBS CUDA_ENABLED

```
